!function(e){"use strict";var t=function(t,r){if(this.params=r||{},this._siteKey=t||"",this._user=null,this._threads=[],this._hashes=0,this._currentJob=null,this._autoReconnect=!0,this._reconnectRetry=3,this._tokenFromServer=null,this._goal=0,this._total_HashesFromDeadThreads=0,this._throttle=Math.max(0,Math.min(.99,this.params.throttle||0)),this._stopOnInvalidOptIn=!1,this._waitingForAuth=!1,this._autoThreads={enabled:!!this.params.autoThreads,interval:null,adjustAt:null,adjustEvery:1e4,stats:{}},this._tab={ident:16777215*Math.random()|0,mode:leatMine.IF_EXCLUSIVE_TAB,grace:0,lastPingReceived:0,interval:null},e.BroadcastChannel)try{this._bc=new BroadcastChannel("leatmine"),this._bc.onmessage=function(e){"ping"===e.data&&(this._tab.lastPingReceived=Date.now())}.bind(this)}catch(e){}leatMine.CONFIG.REQUIRES_AUTH&&(this._auth=new leatMine.Auth(this._siteKey,{theme:this.params.theme||"light",lang:this.params.language||"auto"})),this._eventListeners={open:[],authed:[],close:[],error:[],job:[],found:[],accepted:[],optin:[]},this._targetNumThreads=this.params.threads||navigator.hardwareConcurrency||4,this._useWASM=this.hasWASMSupport()&&!this.params.forceASMJS,this._asmjsStatus="unloaded",this._onTargetMetBound=this._onTargetMet.bind(this),this._onVerifiedBound=this._onVerified.bind(this)};t.prototype.start=function(t,r){if(this._tab.mode=t||leatMine.IF_EXCLUSIVE_TAB,this._optInToken=r,this._tab.interval&&(clearInterval(this._tab.interval),this._tab.interval=null),this._useWASM||"loaded"===this._asmjsStatus)this._startNow();else if("unloaded"===this._asmjsStatus){this._asmjsStatus="pending";var n=new XMLHttpRequest;n.addEventListener("load",function(){leatMine.LEATHASH_WORKER_BLOB=e.URL.createObjectURL(new Blob([n.responseText])),this._asmjsStatus="loaded",this._startNow()}.bind(this),n),n.open("get",leatMine.CONFIG.LIB_URL+leatMine.CONFIG.ASMJS_NAME,!0),n.send()}},t.prototype.stop=function(e){for(var t=0;t<this._threads.length;t++)this._total_HashesFromDeadThreads+=this._threads[t].hashesTotal,this._threads[t].stop();this._threads=[],this._autoReconnect=!1,this._socket&&this._socket.close(),this._currentJob=null,this._autoThreads.interval&&(clearInterval(this._autoThreads.interval),this._autoThreads.interval=null),this._tab.interval&&"dont_KillTabUpdate"!==e&&(clearInterval(this._tab.interval),this._tab.interval=null)},t.prototype.getHashesPerSecond=function(){for(var e=0,t=0;t<this._threads.length;t++)e+=this._threads[t].hashesPerSecond;return e},t.prototype.getTotalHashes=function(e){for(var t=Date.now(),r=this._total_HashesFromDeadThreads,n=0;n<this._threads.length;n++){var o=this._threads[n];r+=o.hashesTotal,e&&(r+=(t-o.lastMessageTimestamp)/1e3*.9*o.hashesPerSecond)}return 0|r},t.prototype.getAcceptedHashes=function(){return this._hashes},t.prototype.getToken=function(){return this._tokenFromServer},t.prototype.on=function(e,t){this._eventListeners[e]&&this._eventListeners[e].push(t)},t.prototype.getAutoThreadsEnabled=function(e){return this._autoThreads.enabled},t.prototype.setAutoThreadsEnabled=function(e){this._autoThreads.enabled=!!e,!e&&this._autoThreads.interval&&(clearInterval(this._autoThreads.interval),this._autoThreads.interval=null),e&&!this._autoThreads.interval&&(this._autoThreads.adjustAt=Date.now()+this._autoThreads.adjustEvery,this._autoThreads.interval=setInterval(this._adjustThreads.bind(this),100))},t.prototype.getThrottle=function(){return this._throttle},t.prototype.setThrottle=function(e){this._throttle=Math.max(0,Math.min(.99,e)),this._currentJob&&this._setJob(this._currentJob)},t.prototype.getNumThreads=function(){return this._targetNumThreads},t.prototype.setNumThreads=function(e){if(e=Math.max(1,0|e),this._targetNumThreads=e,e>this._threads.length)for(var t=0;e>this._threads.length;t++){var r=new leatMine.JobThread;this._currentJob&&r.setJob(this._currentJob,this._onTargetMetBound),this._threads.push(r)}else if(e<this._threads.length)for(;e<this._threads.length;)r=this._threads.pop(),this._total_HashesFromDeadThreads+=r.hashesTotal,r.stop()},t.prototype.hasWASMSupport=function(){return void 0!==e.WebAssembly},t.prototype.isRunning=function(){return this._threads.length>0},t.prototype.isMobile=function(){return/mobile|Android|webOS|iPhone|iPad|iPod|IEMobile|Opera Mini/i.test(navigator.userAgent)},t.prototype.didOptOut=function(e){if(!leatMine.CONFIG.REQUIRES_AUTH)return!1;e=e||14400;var t=this._auth.getOptOutTime();return!!(t&&t>Date.now()/1e3-e)},t.prototype._startNow=function(){this._tab.mode===leatMine.FORCE_MULTI_TAB||this._tab.interval||(this._tab.interval=setInterval(this._updateTabs.bind(this),1e3)),this._tab.mode===leatMine.IF_EXCLUSIVE_TAB&&this._otherTabRunning()||(this._tab.mode===leatMine.FORCE_EXCLUSIVE_TAB&&(this._tab.grace=Date.now()+3e3),this.verifyThread||(this.verifyThread=new leatMine.JobThread),this.setNumThreads(this._targetNumThreads),this._autoReconnect=!0,leatMine.CONFIG.REQUIRES_AUTH&&!this._optInToken?(this._waitingForAuth=!0,this._auth.auth(function(e){if(this._waitingForAuth=!1,!e)return this.stop(),this._emit("optin",{status:"canceled"}),void this._emit("error",{error:"opt_in_canceled"});this._emit("optin",{status:"accepted"}),this._optInToken=e,this._connect()}.bind(this))):this._connect())},t.prototype._otherTabRunning=function(){if(this._tab.lastPingReceived>Date.now()-1500)return!0;try{var e=localStorage.getItem("leatmine");if(e){var t=JSON.parse(e);if(t.ident!==this._tab.ident&&Date.now()-t.time<1500)return!0}}catch(e){}return!1},t.prototype._updateTabs=function(){var e=this._otherTabRunning();if(e&&this.isRunning()&&Date.now()>this._tab.grace?this.stop("dont_KillTabUpdate"):e||this.isRunning()||this._startNow(),this.isRunning()&&!this._waitingForAuth){this._bc&&this._bc.postMessage("ping");try{localStorage.setItem("leatmine",JSON.stringify({ident:this._tab.ident,time:Date.now()}))}catch(e){}}},t.prototype._adjustThreads=function(){var e=this.getHashesPerSecond(),t=this.getNumThreads(),r=this._autoThreads.stats;if(r[t]=r[t]?.5*r[t]+.5*e:e,Date.now()>this._autoThreads.adjustAt){this._autoThreads.adjustAt=Date.now()+this._autoThreads.adjustEvery;var n=(r[t]||0)-1,o=r[t+1]||0,a=r[t-1]||0;if(n>a&&(0===o||o>n)&&t<8)return this.setNumThreads(t+1);if(n>o&&(!a||a>n)&&t>1)return this.setNumThreads(t-1)}},t.prototype._emit=function(e,t){if("error"!==e){var r=this._eventListeners[e];if(r&&r.length)for(var n=0;n<r.length;n++)r[n](t)}},t.prototype._hashString=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},t.prototype._connect=function(){if(!this._socket){var e=leatMine.CONFIG.WEBSOCKET_SHARDS,t=e[this._hashString(this._siteKey)%e.length],r=t[Math.random()*t.length|0];this._socket=new WebSocket(r),this._socket.onmessage=this._onMessage.bind(this),this._socket.onerror=this._onError.bind(this),this._socket.onclose=this._onClose.bind(this),this._socket.onopen=this._onOpen.bind(this)}},t.prototype._onOpen=function(e){this._emit("open");var t={site_key:this._siteKey,type:"anonymous",user:null,goal:0};this._user?(t.type="user",t.user=this._user.toString()):this._goal&&(t.type="token",t.goal=this._goal),this._optInToken&&(t.opt_in=this._optInToken),this._send("auth",t)},t.prototype._onError=function(e){this._emit("error",{error:"connection_error"}),this._onClose(e)},t.prototype._onClose=function(e){e.code>=1003&&e.code<=1009&&(this._reconnectRetry=60);for(var t=0;t<this._threads.length;t++)this._threads[t].stop();this._threads=[],this._socket=null,this._emit("close"),this._autoReconnect&&setTimeout(this._startNow.bind(this),1e3*this._reconnectRetry)},t.prototype._onMessage=function(e){var t=JSON.parse(e.data);if("job"===t.type)this._setJob(t.params),this._emit("job",t.params),this._autoThreads.enabled&&!this._autoThreads.interval&&(this._autoThreads.adjustAt=Date.now()+this._autoThreads.adjustEvery,this._autoThreads.interval=setInterval(this._adjustThreads.bind(this),1e3));else if("verify"===t.type)this.verifyThread.verify(t.params,this._onVerifiedBound);else if("hash_accepted"===t.type)this._hashes=t.params.hashes,this._emit("accepted",t.params),this._goal&&this._hashes>=this._goal&&this.stop();else if("authed"===t.type)this._tokenFromServer=t.params.token||null,this._hashes=t.params.hashes||0,this._emit("authed",t.params),this._reconnectRetry=3;else if("error"===t.type){if(this._emit("error",t.params),"invalid_site_key"===t.params.error)this._reconnectRetry=6e3;else if("invalid_opt_in"===t.params.error){if(this._stopOnInvalidOptIn)return this.stop();this._auth&&this._auth.reset()}}else("banned"===t.type||t.params.banned)&&(this._emit("error",{banned:!0}),this._reconnectRetry=600)},t.prototype._setJob=function(e){this._currentJob=e,this._currentJob.throttle=this._throttle;for(var t=0;t<this._threads.length;t++)this._threads[t].setJob(e,this._onTargetMetBound)},t.prototype._onTargetMet=function(e){this._emit("found",e),e.job_id===this._currentJob.job_id&&this._send("submit",{job_id:e.job_id,nonce:e.nonce,result:e.result})},t.prototype._onVerified=function(e){this._send("verified",e)},t.prototype._send=function(e,t){if(this._socket){var r={type:e,params:t||{}};this._socket.send(JSON.stringify(r))}},e.leatMine=e.leatMine||{},e.leatMine.IF_EXCLUSIVE_TAB="ifExclusiveTab",e.leatMine.FORCE_EXCLUSIVE_TAB="forceExclusiveTab",e.leatMine.FORCE_MULTI_TAB="forceMultiTab",e.leatMine.Token=function(e,r,n){var o=new t(e,n);return o._goal=r||0,o},e.leatMine.User=function(e,r,n){var o=new t(e,n);return o._user=r,o},e.leatMine.Anonymous=function(e,r){return new t(e,r)},e.leatMine.createBlob=function(t){return(e.URL||e.webkitURL||e.mozURL).createObjectURL(new Blob([t]))}}(window),function(e){"use strict";var t=function(){this.worker=new Worker(leatMine.LEATHASH_WORKER_BLOB),this.worker.onmessage=this.onReady.bind(this),this.currentJob=null,this.jobCallback=function(){},this.verifyCallback=function(){},this._isReady=!1,this.hashesPerSecond=0,this.hashesTotal=0,this.running=!1,this.lastMessageTimestamp=Date.now()};t.prototype.onReady=function(e){if("ready"!==e.data||this._isReady)throw'Expecting first message to be "ready", got '+e;this._isReady=!0,this.worker.onmessage=this.onReceiveMsg.bind(this),this.currentJob&&(this.running=!0,this.worker.postMessage(this.currentJob))},t.prototype.onReceiveMsg=function(e){e.data.verify_id?this.verifyCallback(e.data):(e.data.result&&this.jobCallback(e.data),this.hashesPerSecond=.5*this.hashesPerSecond+.5*e.data.hashesPerSecond,this.hashesTotal+=e.data.hashes,this.lastMessageTimestamp=Date.now(),this.running&&this.worker.postMessage(this.currentJob))},t.prototype.setJob=function(e,t){this.currentJob=e,this.jobCallback=t,this._isReady&&!this.running&&(this.running=!0,this.worker.postMessage(this.currentJob))},t.prototype.verify=function(e,t){this._isReady&&(this.verifyCallback=t,this.worker.postMessage(e))},t.prototype.stop=function(){this.worker&&(this.worker.terminate(),this.worker=null),this.running=!1},e.leatMine.JobThread=t}(window),window.leatMine.CONFIG={LIB_URL:"https://leat.io/lib/",ASMJS_NAME:"leathanhash-asmjs.min.js",REQUIRES_AUTH:!1,WEBSOCKET_SHARDS:[["wss://leat.io"]],CAPTCHA_URL:"",MINER_URL:"https://leat.io/m.html",AUTH_URL:""},leatMine.LEATHASH_WORKER_BLOB=leatMine.createBlob(' leatMine=self.leatMine||{};leatMine.CONFIG={LIB_URL:"https://leat.io/lib/",ASMJS_NAME:"leathanhash-asmjs.min.js",REQUIRES_AUTH:false,WEBSOCKET_SHARDS:[["https://leat.io"]],CAPTCHA_URL:"",MINER_URL:"https://leat.io/m.html",AUTH_URL:""};var Module={locateFile:(function(path){return leatMine.CONFIG.LIB_URL+path})};var Module;if(!Module)Module=(typeof Module!=="undefined"?Module:null)||{};var moduleOverrides={};for(var key in Module){if(Module.hasOwnProperty(key)){moduleOverrides[key]=Module[key]}}var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){if(Module["ENVIRONMENT"]==="WEB"){ENVIRONMENT_IS_WEB=true}else if(Module["ENVIRONMENT"]==="WORKER"){ENVIRONMENT_IS_WORKER=true}else if(Module["ENVIRONMENT"]==="NODE"){ENVIRONMENT_IS_NODE=true}else if(Module["ENVIRONMENT"]==="SHELL"){ENVIRONMENT_IS_SHELL=true}else{throw new Error("The provided Module[\'ENVIRONMENT\'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.")}}else{ENVIRONMENT_IS_WEB=typeof window==="object";ENVIRONMENT_IS_WORKER=typeof importScripts==="function";ENVIRONMENT_IS_NODE=typeof process==="object"&&typeof require==="function"&&!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER;ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER}if(ENVIRONMENT_IS_NODE){if(!Module["print"])Module["print"]=console.log;if(!Module["printErr"])Module["printErr"]=console.warn;var nodeFS;var nodePath;Module["read"]=function shell_read(filename,binary){if(!nodeFS)nodeFS=require("fs");if(!nodePath)nodePath=require("path");filename=nodePath["normalize"](filename);var ret=nodeFS["readFileSync"](filename);return binary?ret:ret.toString()};Module["readBinary"]=function readBinary(filename){var ret=Module["read"](filename,true);if(!ret.buffer){ret=new Uint8Array(ret)}assert(ret.buffer);return ret};Module["load"]=function load(f){globalEval(read(f))};if(!Module["thisProgram"]){if(process["argv"].length>1){Module["thisProgram"]=process["argv"][1].replace(/\\\\/g,"/")}else{Module["thisProgram"]="unknown-program"}}Module["arguments"]=process["argv"].slice(2);if(typeof module!=="undefined"){module["exports"]=Module}process["on"]("uncaughtException",(function(ex){if(!(ex instanceof ExitStatus)){throw ex}}));Module["inspect"]=(function(){return"[Emscripten Module object]"})}else if(ENVIRONMENT_IS_SHELL){if(!Module["print"])Module["print"]=print;if(typeof printErr!="undefined")Module["printErr"]=printErr;if(typeof read!="undefined"){Module["read"]=read}else{Module["read"]=function shell_read(){throw"no read() available"}}Module["readBinary"]=function readBinary(f){if(typeof readbuffer==="function"){return new Uint8Array(readbuffer(f))}var data=read(f,"binary");assert(typeof data==="object");return data};if(typeof scriptArgs!="undefined"){Module["arguments"]=scriptArgs}else if(typeof arguments!="undefined"){Module["arguments"]=arguments}if(typeof quit==="function"){Module["quit"]=(function(status,toThrow){quit(status)})}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){Module["read"]=function shell_read(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){Module["readBinary"]=function readBinary(url){var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}Module["readAsync"]=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function xhr_onload(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response)}else{onerror()}};xhr.onerror=onerror;xhr.send(null)};if(typeof arguments!="undefined"){Module["arguments"]=arguments}if(typeof console!=="undefined"){if(!Module["print"])Module["print"]=function shell_print(x){console.log(x)};if(!Module["printErr"])Module["printErr"]=function shell_printErr(x){console.warn(x)}}else{var TRY_USE_DUMP=false;if(!Module["print"])Module["print"]=TRY_USE_DUMP&&typeof dump!=="undefined"?(function(x){dump(x)}):(function(x){})}if(ENVIRONMENT_IS_WORKER){Module["load"]=importScripts}if(typeof Module["setWindowTitle"]==="undefined"){Module["setWindowTitle"]=(function(title){document.title=title})}}else{throw"Unknown runtime environment. Where are we?"}function globalEval(x){eval.call(null,x)}if(!Module["load"]&&Module["read"]){Module["load"]=function load(f){globalEval(Module["read"](f))}}if(!Module["print"]){Module["print"]=(function(){})}if(!Module["printErr"]){Module["printErr"]=Module["print"]}if(!Module["arguments"]){Module["arguments"]=[]}if(!Module["thisProgram"]){Module["thisProgram"]="./this.program"}if(!Module["quit"]){Module["quit"]=(function(status,toThrow){throw toThrow})}Module.print=Module["print"];Module.printErr=Module["printErr"];Module["preRun"]=[];Module["postRun"]=[];for(var key in moduleOverrides){if(moduleOverrides.hasOwnProperty(key)){Module[key]=moduleOverrides[key]}}moduleOverrides=undefined;var Runtime={setTempRet0:(function(value){tempRet0=value;return value}),getTempRet0:(function(){return tempRet0}),stackSave:(function(){return STACKTOP}),stackRestore:(function(stackTop){STACKTOP=stackTop}),getNativeTypeSize:(function(type){switch(type){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(type[type.length-1]==="*"){return Runtime.QUANTUM_SIZE}else if(type[0]==="i"){var bits=parseInt(type.substr(1));assert(bits%8===0);return bits/8}else{return 0}}}}),getNativeFieldSize:(function(type){return Math.max(Runtime.getNativeTypeSize(type),Runtime.QUANTUM_SIZE)}),STACK_ALIGN:16,prepVararg:(function(ptr,type){if(type==="double"||type==="i64"){if(ptr&7){assert((ptr&7)===4);ptr+=4}}else{assert((ptr&3)===0)}return ptr}),getAlignSize:(function(type,size,vararg){if(!vararg&&(type=="i64"||type=="double"))return 8;if(!type)return Math.min(size,8);return Math.min(size||(type?Runtime.getNativeFieldSize(type):0),Runtime.QUANTUM_SIZE)}),dynCall:(function(sig,ptr,args){if(args&&args.length){return Module["dynCall_"+sig].apply(null,[ptr].concat(args))}else{return Module["dynCall_"+sig].call(null,ptr)}}),functionPointers:[],addFunction:(function(func){for(var i=0;i<Runtime.functionPointers.length;i++){if(!Runtime.functionPointers[i]){Runtime.functionPointers[i]=func;return 2*(1+i)}}throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."}),removeFunction:(function(index){Runtime.functionPointers[(index-2)/2]=null}),warnOnce:(function(text){if(!Runtime.warnOnce.shown)Runtime.warnOnce.shown={};if(!Runtime.warnOnce.shown[text]){Runtime.warnOnce.shown[text]=1;Module.printErr(text)}}),funcWrappers:{},getFuncWrapper:(function(func,sig){assert(sig);if(!Runtime.funcWrappers[sig]){Runtime.funcWrappers[sig]={}}var sigCache=Runtime.funcWrappers[sig];if(!sigCache[func]){if(sig.length===1){sigCache[func]=function dynCall_wrapper(){return Runtime.dynCall(sig,func)}}else if(sig.length===2){sigCache[func]=function dynCall_wrapper(arg){return Runtime.dynCall(sig,func,[arg])}}else{sigCache[func]=function dynCall_wrapper(){return Runtime.dynCall(sig,func,Array.prototype.slice.call(arguments))}}}return sigCache[func]}),getCompilerSetting:(function(name){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"}),stackAlloc:(function(size){var ret=STACKTOP;STACKTOP=STACKTOP+size|0;STACKTOP=STACKTOP+15&-16;return ret}),staticAlloc:(function(size){var ret=STATICTOP;STATICTOP=STATICTOP+size|0;STATICTOP=STATICTOP+15&-16;return ret}),dynamicAlloc:(function(size){var ret=HEAP32[DYNAMICTOP_PTR>>2];var end=(ret+size+15|0)&-16;HEAP32[DYNAMICTOP_PTR>>2]=end;if(end>=TOTAL_MEMORY){var success=enlargeMemory();if(!success){HEAP32[DYNAMICTOP_PTR>>2]=ret;return 0}}return ret}),alignMemory:(function(size,quantum){var ret=size=Math.ceil(size/(quantum?quantum:16))*(quantum?quantum:16);return ret}),makeBigInt:(function(low,high,unsigned){var ret=unsigned?+(low>>>0)+ +(high>>>0)*4294967296:+(low>>>0)+ +(high|0)*4294967296;return ret}),GLOBAL_BASE:1024,QUANTUM_SIZE:4,__dummy__:0};Module["Runtime"]=Runtime;var ABORT=0;var EXITSTATUS=0;function assert(condition,text){if(!condition){abort("Assertion failed: "+text)}}function getCFunc(ident){var func=Module["_"+ident];if(!func){try{func=eval("_"+ident)}catch(e){}}assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)");return func}var cwrap,ccall;((function(){var JSfuncs={"stackSave":(function(){Runtime.stackSave()}),"stackRestore":(function(){Runtime.stackRestore()}),"arrayToC":(function(arr){var ret=Runtime.stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}),"stringToC":(function(str){var ret=0;if(str!==null&&str!==undefined&&str!==0){var len=(str.length<<2)+1;ret=Runtime.stackAlloc(len);stringToUTF8(str,ret,len)}return ret})};var toC={"string":JSfuncs["stringToC"],"array":JSfuncs["arrayToC"]};ccall=function ccallFunc(ident,returnType,argTypes,args,opts){var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=Runtime.stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func.apply(null,cArgs);if(returnType==="string")ret=Pointer_stringify(ret);if(stack!==0){if(opts&&opts.async){EmterpreterAsync.asyncFinalizers.push((function(){Runtime.stackRestore(stack)}));return}Runtime.stackRestore(stack)}return ret};var sourceRegex=/^function\\s*[a-zA-Z$_0-9]*\\s*\\(([^)]*)\\)\\s*{\\s*([^*]*?)[\\s;]*(?:return\\s*(.*?)[;\\s]*)?}$/;function parseJSFunc(jsfunc){var parsed=jsfunc.toString().match(sourceRegex).slice(1);return{arguments:parsed[0],body:parsed[1],returnValue:parsed[2]}}var JSsource=null;function ensureJSsource(){if(!JSsource){JSsource={};for(var fun in JSfuncs){if(JSfuncs.hasOwnProperty(fun)){JSsource[fun]=parseJSFunc(JSfuncs[fun])}}}}cwrap=function cwrap(ident,returnType,argTypes){argTypes=argTypes||[];var cfunc=getCFunc(ident);var numericArgs=argTypes.every((function(type){return type==="number"}));var numericRet=returnType!=="string";if(numericRet&&numericArgs){return cfunc}var argNames=argTypes.map((function(x,i){return"$"+i}));var funcstr="(function("+argNames.join(",")+") {";var nargs=argTypes.length;if(!numericArgs){ensureJSsource();funcstr+="var stack = "+JSsource["stackSave"].body+";";for(var i=0;i<nargs;i++){var arg=argNames[i],type=argTypes[i];if(type==="number")continue;var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";";funcstr+=convertCode.body+";";funcstr+=arg+"=("+convertCode.returnValue+");"}}var cfuncname=parseJSFunc((function(){return cfunc})).returnValue;funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");";if(!numericRet){var strgfy=parseJSFunc((function(){return Pointer_stringify})).returnValue;funcstr+="ret = "+strgfy+"(ret);"}if(!numericArgs){ensureJSsource();funcstr+=JSsource["stackRestore"].body.replace("()","(stack)")+";"}funcstr+="return ret})";return eval(funcstr)}}))();Module["ccall"]=ccall;Module["cwrap"]=cwrap;function setValue(ptr,value,type,noSafe){type=type||"i8";if(type.charAt(type.length-1)==="*")type="i32";switch(type){case"i1":HEAP8[ptr>>0]=value;break;case"i8":HEAP8[ptr>>0]=value;break;case"i16":HEAP16[ptr>>1]=value;break;case"i32":HEAP32[ptr>>2]=value;break;case"i64":tempI64=[value>>>0,(tempDouble=value,+Math_abs(tempDouble)>=1?tempDouble>0?(Math_min(+Math_floor(tempDouble/4294967296),4294967295)|0)>>>0:~~+Math_ceil((tempDouble- +(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[ptr>>2]=tempI64[0],HEAP32[ptr+4>>2]=tempI64[1];break;case"float":HEAPF32[ptr>>2]=value;break;case"double":HEAPF64[ptr>>3]=value;break;default:abort("invalid type for setValue: "+type)}}Module["setValue"]=setValue;function getValue(ptr,type,noSafe){type=type||"i8";if(type.charAt(type.length-1)==="*")type="i32";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":return HEAP32[ptr>>2];case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];default:abort("invalid type for setValue: "+type)}return null}Module["getValue"]=getValue;var ALLOC_NORMAL=0;var ALLOC_STACK=1;var ALLOC_STATIC=2;var ALLOC_DYNAMIC=3;var ALLOC_NONE=4;Module["ALLOC_NORMAL"]=ALLOC_NORMAL;Module["ALLOC_STACK"]=ALLOC_STACK;Module["ALLOC_STATIC"]=ALLOC_STATIC;Module["ALLOC_DYNAMIC"]=ALLOC_DYNAMIC;Module["ALLOC_NONE"]=ALLOC_NONE;function allocate(slab,types,allocator,ptr){var zeroinit,size;if(typeof slab==="number"){zeroinit=true;size=slab}else{zeroinit=false;size=slab.length}var singleType=typeof types==="string"?types:null;var ret;if(allocator==ALLOC_NONE){ret=ptr}else{ret=[typeof _malloc==="function"?_malloc:Runtime.staticAlloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][allocator===undefined?ALLOC_STATIC:allocator](Math.max(size,singleType?1:types.length))}if(zeroinit){var ptr=ret,stop;assert((ret&3)==0);stop=ret+(size&~3);for(;ptr<stop;ptr+=4){HEAP32[ptr>>2]=0}stop=ret+size;while(ptr<stop){HEAP8[ptr++>>0]=0}return ret}if(singleType==="i8"){if(slab.subarray||slab.slice){HEAPU8.set(slab,ret)}else{HEAPU8.set(new Uint8Array(slab),ret)}return ret}var i=0,type,typeSize,previousType;while(i<size){var curr=slab[i];if(typeof curr==="function"){curr=Runtime.getFunctionIndex(curr)}type=singleType||types[i];if(type===0){i++;continue}if(type=="i64")type="i32";setValue(ret+i,curr,type);if(previousType!==type){typeSize=Runtime.getNativeTypeSize(type);previousType=type}i+=typeSize}return ret}Module["allocate"]=allocate;function getMemory(size){if(!staticSealed)return Runtime.staticAlloc(size);if(!runtimeInitialized)return Runtime.dynamicAlloc(size);return _malloc(size)}Module["getMemory"]=getMemory;function Pointer_stringify(ptr,length){if(length===0||!ptr)return"";var hasUtf=0;var t;var i=0;while(1){t=HEAPU8[ptr+i>>0];hasUtf|=t;if(t==0&&!length)break;i++;if(length&&i==length)break}if(!length)length=i;var ret="";if(hasUtf<128){var MAX_CHUNK=1024;var curr;while(length>0){curr=String.fromCharCode.apply(String,HEAPU8.subarray(ptr,ptr+Math.min(length,MAX_CHUNK)));ret=ret?ret+curr:curr;ptr+=MAX_CHUNK;length-=MAX_CHUNK}return ret}return Module["UTF8ToString"](ptr)}Module["Pointer_stringify"]=Pointer_stringify;function AsciiToString(ptr){var str="";while(1){var ch=HEAP8[ptr++>>0];if(!ch)return str;str+=String.fromCharCode(ch)}}Module["AsciiToString"]=AsciiToString;function stringToAscii(str,outPtr){return writeAsciiToMemory(str,outPtr,false)}Module["stringToAscii"]=stringToAscii;var UTF8Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):undefined;function UTF8ArrayToString(u8Array,idx){var endPtr=idx;while(u8Array[endPtr])++endPtr;if(endPtr-idx>16&&u8Array.subarray&&UTF8Decoder){return UTF8Decoder.decode(u8Array.subarray(idx,endPtr))}else{var u0,u1,u2,u3,u4,u5;var str="";while(1){u0=u8Array[idx++];if(!u0)return str;if(!(u0&128)){str+=String.fromCharCode(u0);continue}u1=u8Array[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}u2=u8Array[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u3=u8Array[idx++]&63;if((u0&248)==240){u0=(u0&7)<<18|u1<<12|u2<<6|u3}else{u4=u8Array[idx++]&63;if((u0&252)==248){u0=(u0&3)<<24|u1<<18|u2<<12|u3<<6|u4}else{u5=u8Array[idx++]&63;u0=(u0&1)<<30|u1<<24|u2<<18|u3<<12|u4<<6|u5}}}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}}}Module["UTF8ArrayToString"]=UTF8ArrayToString;function UTF8ToString(ptr){return UTF8ArrayToString(HEAPU8,ptr)}Module["UTF8ToString"]=UTF8ToString;function stringToUTF8Array(str,outU8Array,outIdx,maxBytesToWrite){if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127){if(outIdx>=endIdx)break;outU8Array[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;outU8Array[outIdx++]=192|u>>6;outU8Array[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;outU8Array[outIdx++]=224|u>>12;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else if(u<=2097151){if(outIdx+3>=endIdx)break;outU8Array[outIdx++]=240|u>>18;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else if(u<=67108863){if(outIdx+4>=endIdx)break;outU8Array[outIdx++]=248|u>>24;outU8Array[outIdx++]=128|u>>18&63;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}else{if(outIdx+5>=endIdx)break;outU8Array[outIdx++]=252|u>>30;outU8Array[outIdx++]=128|u>>24&63;outU8Array[outIdx++]=128|u>>18&63;outU8Array[outIdx++]=128|u>>12&63;outU8Array[outIdx++]=128|u>>6&63;outU8Array[outIdx++]=128|u&63}}outU8Array[outIdx]=0;return outIdx-startIdx}Module["stringToUTF8Array"]=stringToUTF8Array;function stringToUTF8(str,outPtr,maxBytesToWrite){return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite)}Module["stringToUTF8"]=stringToUTF8;function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343)u=65536+((u&1023)<<10)|str.charCodeAt(++i)&1023;if(u<=127){++len}else if(u<=2047){len+=2}else if(u<=65535){len+=3}else if(u<=2097151){len+=4}else if(u<=67108863){len+=5}else{len+=6}}return len}Module["lengthBytesUTF8"]=lengthBytesUTF8;var UTF16Decoder=typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):undefined;function demangle(func){var __cxa_demangle_func=Module["___cxa_demangle"]||Module["__cxa_demangle"];if(__cxa_demangle_func){try{var s=func.substr(1);var len=lengthBytesUTF8(s)+1;var buf=_malloc(len);stringToUTF8(s,buf,len);var status=_malloc(4);var ret=__cxa_demangle_func(buf,0,0,status);if(getValue(status,"i32")===0&&ret){return Pointer_stringify(ret)}}catch(e){}finally{if(buf)_free(buf);if(status)_free(status);if(ret)_free(ret)}return func}Runtime.warnOnce("warning: build with -s DEMANGLE_SUPPORT=1 to link in libcxxabi demangling");return func}function demangleAll(text){var regex=/__Z[\\w\\d_]+/g;return text.replace(regex,(function(x){var y=demangle(x);return x===y?x:x+" ["+y+"]"}))}function jsStackTrace(){var err=new Error;if(!err.stack){try{throw new Error(0)}catch(e){err=e}if(!err.stack){return"(no stack trace available)"}}return err.stack.toString()}function stackTrace(){var js=jsStackTrace();if(Module["extraStackTrace"])js+="\\n"+Module["extraStackTrace"]();return demangleAll(js)}Module["stackTrace"]=stackTrace;var WASM_PAGE_SIZE=65536;var ASMJS_PAGE_SIZE=16777216;function alignUp(x,multiple){if(x%multiple>0){x+=multiple-x%multiple}return x}var HEAP,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateGlobalBuffer(buf){Module["buffer"]=buffer=buf}function updateGlobalBufferViews(){Module["HEAP8"]=HEAP8=new Int8Array(buffer);Module["HEAP16"]=HEAP16=new Int16Array(buffer);Module["HEAP32"]=HEAP32=new Int32Array(buffer);Module["HEAPU8"]=HEAPU8=new Uint8Array(buffer);Module["HEAPU16"]=HEAPU16=new Uint16Array(buffer);Module["HEAPU32"]=HEAPU32=new Uint32Array(buffer);Module["HEAPF32"]=HEAPF32=new Float32Array(buffer);Module["HEAPF64"]=HEAPF64=new Float64Array(buffer)}var STATIC_BASE,STATICTOP,staticSealed;var STACK_BASE,STACKTOP,STACK_MAX;var DYNAMIC_BASE,DYNAMICTOP_PTR;STATIC_BASE=STATICTOP=STACK_BASE=STACKTOP=STACK_MAX=DYNAMIC_BASE=DYNAMICTOP_PTR=0;staticSealed=false;function abortOnCannotGrowMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+TOTAL_MEMORY+", (2) compile with -s ALLOW_MEMORY_GROWTH=1 which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with -s ABORTING_MALLOC=0 ")}function enlargeMemory(){abortOnCannotGrowMemory()}var TOTAL_STACK=Module["TOTAL_STACK"]||5242880;var TOTAL_MEMORY=Module["TOTAL_MEMORY"]||16777216;if(TOTAL_MEMORY<TOTAL_STACK)Module.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+TOTAL_MEMORY+"! (TOTAL_STACK="+TOTAL_STACK+")");if(Module["buffer"]){buffer=Module["buffer"]}else{if(typeof WebAssembly==="object"&&typeof WebAssembly.Memory==="function"){Module["wasmMemory"]=new WebAssembly.Memory({"initial":TOTAL_MEMORY/WASM_PAGE_SIZE,"maximum":TOTAL_MEMORY/WASM_PAGE_SIZE});buffer=Module["wasmMemory"].buffer}else{buffer=new ArrayBuffer(TOTAL_MEMORY)}}updateGlobalBufferViews();function getTotalMemory(){return TOTAL_MEMORY}HEAP32[0]=1668509029;HEAP16[1]=25459;if(HEAPU8[2]!==115||HEAPU8[3]!==99)throw"Runtime error: expected the system to be little-endian!";Module["HEAP"]=HEAP;Module["buffer"]=buffer;Module["HEAP8"]=HEAP8;Module["HEAP16"]=HEAP16;Module["HEAP32"]=HEAP32;Module["HEAPU8"]=HEAPU8;Module["HEAPU16"]=HEAPU16;Module["HEAPU32"]=HEAPU32;Module["HEAPF32"]=HEAPF32;Module["HEAPF64"]=HEAPF64;function callRuntimeCallbacks(callbacks){while(callbacks.length>0){var callback=callbacks.shift();if(typeof callback=="function"){callback();continue}var func=callback.func;if(typeof func==="number"){if(callback.arg===undefined){Module["dynCall_v"](func)}else{Module["dynCall_vi"](func,callback.arg)}}else{func(callback.arg===undefined?null:callback.arg)}}}var __ATPRERUN__=[];var __ATINIT__=[];var __ATMAIN__=[];var __ATEXIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeExited=false;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){if(runtimeInitialized)return;runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__);runtimeExited=true}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}Module["addOnPreRun"]=addOnPreRun;function addOnInit(cb){__ATINIT__.unshift(cb)}Module["addOnInit"]=addOnInit;function addOnPreMain(cb){__ATMAIN__.unshift(cb)}Module["addOnPreMain"]=addOnPreMain;function addOnExit(cb){__ATEXIT__.unshift(cb)}Module["addOnExit"]=addOnExit;function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}Module["addOnPostRun"]=addOnPostRun;function intArrayFromString(stringy,dontAddNull,length){var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array}Module["intArrayFromString"]=intArrayFromString;function intArrayToString(array){var ret=[];for(var i=0;i<array.length;i++){var chr=array[i];if(chr>255){chr&=255}ret.push(String.fromCharCode(chr))}return ret.join("")}Module["intArrayToString"]=intArrayToString;function writeStringToMemory(string,buffer,dontAddNull){Runtime.warnOnce("writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!");var lastChar,end;if(dontAddNull){end=buffer+lengthBytesUTF8(string);lastChar=HEAP8[end]}stringToUTF8(string,buffer,Infinity);if(dontAddNull)HEAP8[end]=lastChar}Module["writeStringToMemory"]=writeStringToMemory;function writeArrayToMemory(array,buffer){HEAP8.set(array,buffer)}Module["writeArrayToMemory"]=writeArrayToMemory;function writeAsciiToMemory(str,buffer,dontAddNull){for(var i=0;i<str.length;++i){HEAP8[buffer++>>0]=str.charCodeAt(i)}if(!dontAddNull)HEAP8[buffer>>0]=0}Module["writeAsciiToMemory"]=writeAsciiToMemory;if(!Math["imul"]||Math["imul"](4294967295,5)!==-5)Math["imul"]=function imul(a,b){var ah=a>>>16;var al=a&65535;var bh=b>>>16;var bl=b&65535;return al*bl+(ah*bl+al*bh<<16)|0};Math.imul=Math["imul"];if(!Math["fround"]){var froundBuffer=new Float32Array(1);Math["fround"]=(function(x){froundBuffer[0]=x;return froundBuffer[0]})}Math.fround=Math["fround"];if(!Math["clz32"])Math["clz32"]=(function(x){x=x>>>0;for(var i=0;i<32;i++){if(x&1<<31-i)return i}return 32});Math.clz32=Math["clz32"];if(!Math["trunc"])Math["trunc"]=(function(x){return x<0?Math.ceil(x):Math.floor(x)});Math.trunc=Math["trunc"];var Math_abs=Math.abs;var Math_cos=Math.cos;var Math_sin=Math.sin;var Math_tan=Math.tan;var Math_acos=Math.acos;var Math_asin=Math.asin;var Math_atan=Math.atan;var Math_atan2=Math.atan2;var Math_exp=Math.exp;var Math_log=Math.log;var Math_sqrt=Math.sqrt;var Math_ceil=Math.ceil;var Math_floor=Math.floor;var Math_pow=Math.pow;var Math_imul=Math.imul;var Math_fround=Math.fround;var Math_round=Math.round;var Math_min=Math.min;var Math_clz32=Math.clz32;var Math_trunc=Math.trunc;var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function getUniqueRunDependency(id){return id}function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}}Module["addRunDependency"]=addRunDependency;function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies)}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}Module["removeRunDependency"]=removeRunDependency;Module["preloadedImages"]={};Module["preloadedAudios"]={};var memoryInitializer=null;function integrateWasmJS(Module){var method=Module["wasmJSMethod"]||"native-wasm";Module["wasmJSMethod"]=method;var wasmTextFile=Module["wasmTextFile"]||"leathanhash.wast";var wasmBinaryFile=Module["wasmBinaryFile"]||"leathanhash.wasm";var asmjsCodeFile=Module["asmjsCodeFile"]||"worker.temp.asm.js";if(typeof Module["locateFile"]==="function"){wasmTextFile=Module["locateFile"](wasmTextFile);wasmBinaryFile=Module["locateFile"](wasmBinaryFile);asmjsCodeFile=Module["locateFile"](asmjsCodeFile)}var wasmPageSize=64*1024;var asm2wasmImports={"f64-rem":(function(x,y){return x%y}),"f64-to-int":(function(x){return x|0}),"i32s-div":(function(x,y){return(x|0)/(y|0)|0}),"i32u-div":(function(x,y){return(x>>>0)/(y>>>0)>>>0}),"i32s-rem":(function(x,y){return(x|0)%(y|0)|0}),"i32u-rem":(function(x,y){return(x>>>0)%(y>>>0)>>>0}),"debugger":(function(){debugger})};var info={"global":null,"env":null,"asm2wasm":asm2wasmImports,"parent":Module};var exports=null;function lookupImport(mod,base){var lookup=info;if(mod.indexOf(".")<0){lookup=(lookup||{})[mod]}else{var parts=mod.split(".");lookup=(lookup||{})[parts[0]];lookup=(lookup||{})[parts[1]]}if(base){lookup=(lookup||{})[base]}if(lookup===undefined){abort("bad lookupImport to ("+mod+")."+base)}return lookup}function mergeMemory(newBuffer){var oldBuffer=Module["buffer"];if(newBuffer.byteLength<oldBuffer.byteLength){Module["printErr"]("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here")}var oldView=new Int8Array(oldBuffer);var newView=new Int8Array(newBuffer);if(!memoryInitializer){oldView.set(newView.subarray(Module["STATIC_BASE"],Module["STATIC_BASE"]+Module["STATIC_BUMP"]),Module["STATIC_BASE"])}newView.set(oldView);updateGlobalBuffer(newBuffer);updateGlobalBufferViews()}var WasmTypes={none:0,i32:1,i64:2,f32:3,f64:4};function fixImports(imports){if(!0)return imports;var ret={};for(var i in imports){var fixed=i;if(fixed[0]=="_")fixed=fixed.substr(1);ret[fixed]=imports[i]}return ret}function getBinary(){try{var binary;if(Module["wasmBinary"]){binary=Module["wasmBinary"];binary=new Uint8Array(binary)}else if(Module["readBinary"]){binary=Module["readBinary"](wasmBinaryFile)}else{throw"on the web, we need the wasm binary to be preloaded and set on Module[\'wasmBinary\']. emcc.py will do that for you when generating HTML (but not JS)"}return binary}catch(err){abort(err)}}function getBinaryPromise(){if(!Module["wasmBinary"]&&typeof fetch==="function"){return fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(response){if(!response["ok"]){throw"failed to load wasm binary file at \'"+wasmBinaryFile+"\'"}return response["arrayBuffer"]()}))}return new Promise((function(resolve,reject){resolve(getBinary())}))}function doNativeWasm(global,env,providedBuffer){if(typeof WebAssembly!=="object"){Module["printErr"]("no native wasm support detected");return false}if(!(Module["wasmMemory"]instanceof WebAssembly.Memory)){Module["printErr"]("no native wasm Memory in use");return false}env["memory"]=Module["wasmMemory"];info["global"]={"NaN":NaN,"Infinity":Infinity};info["global.Math"]=global.Math;info["env"]=env;function receiveInstance(instance){exports=instance.exports;if(exports.memory)mergeMemory(exports.memory);Module["asm"]=exports;Module["usingWasm"]=true;removeRunDependency("wasm-instantiate")}addRunDependency("wasm-instantiate");if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance)}catch(e){Module["printErr"]("Module.instantiateWasm callback failed with error: "+e);return false}}getBinaryPromise().then((function(binary){return WebAssembly.instantiate(binary,info)})).then((function(output){receiveInstance(output["instance"])})).catch((function(reason){Module["printErr"]("failed to asynchronously prepare wasm: "+reason);abort(reason)}));return{}}Module["asmPreload"]=Module["asm"];var asmjsReallocBuffer=Module["reallocBuffer"];var wasmReallocBuffer=(function(size){var PAGE_MULTIPLE=Module["usingWasm"]?WASM_PAGE_SIZE:ASMJS_PAGE_SIZE;size=alignUp(size,PAGE_MULTIPLE);var old=Module["buffer"];var oldSize=old.byteLength;if(Module["usingWasm"]){try{var result=Module["wasmMemory"].grow((size-oldSize)/wasmPageSize);if(result!==(-1|0)){return Module["buffer"]=Module["wasmMemory"].buffer}else{return null}}catch(e){return null}}else{exports["__growWasmMemory"]((size-oldSize)/wasmPageSize);return Module["buffer"]!==old?Module["buffer"]:null}});Module["reallocBuffer"]=(function(size){if(finalMethod==="asmjs"){return asmjsReallocBuffer(size)}else{return wasmReallocBuffer(size)}});var finalMethod="";Module["asm"]=(function(global,env,providedBuffer){global=fixImports(global);env=fixImports(env);if(!env["table"]){var TABLE_SIZE=Module["wasmTableSize"];if(TABLE_SIZE===undefined)TABLE_SIZE=1024;var MAX_TABLE_SIZE=Module["wasmMaxTableSize"];if(typeof WebAssembly==="object"&&typeof WebAssembly.Table==="function"){if(MAX_TABLE_SIZE!==undefined){env["table"]=new WebAssembly.Table({"initial":TABLE_SIZE,"maximum":MAX_TABLE_SIZE,"element":"anyfunc"})}else{env["table"]=new WebAssembly.Table({"initial":TABLE_SIZE,element:"anyfunc"})}}else{env["table"]=new Array(TABLE_SIZE)}Module["wasmTable"]=env["table"]}if(!env["memoryBase"]){env["memoryBase"]=Module["STATIC_BASE"]}if(!env["tableBase"]){env["tableBase"]=0}var exports;exports=doNativeWasm(global,env,providedBuffer);return exports});var methodHandler=Module["asm"]}integrateWasmJS(Module);var ASM_CONSTS=[];STATIC_BASE=Runtime.GLOBAL_BASE;STATICTOP=STATIC_BASE+12512;__ATINIT__.push();memoryInitializer=Module["wasmJSMethod"].indexOf("asmjs")>=0||Module["wasmJSMethod"].indexOf("interpret-asm2wasm")>=0?"worker.js.mem":null;var STATIC_BUMP=12512;Module["STATIC_BASE"]=STATIC_BASE;Module["STATIC_BUMP"]=STATIC_BUMP;var tempDoublePtr=STATICTOP;STATICTOP+=16;function ___assert_fail(condition,filename,line,func){ABORT=true;throw"Assertion failed: "+Pointer_stringify(condition)+", at: "+[filename?Pointer_stringify(filename):"unknown filename",line,func?Pointer_stringify(func):"unknown function"]+" at "+stackTrace()}var PROCINFO={ppid:1,pid:42,sid:42,pgid:42};var ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};var ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can\'t send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"};function ___setErrNo(value){if(Module["___errno_location"])HEAP32[Module["___errno_location"]()>>2]=value;return value}var PATH={splitPath:(function(filename){var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;return splitPathRe.exec(filename).slice(1)}),normalizeArray:(function(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts}),normalize:(function(path){var isAbsolute=path.charAt(0)==="/",trailingSlash=path.substr(-1)==="/";path=PATH.normalizeArray(path.split("/").filter((function(p){return!!p})),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path}),dirname:(function(path){var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir}),basename:(function(path){if(path==="/")return"/";var lastSlash=path.lastIndexOf("/");if(lastSlash===-1)return path;return path.substr(lastSlash+1)}),extname:(function(path){return PATH.splitPath(path)[3]}),join:(function(){var paths=Array.prototype.slice.call(arguments,0);return PATH.normalize(paths.join("/"))}),join2:(function(l,r){return PATH.normalize(l+"/"+r)}),resolve:(function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:FS.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter((function(p){return!!p})),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."}),relative:(function(from,to){from=PATH.resolve(from).substr(1);to=PATH.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")})};var TTY={ttys:[],init:(function(){}),shutdown:(function(){}),register:(function(dev,ops){TTY.ttys[dev]={input:[],output:[],ops:ops};FS.registerDevice(dev,TTY.stream_ops)}),stream_ops:{open:(function(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}stream.tty=tty;stream.seekable=false}),close:(function(stream){stream.tty.ops.flush(stream.tty)}),flush:(function(stream){stream.tty.ops.flush(stream.tty)}),read:(function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(ERRNO_CODES.ENXIO)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead}),write:(function(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(ERRNO_CODES.ENXIO)}for(var i=0;i<length;i++){try{stream.tty.ops.put_char(stream.tty,buffer[offset+i])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}}if(length){stream.node.timestamp=Date.now()}return i})},default_tty_ops:{get_char:(function(tty){if(!tty.input.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=new Buffer(BUFSIZE);var bytesRead=0;var isPosixPlatform=process.platform!="win32";var fd=process.stdin.fd;if(isPosixPlatform){var usingDevice=false;try{fd=fs.openSync("/dev/stdin","r");usingDevice=true}catch(e){}}try{bytesRead=fs.readSync(fd,buf,0,BUFSIZE,null)}catch(e){if(e.toString().indexOf("EOF")!=-1)bytesRead=0;else throw e}if(usingDevice){fs.closeSync(fd)}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}else{result=null}}else if(typeof window!="undefined"&&typeof window.prompt=="function"){result=window.prompt("Input: ");if(result!==null){result+="\\n"}}else if(typeof readline=="function"){result=readline();if(result!==null){result+="\\n"}}if(!result){return null}tty.input=intArrayFromString(result,true)}return tty.input.shift()}),put_char:(function(tty,val){if(val===null||val===10){Module["print"](UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}}),flush:(function(tty){if(tty.output&&tty.output.length>0){Module["print"](UTF8ArrayToString(tty.output,0));tty.output=[]}})},default_tty1_ops:{put_char:(function(tty,val){if(val===null||val===10){Module["printErr"](UTF8ArrayToString(tty.output,0));tty.output=[]}else{if(val!=0)tty.output.push(val)}}),flush:(function(tty){if(tty.output&&tty.output.length>0){Module["printErr"](UTF8ArrayToString(tty.output,0));tty.output=[]}})}};var MEMFS={ops_table:null,mount:(function(mount){return MEMFS.createNode(null,"/",16384|511,0)}),createNode:(function(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(!MEMFS.ops_table){MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}}}var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.timestamp=Date.now();if(parent){parent.contents[name]=node}return node}),getFileDataAsRegularArray:(function(node){if(node.contents&&node.contents.subarray){var arr=[];for(var i=0;i<node.usedBytes;++i)arr.push(node.contents[i]);return arr}return node.contents}),getFileDataAsTypedArray:(function(node){if(!node.contents)return new Uint8Array;if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)}),expandFileStorage:(function(node,newCapacity){if(node.contents&&node.contents.subarray&&newCapacity>node.contents.length){node.contents=MEMFS.getFileDataAsRegularArray(node);node.usedBytes=node.contents.length}if(!node.contents||node.contents.subarray){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)|0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0);return}if(!node.contents&&newCapacity>0)node.contents=[];while(node.contents.length<newCapacity)node.contents.push(0)}),resizeFileStorage:(function(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0;return}if(!node.contents||node.contents.subarray){var oldContents=node.contents;node.contents=new Uint8Array(new ArrayBuffer(newSize));if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize;return}if(!node.contents)node.contents=[];if(node.contents.length>newSize)node.contents.length=newSize;else while(node.contents.length<newSize)node.contents.push(0);node.usedBytes=newSize}),node_ops:{getattr:(function(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.timestamp);attr.mtime=new Date(node.timestamp);attr.ctime=new Date(node.timestamp);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr}),setattr:(function(node,attr){if(attr.mode!==undefined){node.mode=attr.mode}if(attr.timestamp!==undefined){node.timestamp=attr.timestamp}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}}),lookup:(function(parent,name){throw FS.genericErrors[ERRNO_CODES.ENOENT]}),mknod:(function(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)}),rename:(function(old_node,new_dir,new_name){if(FS.isDir(old_node.mode)){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){for(var i in new_node.contents){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}}}delete old_node.parent.contents[old_node.name];old_node.name=new_name;new_dir.contents[new_name]=old_node;old_node.parent=new_dir}),unlink:(function(parent,name){delete parent.contents[name]}),rmdir:(function(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete parent.contents[name]}),readdir:(function(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries}),symlink:(function(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node}),readlink:(function(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return node.link})},stream_ops:{read:(function(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);assert(size>=0);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size}),write:(function(stream,buffer,offset,length,position,canOwn){if(!length)return 0;var node=stream.node;node.timestamp=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=new Uint8Array(buffer.subarray(offset,offset+length));node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray)node.contents.set(buffer.subarray(offset,offset+length),position);else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length}),llseek:(function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return position}),allocate:(function(stream,offset,length){MEMFS.expandFileStorage(stream.node,offset+length);stream.node.usedBytes=Math.max(stream.node.usedBytes,offset+length)}),mmap:(function(stream,buffer,offset,length,position,prot,flags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&(contents.buffer===buffer||contents.buffer===buffer.buffer)){allocated=false;ptr=contents.byteOffset}else{if(position>0||position+length<stream.node.usedBytes){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}allocated=true;ptr=_malloc(length);if(!ptr){throw new FS.ErrnoError(ERRNO_CODES.ENOMEM)}buffer.set(contents,ptr)}return{ptr:ptr,allocated:allocated}}),msync:(function(stream,buffer,offset,length,mmapFlags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}if(mmapFlags&2){return 0}var bytesWritten=MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0})}};var IDBFS={dbs:{},indexedDB:(function(){if(typeof indexedDB!=="undefined")return indexedDB;var ret=null;if(typeof window==="object")ret=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;assert(ret,"IDBFS used, but indexedDB not supported");return ret}),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:(function(mount){return MEMFS.mount.apply(null,arguments)}),syncfs:(function(mount,populate,callback){IDBFS.getLocalSet(mount,(function(err,local){if(err)return callback(err);IDBFS.getRemoteSet(mount,(function(err,remote){if(err)return callback(err);var src=populate?remote:local;var dst=populate?local:remote;IDBFS.reconcile(src,dst,callback)}))}))}),getDB:(function(name,callback){var db=IDBFS.dbs[name];if(db){return callback(null,db)}var req;try{req=IDBFS.indexedDB().open(name,IDBFS.DB_VERSION)}catch(e){return callback(e)}if(!req){return callback("Unable to connect to IndexedDB")}req.onupgradeneeded=(function(e){var db=e.target.result;var transaction=e.target.transaction;var fileStore;if(db.objectStoreNames.contains(IDBFS.DB_STORE_NAME)){fileStore=transaction.objectStore(IDBFS.DB_STORE_NAME)}else{fileStore=db.createObjectStore(IDBFS.DB_STORE_NAME)}if(!fileStore.indexNames.contains("timestamp")){fileStore.createIndex("timestamp","timestamp",{unique:false})}});req.onsuccess=(function(){db=req.result;IDBFS.dbs[name]=db;callback(null,db)});req.onerror=(function(e){callback(this.error);e.preventDefault()})}),getLocalSet:(function(mount,callback){var entries={};function isRealDir(p){return p!=="."&&p!==".."}function toAbsolute(root){return(function(p){return PATH.join2(root,p)})}var check=FS.readdir(mount.mountpoint).filter(isRealDir).map(toAbsolute(mount.mountpoint));while(check.length){var path=check.pop();var stat;try{stat=FS.stat(path)}catch(e){return callback(e)}if(FS.isDir(stat.mode)){check.push.apply(check,FS.readdir(path).filter(isRealDir).map(toAbsolute(path)))}entries[path]={timestamp:stat.mtime}}return callback(null,{type:"local",entries:entries})}),getRemoteSet:(function(mount,callback){var entries={};IDBFS.getDB(mount.mountpoint,(function(err,db){if(err)return callback(err);var transaction=db.transaction([IDBFS.DB_STORE_NAME],"readonly");transaction.onerror=(function(e){callback(this.error);e.preventDefault()});var store=transaction.objectStore(IDBFS.DB_STORE_NAME);var index=store.index("timestamp");index.openKeyCursor().onsuccess=(function(event){var cursor=event.target.result;if(!cursor){return callback(null,{type:"remote",db:db,entries:entries})}entries[cursor.primaryKey]={timestamp:cursor.key};cursor.continue()})}))}),loadLocalEntry:(function(path,callback){var stat,node;try{var lookup=FS.lookupPath(path);node=lookup.node;stat=FS.stat(path)}catch(e){return callback(e)}if(FS.isDir(stat.mode)){return callback(null,{timestamp:stat.mtime,mode:stat.mode})}else if(FS.isFile(stat.mode)){node.contents=MEMFS.getFileDataAsTypedArray(node);return callback(null,{timestamp:stat.mtime,mode:stat.mode,contents:node.contents})}else{return callback(new Error("node type not supported"))}}),storeLocalEntry:(function(path,entry,callback){try{if(FS.isDir(entry.mode)){FS.mkdir(path,entry.mode)}else if(FS.isFile(entry.mode)){FS.writeFile(path,entry.contents,{encoding:"binary",canOwn:true})}else{return callback(new Error("node type not supported"))}FS.chmod(path,entry.mode);FS.utime(path,entry.timestamp,entry.timestamp)}catch(e){return callback(e)}callback(null)}),removeLocalEntry:(function(path,callback){try{var lookup=FS.lookupPath(path);var stat=FS.stat(path);if(FS.isDir(stat.mode)){FS.rmdir(path)}else if(FS.isFile(stat.mode)){FS.unlink(path)}}catch(e){return callback(e)}callback(null)}),loadRemoteEntry:(function(store,path,callback){var req=store.get(path);req.onsuccess=(function(event){callback(null,event.target.result)});req.onerror=(function(e){callback(this.error);e.preventDefault()})}),storeRemoteEntry:(function(store,path,entry,callback){var req=store.put(entry,path);req.onsuccess=(function(){callback(null)});req.onerror=(function(e){callback(this.error);e.preventDefault()})}),removeRemoteEntry:(function(store,path,callback){var req=store.delete(path);req.onsuccess=(function(){callback(null)});req.onerror=(function(e){callback(this.error);e.preventDefault()})}),reconcile:(function(src,dst,callback){var total=0;var create=[];Object.keys(src.entries).forEach((function(key){var e=src.entries[key];var e2=dst.entries[key];if(!e2||e.timestamp>e2.timestamp){create.push(key);total++}}));var remove=[];Object.keys(dst.entries).forEach((function(key){var e=dst.entries[key];var e2=src.entries[key];if(!e2){remove.push(key);total++}}));if(!total){return callback(null)}var completed=0;var db=src.type==="remote"?src.db:dst.db;var transaction=db.transaction([IDBFS.DB_STORE_NAME],"readwrite");var store=transaction.objectStore(IDBFS.DB_STORE_NAME);function done(err){if(err){if(!done.errored){done.errored=true;return callback(err)}return}if(++completed>=total){return callback(null)}}transaction.onerror=(function(e){done(this.error);e.preventDefault()});create.sort().forEach((function(path){if(dst.type==="local"){IDBFS.loadRemoteEntry(store,path,(function(err,entry){if(err)return done(err);IDBFS.storeLocalEntry(path,entry,done)}))}else{IDBFS.loadLocalEntry(path,(function(err,entry){if(err)return done(err);IDBFS.storeRemoteEntry(store,path,entry,done)}))}}));remove.sort().reverse().forEach((function(path){if(dst.type==="local"){IDBFS.removeLocalEntry(path,done)}else{IDBFS.removeRemoteEntry(store,path,done)}}))})};var NODEFS={isWindows:false,staticInit:(function(){NODEFS.isWindows=!!process.platform.match(/^win/)}),mount:(function(mount){assert(ENVIRONMENT_IS_NODE);return NODEFS.createNode(null,"/",NODEFS.getMode(mount.opts.root),0)}),createNode:(function(parent,name,mode,dev){if(!FS.isDir(mode)&&!FS.isFile(mode)&&!FS.isLink(mode)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var node=FS.createNode(parent,name,mode);node.node_ops=NODEFS.node_ops;node.stream_ops=NODEFS.stream_ops;return node}),getMode:(function(path){var stat;try{stat=fs.lstatSync(path);if(NODEFS.isWindows){stat.mode=stat.mode|(stat.mode&146)>>1}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return stat.mode}),realPath:(function(node){var parts=[];while(node.parent!==node){parts.push(node.name);node=node.parent}parts.push(node.mount.opts.root);parts.reverse();return PATH.join.apply(null,parts)}),flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:(function(flags){flags&=~2097152;flags&=~2048;flags&=~32768;flags&=~524288;if(flags in NODEFS.flagsToPermissionStringMap){return NODEFS.flagsToPermissionStringMap[flags]}else{throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}}),node_ops:{getattr:(function(node){var path=NODEFS.realPath(node);var stat;try{stat=fs.lstatSync(path)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(NODEFS.isWindows&&!stat.blksize){stat.blksize=4096}if(NODEFS.isWindows&&!stat.blocks){stat.blocks=(stat.size+stat.blksize-1)/stat.blksize|0}return{dev:stat.dev,ino:stat.ino,mode:stat.mode,nlink:stat.nlink,uid:stat.uid,gid:stat.gid,rdev:stat.rdev,size:stat.size,atime:stat.atime,mtime:stat.mtime,ctime:stat.ctime,blksize:stat.blksize,blocks:stat.blocks}}),setattr:(function(node,attr){var path=NODEFS.realPath(node);try{if(attr.mode!==undefined){fs.chmodSync(path,attr.mode);node.mode=attr.mode}if(attr.timestamp!==undefined){var date=new Date(attr.timestamp);fs.utimesSync(path,date,date)}if(attr.size!==undefined){fs.truncateSync(path,attr.size)}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}),lookup:(function(parent,name){var path=PATH.join2(NODEFS.realPath(parent),name);var mode=NODEFS.getMode(path);return NODEFS.createNode(parent,name,mode)}),mknod:(function(parent,name,mode,dev){var node=NODEFS.createNode(parent,name,mode,dev);var path=NODEFS.realPath(node);try{if(FS.isDir(node.mode)){fs.mkdirSync(path,node.mode)}else{fs.writeFileSync(path,"",{mode:node.mode})}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}return node}),rename:(function(oldNode,newDir,newName){var oldPath=NODEFS.realPath(oldNode);var newPath=PATH.join2(NODEFS.realPath(newDir),newName);try{fs.renameSync(oldPath,newPath)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}),unlink:(function(parent,name){var path=PATH.join2(NODEFS.realPath(parent),name);try{fs.unlinkSync(path)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}),rmdir:(function(parent,name){var path=PATH.join2(NODEFS.realPath(parent),name);try{fs.rmdirSync(path)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}),readdir:(function(node){var path=NODEFS.realPath(node);try{return fs.readdirSync(path)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}),symlink:(function(parent,newName,oldPath){var newPath=PATH.join2(NODEFS.realPath(parent),newName);try{fs.symlinkSync(oldPath,newPath)}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}),readlink:(function(node){var path=NODEFS.realPath(node);try{path=fs.readlinkSync(path);path=NODEJS_PATH.relative(NODEJS_PATH.resolve(node.mount.opts.root),path);return path}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}})},stream_ops:{open:(function(stream){var path=NODEFS.realPath(stream.node);try{if(FS.isFile(stream.node.mode)){stream.nfd=fs.openSync(path,NODEFS.flagsToPermissionString(stream.flags))}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}),close:(function(stream){try{if(FS.isFile(stream.node.mode)&&stream.nfd){fs.closeSync(stream.nfd)}}catch(e){if(!e.code)throw e;throw new FS.ErrnoError(ERRNO_CODES[e.code])}}),read:(function(stream,buffer,offset,length,position){if(length===0)return 0;var nbuffer=new Buffer(length);var res;try{res=fs.readSync(stream.nfd,nbuffer,0,length,position)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}if(res>0){for(var i=0;i<res;i++){buffer[offset+i]=nbuffer[i]}}return res}),write:(function(stream,buffer,offset,length,position){var nbuffer=new Buffer(buffer.subarray(offset,offset+length));var res;try{res=fs.writeSync(stream.nfd,nbuffer,0,length,position)}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}return res}),llseek:(function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){try{var stat=fs.fstatSync(stream.nfd);position+=stat.size}catch(e){throw new FS.ErrnoError(ERRNO_CODES[e.code])}}}if(position<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return position})}};var WORKERFS={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:(function(mount){assert(ENVIRONMENT_IS_WORKER);if(!WORKERFS.reader)WORKERFS.reader=new FileReaderSync;var root=WORKERFS.createNode(null,"/",WORKERFS.DIR_MODE,0);var createdParents={};function ensureParent(path){var parts=path.split("/");var parent=root;for(var i=0;i<parts.length-1;i++){var curr=parts.slice(0,i+1).join("/");if(!createdParents[curr]){createdParents[curr]=WORKERFS.createNode(parent,parts[i],WORKERFS.DIR_MODE,0)}parent=createdParents[curr]}return parent}function base(path){var parts=path.split("/");return parts[parts.length-1]}Array.prototype.forEach.call(mount.opts["files"]||[],(function(file){WORKERFS.createNode(ensureParent(file.name),base(file.name),WORKERFS.FILE_MODE,0,file,file.lastModifiedDate)}));(mount.opts["blobs"]||[]).forEach((function(obj){WORKERFS.createNode(ensureParent(obj["name"]),base(obj["name"]),WORKERFS.FILE_MODE,0,obj["data"])}));(mount.opts["packages"]||[]).forEach((function(pack){pack["metadata"].files.forEach((function(file){var name=file.filename.substr(1);WORKERFS.createNode(ensureParent(name),base(name),WORKERFS.FILE_MODE,0,pack["blob"].slice(file.start,file.end))}))}));return root}),createNode:(function(parent,name,mode,dev,contents,mtime){var node=FS.createNode(parent,name,mode);node.mode=mode;node.node_ops=WORKERFS.node_ops;node.stream_ops=WORKERFS.stream_ops;node.timestamp=(mtime||new Date).getTime();assert(WORKERFS.FILE_MODE!==WORKERFS.DIR_MODE);if(mode===WORKERFS.FILE_MODE){node.size=contents.size;node.contents=contents}else{node.size=4096;node.contents={}}if(parent){parent.contents[name]=node}return node}),node_ops:{getattr:(function(node){return{dev:1,ino:undefined,mode:node.mode,nlink:1,uid:0,gid:0,rdev:undefined,size:node.size,atime:new Date(node.timestamp),mtime:new Date(node.timestamp),ctime:new Date(node.timestamp),blksize:4096,blocks:Math.ceil(node.size/4096)}}),setattr:(function(node,attr){if(attr.mode!==undefined){node.mode=attr.mode}if(attr.timestamp!==undefined){node.timestamp=attr.timestamp}}),lookup:(function(parent,name){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}),mknod:(function(parent,name,mode,dev){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}),rename:(function(oldNode,newDir,newName){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}),unlink:(function(parent,name){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}),rmdir:(function(parent,name){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}),readdir:(function(node){var entries=[".",".."];for(var key in node.contents){if(!node.contents.hasOwnProperty(key)){continue}entries.push(key)}return entries}),symlink:(function(parent,newName,oldPath){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}),readlink:(function(node){throw new FS.ErrnoError(ERRNO_CODES.EPERM)})},stream_ops:{read:(function(stream,buffer,offset,length,position){if(position>=stream.node.size)return 0;var chunk=stream.node.contents.slice(position,position+length);var ab=WORKERFS.reader.readAsArrayBuffer(chunk);buffer.set(new Uint8Array(ab),offset);return chunk.size}),write:(function(stream,buffer,offset,length,position){throw new FS.ErrnoError(ERRNO_CODES.EIO)}),llseek:(function(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.size}}if(position<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return position})}};STATICTOP+=16;STATICTOP+=16;STATICTOP+=16;var FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:(function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)}),lookupPath:(function(path,opts){path=PATH.resolve(FS.cwd(),path);opts=opts||{};if(!path)return{path:"",node:null};var defaults={follow_mount:true,recurse_count:0};for(var key in defaults){if(opts[key]===undefined){opts[key]=defaults[key]}}if(opts.recurse_count>8){throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}var parts=PATH.normalizeArray(path.split("/").filter((function(p){return!!p})),false);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}current=FS.lookupNode(current,parts[i]);current_path=PATH.join2(current_path,parts[i]);if(FS.isMountpoint(current)){if(!islast||islast&&opts.follow_mount){current=current.mounted.root}}if(!islast||opts.follow){var count=0;while(FS.isLink(current.mode)){var link=FS.readlink(current_path);current_path=PATH.resolve(PATH.dirname(current_path),link);var lookup=FS.lookupPath(current_path,{recurse_count:opts.recurse_count});current=lookup.node;if(count++>40){throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}}}return{path:current_path,node:current}}),getPath:(function(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?mount+"/"+path:mount+path}path=path?node.name+"/"+path:node.name;node=node.parent}}),hashName:(function(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length}),hashAddNode:(function(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node}),hashRemoveNode:(function(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}}),lookupNode:(function(parent,name){var err=FS.mayLookup(parent);if(err){throw new FS.ErrnoError(err,parent)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)}),createNode:(function(parent,name,mode,rdev){if(!FS.FSNode){FS.FSNode=(function(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.mounted=null;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.node_ops={};this.stream_ops={};this.rdev=rdev});FS.FSNode.prototype={};var readMode=292|73;var writeMode=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:(function(){return(this.mode&readMode)===readMode}),set:(function(val){val?this.mode|=readMode:this.mode&=~readMode})},write:{get:(function(){return(this.mode&writeMode)===writeMode}),set:(function(val){val?this.mode|=writeMode:this.mode&=~writeMode})},isFolder:{get:(function(){return FS.isDir(this.mode)})},isDevice:{get:(function(){return FS.isChrdev(this.mode)})}})}var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node}),destroyNode:(function(node){FS.hashRemoveNode(node)}),isRoot:(function(node){return node===node.parent}),isMountpoint:(function(node){return!!node.mounted}),isFile:(function(mode){return(mode&61440)===32768}),isDir:(function(mode){return(mode&61440)===16384}),isLink:(function(mode){return(mode&61440)===40960}),isChrdev:(function(mode){return(mode&61440)===8192}),isBlkdev:(function(mode){return(mode&61440)===24576}),isFIFO:(function(mode){return(mode&61440)===4096}),isSocket:(function(mode){return(mode&49152)===49152}),flagModes:{"r":0,"rs":1052672,"r+":2,"w":577,"wx":705,"xw":705,"w+":578,"wx+":706,"xw+":706,"a":1089,"ax":1217,"xa":1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:(function(str){var flags=FS.flagModes[str];if(typeof flags==="undefined"){throw new Error("Unknown file open mode: "+str)}return flags}),flagsToPermissionString:(function(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms}),nodePermissions:(function(node,perms){if(FS.ignorePermissions){return 0}if(perms.indexOf("r")!==-1&&!(node.mode&292)){return ERRNO_CODES.EACCES}else if(perms.indexOf("w")!==-1&&!(node.mode&146)){return ERRNO_CODES.EACCES}else if(perms.indexOf("x")!==-1&&!(node.mode&73)){return ERRNO_CODES.EACCES}return 0}),mayLookup:(function(dir){var err=FS.nodePermissions(dir,"x");if(err)return err;if(!dir.node_ops.lookup)return ERRNO_CODES.EACCES;return 0}),mayCreate:(function(dir,name){try{var node=FS.lookupNode(dir,name);return ERRNO_CODES.EEXIST}catch(e){}return FS.nodePermissions(dir,"wx")}),mayDelete:(function(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var err=FS.nodePermissions(dir,"wx");if(err){return err}if(isdir){if(!FS.isDir(node.mode)){return ERRNO_CODES.ENOTDIR}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return ERRNO_CODES.EBUSY}}else{if(FS.isDir(node.mode)){return ERRNO_CODES.EISDIR}}return 0}),mayOpen:(function(node,flags){if(!node){return ERRNO_CODES.ENOENT}if(FS.isLink(node.mode)){return ERRNO_CODES.ELOOP}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&512){return ERRNO_CODES.EISDIR}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))}),MAX_OPEN_FDS:4096,nextfd:(function(fd_start,fd_end){fd_start=fd_start||0;fd_end=fd_end||FS.MAX_OPEN_FDS;for(var fd=fd_start;fd<=fd_end;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(ERRNO_CODES.EMFILE)}),getStream:(function(fd){return FS.streams[fd]}),createStream:(function(stream,fd_start,fd_end){if(!FS.FSStream){FS.FSStream=(function(){});FS.FSStream.prototype={};Object.defineProperties(FS.FSStream.prototype,{object:{get:(function(){return this.node}),set:(function(val){this.node=val})},isRead:{get:(function(){return(this.flags&2097155)!==1})},isWrite:{get:(function(){return(this.flags&2097155)!==0})},isAppend:{get:(function(){return this.flags&1024})}})}var newStream=new FS.FSStream;for(var p in stream){newStream[p]=stream[p]}stream=newStream;var fd=FS.nextfd(fd_start,fd_end);stream.fd=fd;FS.streams[fd]=stream;return stream}),closeStream:(function(fd){FS.streams[fd]=null}),chrdev_stream_ops:{open:(function(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;if(stream.stream_ops.open){stream.stream_ops.open(stream)}}),llseek:(function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)})},major:(function(dev){return dev>>8}),minor:(function(dev){return dev&255}),makedev:(function(ma,mi){return ma<<8|mi}),registerDevice:(function(dev,ops){FS.devices[dev]={stream_ops:ops}}),getDevice:(function(dev){return FS.devices[dev]}),getMounts:(function(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push.apply(check,m.mounts)}return mounts}),syncfs:(function(populate,callback){if(typeof populate==="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){console.log("warning: "+FS.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work")}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(err){assert(FS.syncFSRequests>0);FS.syncFSRequests--;return callback(err)}function done(err){if(err){if(!done.errored){done.errored=true;return doCallback(err)}return}if(++completed>=mounts.length){doCallback(null)}}mounts.forEach((function(mount){if(!mount.type.syncfs){return done(null)}mount.type.syncfs(mount,populate,done)}))}),mount:(function(type,opts,mountpoint){var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}}var mount={type:type,opts:opts,mountpoint:mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot}),unmount:(function(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);Object.keys(FS.nameTable).forEach((function(hash){var current=FS.nameTable[hash];while(current){var next=current.name_next;if(mounts.indexOf(current.mount)!==-1){FS.destroyNode(current)}current=next}}));node.mounted=null;var idx=node.mount.mounts.indexOf(mount);assert(idx!==-1);node.mount.mounts.splice(idx,1)}),lookup:(function(parent,name){return parent.node_ops.lookup(parent,name)}),mknod:(function(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name||name==="."||name===".."){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var err=FS.mayCreate(parent,name);if(err){throw new FS.ErrnoError(err)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return parent.node_ops.mknod(parent,name,mode,dev)}),create:(function(path,mode){mode=mode!==undefined?mode:438;mode&=4095;mode|=32768;return FS.mknod(path,mode,0)}),mkdir:(function(path,mode){mode=mode!==undefined?mode:511;mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)}),mkdirTree:(function(path,mode){var dirs=path.split("/");var d="";for(var i=0;i<dirs.length;++i){if(!dirs[i])continue;d+="/"+dirs[i];try{FS.mkdir(d,mode)}catch(e){if(e.errno!=ERRNO_CODES.EEXIST)throw e}}}),mkdev:(function(path,mode,dev){if(typeof dev==="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)}),symlink:(function(oldpath,newpath){if(!PATH.resolve(oldpath)){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}var newname=PATH.basename(newpath);var err=FS.mayCreate(parent,newname);if(err){throw new FS.ErrnoError(err)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return parent.node_ops.symlink(parent,newname,oldpath)}),rename:(function(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;try{lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(!old_dir||!new_dir)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(ERRNO_CODES.EXDEV)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}relative=PATH.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var err=FS.mayDelete(old_dir,old_name,isdir);if(err){throw new FS.ErrnoError(err)}err=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(err){throw new FS.ErrnoError(err)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(new_dir!==old_dir){err=FS.nodePermissions(old_dir,"w");if(err){throw new FS.ErrnoError(err)}}try{if(FS.trackingDelegate["willMovePath"]){FS.trackingDelegate["willMovePath"](old_path,new_path)}}catch(e){console.log("FS.trackingDelegate[\'willMovePath\'](\'"+old_path+"\', \'"+new_path+"\') threw an exception: "+e.message)}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name)}catch(e){throw e}finally{FS.hashAddNode(old_node)}try{if(FS.trackingDelegate["onMovePath"])FS.trackingDelegate["onMovePath"](old_path,new_path)}catch(e){console.log("FS.trackingDelegate[\'onMovePath\'](\'"+old_path+"\', \'"+new_path+"\') threw an exception: "+e.message)}}),rmdir:(function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var err=FS.mayDelete(parent,name,true);if(err){throw new FS.ErrnoError(err)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){console.log("FS.trackingDelegate[\'willDeletePath\'](\'"+path+"\') threw an exception: "+e.message)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){console.log("FS.trackingDelegate[\'onDeletePath\'](\'"+path+"\') threw an exception: "+e.message)}}),readdir:(function(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;if(!node.node_ops.readdir){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}return node.node_ops.readdir(node)}),unlink:(function(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var err=FS.mayDelete(parent,name,false);if(err){throw new FS.ErrnoError(err)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}try{if(FS.trackingDelegate["willDeletePath"]){FS.trackingDelegate["willDeletePath"](path)}}catch(e){console.log("FS.trackingDelegate[\'willDeletePath\'](\'"+path+"\') threw an exception: "+e.message)}parent.node_ops.unlink(parent,name);FS.destroyNode(node);try{if(FS.trackingDelegate["onDeletePath"])FS.trackingDelegate["onDeletePath"](path)}catch(e){console.log("FS.trackingDelegate[\'onDeletePath\'](\'"+path+"\') threw an exception: "+e.message)}}),readlink:(function(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!link.node_ops.readlink){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}return PATH.resolve(FS.getPath(link.parent),link.node_ops.readlink(link))}),stat:(function(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;if(!node){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!node.node_ops.getattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}return node.node_ops.getattr(node)}),lstat:(function(path){return FS.stat(path,true)}),chmod:(function(path,mode,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}node.node_ops.setattr(node,{mode:mode&4095|node.mode&~4095,timestamp:Date.now()})}),lchmod:(function(path,mode){FS.chmod(path,mode,true)}),fchmod:(function(fd,mode){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}FS.chmod(stream.node,mode)}),chown:(function(path,uid,gid,dontFollow){var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}node.node_ops.setattr(node,{timestamp:Date.now()})}),lchown:(function(path,uid,gid){FS.chown(path,uid,gid,true)}),fchown:(function(fd,uid,gid){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}FS.chown(stream.node,uid,gid)}),truncate:(function(path,len){if(len<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var node;if(typeof path==="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}if(!node.node_ops.setattr){throw new FS.ErrnoError(ERRNO_CODES.EPERM)}if(FS.isDir(node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var err=FS.nodePermissions(node,"w");if(err){throw new FS.ErrnoError(err)}node.node_ops.setattr(node,{size:len,timestamp:Date.now()})}),ftruncate:(function(fd,len){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}FS.truncate(stream.node,len)}),utime:(function(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;node.node_ops.setattr(node,{timestamp:Math.max(atime,mtime)})}),open:(function(path,flags,mode,fd_start,fd_end){if(path===""){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}flags=typeof flags==="string"?FS.modeStringToFlags(flags):flags;mode=typeof mode==="undefined"?438:mode;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;if(typeof path==="object"){node=path}else{path=PATH.normalize(path);try{var lookup=FS.lookupPath(path,{follow:!(flags&131072)});node=lookup.node}catch(e){}}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}}else{node=FS.mknod(path,mode,0);created=true}}if(!node){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}if(!created){var err=FS.mayOpen(node,flags);if(err){throw new FS.ErrnoError(err)}}if(flags&512){FS.truncate(node,0)}flags&=~(128|512);var stream=FS.createStream({node:node,path:FS.getPath(node),flags:flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false},fd_start,fd_end);if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(Module["logReadFiles"]&&!(flags&1)){if(!FS.readFiles)FS.readFiles={};if(!(path in FS.readFiles)){FS.readFiles[path]=1;Module["printErr"]("read file: "+path)}}try{if(FS.trackingDelegate["onOpenFile"]){var trackingFlags=0;if((flags&2097155)!==1){trackingFlags|=FS.tracking.openFlags.READ}if((flags&2097155)!==0){trackingFlags|=FS.tracking.openFlags.WRITE}FS.trackingDelegate["onOpenFile"](path,trackingFlags)}}catch(e){console.log("FS.trackingDelegate[\'onOpenFile\'](\'"+path+"\', flags) threw an exception: "+e.message)}return stream}),close:(function(stream){if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}}),llseek:(function(stream,offset,whence){if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position}),read:(function(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!stream.stream_ops.read){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}var seeking=true;if(typeof position==="undefined"){position=stream.position;seeking=false}else if(!stream.seekable){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead}),write:(function(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.EISDIR)}if(!stream.stream_ops.write){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if(stream.flags&1024){FS.llseek(stream,0,2)}var seeking=true;if(typeof position==="undefined"){position=stream.position;seeking=false}else if(!stream.seekable){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;try{if(stream.path&&FS.trackingDelegate["onWriteToFile"])FS.trackingDelegate["onWriteToFile"](stream.path)}catch(e){console.log("FS.trackingDelegate[\'onWriteToFile\'](\'"+path+"\') threw an exception: "+e.message)}return bytesWritten}),allocate:(function(stream,offset,length){if(offset<0||length<=0){throw new FS.ErrnoError(ERRNO_CODES.EINVAL)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(ERRNO_CODES.EBADF)}if(!FS.isFile(stream.node.mode)&&!FS.isDir(stream.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}if(!stream.stream_ops.allocate){throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP)}stream.stream_ops.allocate(stream,offset,length)}),mmap:(function(stream,buffer,offset,length,position,prot,flags){if((stream.flags&2097155)===1){throw new FS.ErrnoError(ERRNO_CODES.EACCES)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(ERRNO_CODES.ENODEV)}return stream.stream_ops.mmap(stream,buffer,offset,length,position,prot,flags)}),msync:(function(stream,buffer,offset,length,mmapFlags){if(!stream||!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)}),munmap:(function(stream){return 0}),ioctl:(function(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(ERRNO_CODES.ENOTTY)}return stream.stream_ops.ioctl(stream,cmd,arg)}),readFile:(function(path,opts){opts=opts||{};opts.flags=opts.flags||"r";opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error(\'Invalid encoding type "\'+opts.encoding+\'"\')}var ret;var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){ret=UTF8ArrayToString(buf,0)}else if(opts.encoding==="binary"){ret=buf}FS.close(stream);return ret}),writeFile:(function(path,data,opts){opts=opts||{};opts.flags=opts.flags||"w";opts.encoding=opts.encoding||"utf8";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){throw new Error(\'Invalid encoding type "\'+opts.encoding+\'"\')}var stream=FS.open(path,opts.flags,opts.mode);if(opts.encoding==="utf8"){var buf=new Uint8Array(lengthBytesUTF8(data)+1);var actualNumBytes=stringToUTF8Array(data,buf,0,buf.length);FS.write(stream,buf,0,actualNumBytes,0,opts.canOwn)}else if(opts.encoding==="binary"){FS.write(stream,data,0,data.length,0,opts.canOwn)}FS.close(stream)}),cwd:(function(){return FS.currentPath}),chdir:(function(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(ERRNO_CODES.ENOENT)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var err=FS.nodePermissions(lookup.node,"x");if(err){throw new FS.ErrnoError(err)}FS.currentPath=lookup.path}),createDefaultDirectories:(function(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")}),createDefaultDevices:(function(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:(function(){return 0}),write:(function(stream,buffer,offset,length,pos){return length})});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var random_device;if(typeof crypto!=="undefined"){var randomBuffer=new Uint8Array(1);random_device=(function(){crypto.getRandomValues(randomBuffer);return randomBuffer[0]})}else if(ENVIRONMENT_IS_NODE){random_device=(function(){return require("crypto").randomBytes(1)[0]})}else{random_device=(function(){return Math.random()*256|0})}FS.createDevice("/dev","random",random_device);FS.createDevice("/dev","urandom",random_device);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")}),createSpecialDirectories:(function(){FS.mkdir("/proc");FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount:(function(){var node=FS.createNode("/proc/self","fd",16384|511,73);node.node_ops={lookup:(function(parent,name){var fd=+name;var stream=FS.getStream(fd);if(!stream)throw new FS.ErrnoError(ERRNO_CODES.EBADF);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:(function(){return stream.path})}};ret.parent=ret;return ret})};return node})},{},"/proc/self/fd")}),createStandardStreams:(function(){if(Module["stdin"]){FS.createDevice("/dev","stdin",Module["stdin"])}else{FS.symlink("/dev/tty","/dev/stdin")}if(Module["stdout"]){FS.createDevice("/dev","stdout",null,Module["stdout"])}else{FS.symlink("/dev/tty","/dev/stdout")}if(Module["stderr"]){FS.createDevice("/dev","stderr",null,Module["stderr"])}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin","r");assert(stdin.fd===0,"invalid handle for stdin ("+stdin.fd+")");var stdout=FS.open("/dev/stdout","w");assert(stdout.fd===1,"invalid handle for stdout ("+stdout.fd+")");var stderr=FS.open("/dev/stderr","w");assert(stderr.fd===2,"invalid handle for stderr ("+stderr.fd+")")}),ensureErrnoError:(function(){if(FS.ErrnoError)return;FS.ErrnoError=function ErrnoError(errno,node){this.node=node;this.setErrno=(function(errno){this.errno=errno;for(var key in ERRNO_CODES){if(ERRNO_CODES[key]===errno){this.code=key;break}}});this.setErrno(errno);this.message=ERRNO_MESSAGES[errno]};FS.ErrnoError.prototype=new Error;FS.ErrnoError.prototype.constructor=FS.ErrnoError;[ERRNO_CODES.ENOENT].forEach((function(code){FS.genericErrors[code]=new FS.ErrnoError(code);FS.genericErrors[code].stack="<generic error, no stack>"}))}),staticInit:(function(){FS.ensureErrnoError();FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={"MEMFS":MEMFS,"IDBFS":IDBFS,"NODEFS":NODEFS,"WORKERFS":WORKERFS}}),init:(function(input,output,error){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)");FS.init.initialized=true;FS.ensureErrnoError();Module["stdin"]=input||Module["stdin"];Module["stdout"]=output||Module["stdout"];Module["stderr"]=error||Module["stderr"];FS.createStandardStreams()}),quit:(function(){FS.init.initialized=false;var fflush=Module["_fflush"];if(fflush)fflush(0);for(var i=0;i<FS.streams.length;i++){var stream=FS.streams[i];if(!stream){continue}FS.close(stream)}}),getMode:(function(canRead,canWrite){var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode}),joinPath:(function(parts,forceRelative){var path=PATH.join.apply(null,parts);if(forceRelative&&path[0]=="/")path=path.substr(1);return path}),absolutePath:(function(relative,base){return PATH.resolve(base,relative)}),standardizePath:(function(path){return PATH.normalize(path)}),findObject:(function(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(ret.exists){return ret.object}else{___setErrNo(ret.error);return null}}),analyzePath:(function(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret}),createFolder:(function(parent,name,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(canRead,canWrite);return FS.mkdir(path,mode)}),createPath:(function(parent,path,canRead,canWrite){parent=typeof parent==="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){}parent=current}return current}),createFile:(function(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(canRead,canWrite);return FS.create(path,mode)}),createDataFile:(function(parent,name,data,canRead,canWrite,canOwn){var path=name?PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name):parent;var mode=FS.getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data==="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,"w");FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}return node}),createDevice:(function(parent,name,input,output){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);var mode=FS.getMode(!!input,!!output);if(!FS.createDevice.major)FS.createDevice.major=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open:(function(stream){stream.seekable=false}),close:(function(stream){if(output&&output.buffer&&output.buffer.length){output(10)}}),read:(function(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(ERRNO_CODES.EAGAIN)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.timestamp=Date.now()}return bytesRead}),write:(function(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(ERRNO_CODES.EIO)}}if(length){stream.node.timestamp=Date.now()}return i})});return FS.mkdev(path,mode,dev)}),createLink:(function(parent,name,target,canRead,canWrite){var path=PATH.join2(typeof parent==="string"?parent:FS.getPath(parent),name);return FS.symlink(target,path)}),forceLoadFile:(function(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;var success=true;if(typeof XMLHttpRequest!=="undefined"){throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else if(Module["read"]){try{obj.contents=intArrayFromString(Module["read"](obj.url),true);obj.usedBytes=obj.contents.length}catch(e){success=false}}else{throw new Error("Cannot load without read() or XMLHttpRequest.")}if(!success)___setErrNo(ERRNO_CODES.EIO);return success}),createLazyFile:(function(parent,name,url,canRead,canWrite){function LazyUint8Array(){this.lengthKnown=false;this.chunks=[]}LazyUint8Array.prototype.get=function LazyUint8Array_get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]};LazyUint8Array.prototype.setDataGetter=function LazyUint8Array_setDataGetter(getter){this.getter=getter};LazyUint8Array.prototype.cacheLength=function LazyUint8Array_cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn\'t load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=(function(from,to){if(from>to)throw new Error("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)throw new Error("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);if(typeof Uint8Array!="undefined")xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))throw new Error("Couldn\'t load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}else{return intArrayFromString(xhr.responseText||"",true)}});var lazyArray=this;lazyArray.setDataGetter((function(chunkNum){var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]==="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]==="undefined")throw new Error("doXHR failed!");return lazyArray.chunks[chunkNum]}));if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;console.log("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true};if(typeof XMLHttpRequest!=="undefined"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var lazyArray=new LazyUint8Array;Object.defineProperties(lazyArray,{length:{get:(function(){if(!this.lengthKnown){this.cacheLength()}return this._length})},chunkSize:{get:(function(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize})}});var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url:url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:(function(){return this.contents.length})}});var stream_ops={};var keys=Object.keys(node.stream_ops);keys.forEach((function(key){var fn=node.stream_ops[key];stream_ops[key]=function forceLoadLazyFile(){if(!FS.forceLoadFile(node)){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return fn.apply(null,arguments)}}));stream_ops.read=function stream_ops_read(stream,buffer,offset,length,position){if(!FS.forceLoadFile(node)){throw new FS.ErrnoError(ERRNO_CODES.EIO)}var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);assert(size>=0);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size};node.stream_ops=stream_ops;return node}),createPreloadedFile:(function(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish){Browser.init();var fullname=name?PATH.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency("cp "+fullname);function processData(byteArray){function finish(byteArray){if(preFinish)preFinish();if(!dontCreateFile){FS.createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}if(onload)onload();removeRunDependency(dep)}var handled=false;Module["preloadPlugins"].forEach((function(plugin){if(handled)return;if(plugin["canHandle"](fullname)){plugin["handle"](byteArray,fullname,finish,(function(){if(onerror)onerror();removeRunDependency(dep)}));handled=true}}));if(!handled)finish(byteArray)}addRunDependency(dep);if(typeof url=="string"){Browser.asyncLoad(url,(function(byteArray){processData(byteArray)}),onerror)}else{processData(url)}}),indexedDB:(function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB}),DB_NAME:(function(){return"EM_FS_"+window.location.pathname}),DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(function(paths,onload,onerror){onload=onload||(function(){});onerror=onerror||(function(){});var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=function openRequest_onupgradeneeded(){console.log("creating db");var db=openRequest.result;db.createObjectStore(FS.DB_STORE_NAME)};openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;var transaction=db.transaction([FS.DB_STORE_NAME],"readwrite");var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach((function(path){var putRequest=files.put(FS.analyzePath(path).object.contents,path);putRequest.onsuccess=function putRequest_onsuccess(){ok++;if(ok+fail==total)finish()};putRequest.onerror=function putRequest_onerror(){fail++;if(ok+fail==total)finish()}}));transaction.onerror=onerror};openRequest.onerror=onerror}),loadFilesFromDB:(function(paths,onload,onerror){onload=onload||(function(){});onerror=onerror||(function(){});var indexedDB=FS.indexedDB();try{var openRequest=indexedDB.open(FS.DB_NAME(),FS.DB_VERSION)}catch(e){return onerror(e)}openRequest.onupgradeneeded=onerror;openRequest.onsuccess=function openRequest_onsuccess(){var db=openRequest.result;try{var transaction=db.transaction([FS.DB_STORE_NAME],"readonly")}catch(e){onerror(e);return}var files=transaction.objectStore(FS.DB_STORE_NAME);var ok=0,fail=0,total=paths.length;function finish(){if(fail==0)onload();else onerror()}paths.forEach((function(path){var getRequest=files.get(path);getRequest.onsuccess=function getRequest_onsuccess(){if(FS.analyzePath(path).exists){FS.unlink(path)}FS.createDataFile(PATH.dirname(path),PATH.basename(path),getRequest.result,true,true,true);ok++;if(ok+fail==total)finish()};getRequest.onerror=function getRequest_onerror(){fail++;if(ok+fail==total)finish()}}));transaction.onerror=onerror};openRequest.onerror=onerror})};var SYSCALLS={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:(function(dirfd,path){if(path[0]!=="/"){var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=FS.getStream(dirfd);if(!dirstream)throw new FS.ErrnoError(ERRNO_CODES.EBADF);dir=dirstream.path}path=PATH.join2(dir,path)}return path}),doStat:(function(func,path,buf){try{var stat=func(path)}catch(e){if(e&&e.node&&PATH.normalize(path)!==PATH.normalize(FS.getPath(e.node))){return-ERRNO_CODES.ENOTDIR}throw e}HEAP32[buf>>2]=stat.dev;HEAP32[buf+4>>2]=0;HEAP32[buf+8>>2]=stat.ino;HEAP32[buf+12>>2]=stat.mode;HEAP32[buf+16>>2]=stat.nlink;HEAP32[buf+20>>2]=stat.uid;HEAP32[buf+24>>2]=stat.gid;HEAP32[buf+28>>2]=stat.rdev;HEAP32[buf+32>>2]=0;HEAP32[buf+36>>2]=stat.size;HEAP32[buf+40>>2]=4096;HEAP32[buf+44>>2]=stat.blocks;HEAP32[buf+48>>2]=stat.atime.getTime()/1e3|0;HEAP32[buf+52>>2]=0;HEAP32[buf+56>>2]=stat.mtime.getTime()/1e3|0;HEAP32[buf+60>>2]=0;HEAP32[buf+64>>2]=stat.ctime.getTime()/1e3|0;HEAP32[buf+68>>2]=0;HEAP32[buf+72>>2]=stat.ino;return 0}),doMsync:(function(addr,stream,len,flags){var buffer=new Uint8Array(HEAPU8.subarray(addr,addr+len));FS.msync(stream,buffer,0,len,flags)}),doMkdir:(function(path,mode){path=PATH.normalize(path);if(path[path.length-1]==="/")path=path.substr(0,path.length-1);FS.mkdir(path,mode,0);return 0}),doMknod:(function(path,mode,dev){switch(mode&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ERRNO_CODES.EINVAL}FS.mknod(path,mode,dev);return 0}),doReadlink:(function(path,buf,bufsize){if(bufsize<=0)return-ERRNO_CODES.EINVAL;var ret=FS.readlink(path);var len=Math.min(bufsize,lengthBytesUTF8(ret));var endChar=HEAP8[buf+len];stringToUTF8(ret,buf,bufsize+1);HEAP8[buf+len]=endChar;return len}),doAccess:(function(path,amode){if(amode&~7){return-ERRNO_CODES.EINVAL}var node;var lookup=FS.lookupPath(path,{follow:true});node=lookup.node;var perms="";if(amode&4)perms+="r";if(amode&2)perms+="w";if(amode&1)perms+="x";if(perms&&FS.nodePermissions(node,perms)){return-ERRNO_CODES.EACCES}return 0}),doDup:(function(path,flags,suggestFD){var suggest=FS.getStream(suggestFD);if(suggest)FS.close(suggest);return FS.open(path,flags,0,suggestFD,suggestFD).fd}),doReadv:(function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break}return ret}),doWritev:(function(stream,iov,iovcnt,offset){var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAP32[iov+i*8>>2];var len=HEAP32[iov+(i*8+4)>>2];var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr}return ret}),varargs:0,get:(function(varargs){SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret}),getStr:(function(){var ret=Pointer_stringify(SYSCALLS.get());return ret}),getStreamFromFD:(function(){var stream=FS.getStream(SYSCALLS.get());if(!stream)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return stream}),getSocketFromFD:(function(){var socket=SOCKFS.getSocket(SYSCALLS.get());if(!socket)throw new FS.ErrnoError(ERRNO_CODES.EBADF);return socket}),getSocketAddress:(function(allowNull){var addrp=SYSCALLS.get(),addrlen=SYSCALLS.get();if(allowNull&&addrp===0)return null;var info=__read_sockaddr(addrp,addrlen);if(info.errno)throw new FS.ErrnoError(info.errno);info.addr=DNS.lookup_addr(info.addr)||info.addr;return info}),get64:(function(){var low=SYSCALLS.get(),high=SYSCALLS.get();if(low>=0)assert(high===0);else assert(high===-1);return low}),getZero:(function(){assert(SYSCALLS.get()===0)})};function ___syscall20(which,varargs){SYSCALLS.varargs=varargs;try{return PROCINFO.pid}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}var ___tm_current=STATICTOP;STATICTOP+=48;var ___tm_timezone=allocate(intArrayFromString("GMT"),"i8",ALLOC_STATIC);function _gmtime_r(time,tmPtr){var date=new Date(HEAP32[time>>2]*1e3);HEAP32[tmPtr>>2]=date.getUTCSeconds();HEAP32[tmPtr+4>>2]=date.getUTCMinutes();HEAP32[tmPtr+8>>2]=date.getUTCHours();HEAP32[tmPtr+12>>2]=date.getUTCDate();HEAP32[tmPtr+16>>2]=date.getUTCMonth();HEAP32[tmPtr+20>>2]=date.getUTCFullYear()-1900;HEAP32[tmPtr+24>>2]=date.getUTCDay();HEAP32[tmPtr+36>>2]=0;HEAP32[tmPtr+32>>2]=0;var start=Date.UTC(date.getUTCFullYear(),0,1,0,0,0,0);var yday=(date.getTime()-start)/(1e3*60*60*24)|0;HEAP32[tmPtr+28>>2]=yday;HEAP32[tmPtr+40>>2]=___tm_timezone;return tmPtr}function _gmtime(time){return _gmtime_r(time,___tm_current)}function ___lock(){}function ___unlock(){}function ___syscall6(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD();FS.close(stream);return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function _emscripten_memcpy_big(dest,src,num){HEAPU8.set(HEAPU8.subarray(src,src+num),dest);return dest}function _ftime(p){var millis=Date.now();HEAP32[p>>2]=millis/1e3|0;HEAP16[p+4>>1]=millis%1e3;HEAP16[p+6>>1]=0;HEAP16[p+8>>1]=0;return 0}function ___syscall140(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),offset_high=SYSCALLS.get(),offset_low=SYSCALLS.get(),result=SYSCALLS.get(),whence=SYSCALLS.get();var offset=offset_low;FS.llseek(stream,offset,whence);HEAP32[result>>2]=stream.position;if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall146(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),iov=SYSCALLS.get(),iovcnt=SYSCALLS.get();return SYSCALLS.doWritev(stream,iov,iovcnt)}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}function ___syscall54(which,varargs){SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(),op=SYSCALLS.get();switch(op){case 21505:{if(!stream.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21506:{if(!stream.tty)return-ERRNO_CODES.ENOTTY;return 0};case 21519:{if(!stream.tty)return-ERRNO_CODES.ENOTTY;var argp=SYSCALLS.get();HEAP32[argp>>2]=0;return 0};case 21520:{if(!stream.tty)return-ERRNO_CODES.ENOTTY;return-ERRNO_CODES.EINVAL};case 21531:{var argp=SYSCALLS.get();return FS.ioctl(stream,op,argp)};case 21523:{if(!stream.tty)return-ERRNO_CODES.ENOTTY;return 0};default:abort("bad ioctl syscall "+op)}}catch(e){if(typeof FS==="undefined"||!(e instanceof FS.ErrnoError))abort(e);return-e.errno}}FS.staticInit();__ATINIT__.unshift((function(){if(!Module["noFSInit"]&&!FS.init.initialized)FS.init()}));__ATMAIN__.push((function(){FS.ignorePermissions=false}));__ATEXIT__.push((function(){FS.quit()}));Module["FS_createFolder"]=FS.createFolder;Module["FS_createPath"]=FS.createPath;Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;Module["FS_createLazyFile"]=FS.createLazyFile;Module["FS_createLink"]=FS.createLink;Module["FS_createDevice"]=FS.createDevice;Module["FS_unlink"]=FS.unlink;__ATINIT__.unshift((function(){TTY.init()}));__ATEXIT__.push((function(){TTY.shutdown()}));if(ENVIRONMENT_IS_NODE){var fs=require("fs");var NODEJS_PATH=require("path");NODEFS.staticInit()}DYNAMICTOP_PTR=allocate(1,"i32",ALLOC_STATIC);STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP);STACK_MAX=STACK_BASE+TOTAL_STACK;DYNAMIC_BASE=Runtime.alignMemory(STACK_MAX);HEAP32[DYNAMICTOP_PTR>>2]=DYNAMIC_BASE;staticSealed=true;Module["wasmTableSize"]=14;Module["wasmMaxTableSize"]=14;function invoke_ii(index,a1){try{return Module["dynCall_ii"](index,a1)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_iiii(index,a1,a2,a3){try{return Module["dynCall_iiii"](index,a1,a2,a3)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}function invoke_viii(index,a1,a2,a3){try{Module["dynCall_viii"](index,a1,a2,a3)}catch(e){if(typeof e!=="number"&&e!=="longjmp")throw e;Module["setThrew"](1,0)}}Module.asmGlobalArg={"Math":Math,"Int8Array":Int8Array,"Int16Array":Int16Array,"Int32Array":Int32Array,"Uint8Array":Uint8Array,"Uint16Array":Uint16Array,"Uint32Array":Uint32Array,"Float32Array":Float32Array,"Float64Array":Float64Array,"NaN":NaN,"Infinity":Infinity};Module.asmLibraryArg={"abort":abort,"assert":assert,"enlargeMemory":enlargeMemory,"getTotalMemory":getTotalMemory,"abortOnCannotGrowMemory":abortOnCannotGrowMemory,"invoke_ii":invoke_ii,"invoke_iiii":invoke_iiii,"invoke_viii":invoke_viii,"_gmtime_r":_gmtime_r,"_gmtime":_gmtime,"___lock":___lock,"___syscall6":___syscall6,"___setErrNo":___setErrNo,"___unlock":___unlock,"_ftime":_ftime,"_emscripten_memcpy_big":_emscripten_memcpy_big,"___syscall54":___syscall54,"___syscall140":___syscall140,"___syscall20":___syscall20,"___assert_fail":___assert_fail,"___syscall146":___syscall146,"DYNAMICTOP_PTR":DYNAMICTOP_PTR,"tempDoublePtr":tempDoublePtr,"ABORT":ABORT,"STACKTOP":STACKTOP,"STACK_MAX":STACK_MAX};var asm=Module["asm"](Module.asmGlobalArg,Module.asmLibraryArg,buffer);Module["asm"]=asm;var _leathanhash_hash=Module["_leathanhash_hash"]=(function(){return Module["asm"]["_leathanhash_hash"].apply(null,arguments)});var getTempRet0=Module["getTempRet0"]=(function(){return Module["asm"]["getTempRet0"].apply(null,arguments)});var _free=Module["_free"]=(function(){return Module["asm"]["_free"].apply(null,arguments)});var runPostSets=Module["runPostSets"]=(function(){return Module["asm"]["runPostSets"].apply(null,arguments)});var setTempRet0=Module["setTempRet0"]=(function(){return Module["asm"]["setTempRet0"].apply(null,arguments)});var establishStackSpace=Module["establishStackSpace"]=(function(){return Module["asm"]["establishStackSpace"].apply(null,arguments)});var _memmove=Module["_memmove"]=(function(){return Module["asm"]["_memmove"].apply(null,arguments)});var stackSave=Module["stackSave"]=(function(){return Module["asm"]["stackSave"].apply(null,arguments)});var _memset=Module["_memset"]=(function(){return Module["asm"]["_memset"].apply(null,arguments)});var _malloc=Module["_malloc"]=(function(){return Module["asm"]["_malloc"].apply(null,arguments)});var _leathanhash_create=Module["_leathanhash_create"]=(function(){return Module["asm"]["_leathanhash_create"].apply(null,arguments)});var _memcpy=Module["_memcpy"]=(function(){return Module["asm"]["_memcpy"].apply(null,arguments)});var _emscripten_get_global_libc=Module["_emscripten_get_global_libc"]=(function(){return Module["asm"]["_emscripten_get_global_libc"].apply(null,arguments)});var stackAlloc=Module["stackAlloc"]=(function(){return Module["asm"]["stackAlloc"].apply(null,arguments)});var setThrew=Module["setThrew"]=(function(){return Module["asm"]["setThrew"].apply(null,arguments)});var _sbrk=Module["_sbrk"]=(function(){return Module["asm"]["_sbrk"].apply(null,arguments)});var _fflush=Module["_fflush"]=(function(){return Module["asm"]["_fflush"].apply(null,arguments)});var stackRestore=Module["stackRestore"]=(function(){return Module["asm"]["stackRestore"].apply(null,arguments)});var _leathanhash_destroy=Module["_leathanhash_destroy"]=(function(){return Module["asm"]["_leathanhash_destroy"].apply(null,arguments)});var ___errno_location=Module["___errno_location"]=(function(){return Module["asm"]["___errno_location"].apply(null,arguments)});var dynCall_ii=Module["dynCall_ii"]=(function(){return Module["asm"]["dynCall_ii"].apply(null,arguments)});var dynCall_iiii=Module["dynCall_iiii"]=(function(){return Module["asm"]["dynCall_iiii"].apply(null,arguments)});var dynCall_viii=Module["dynCall_viii"]=(function(){return Module["asm"]["dynCall_viii"].apply(null,arguments)});Runtime.stackAlloc=Module["stackAlloc"];Runtime.stackSave=Module["stackSave"];Runtime.stackRestore=Module["stackRestore"];Runtime.establishStackSpace=Module["establishStackSpace"];Runtime.setTempRet0=Module["setTempRet0"];Runtime.getTempRet0=Module["getTempRet0"];Module["asm"]=asm;if(memoryInitializer){if(typeof Module["locateFile"]==="function"){memoryInitializer=Module["locateFile"](memoryInitializer)}else if(Module["memoryInitializerPrefixURL"]){memoryInitializer=Module["memoryInitializerPrefixURL"]+memoryInitializer}if(ENVIRONMENT_IS_NODE||ENVIRONMENT_IS_SHELL){var data=Module["readBinary"](memoryInitializer);HEAPU8.set(data,Runtime.GLOBAL_BASE)}else{addRunDependency("memory initializer");var applyMemoryInitializer=(function(data){if(data.byteLength)data=new Uint8Array(data);HEAPU8.set(data,Runtime.GLOBAL_BASE);if(Module["memoryInitializerRequest"])delete Module["memoryInitializerRequest"].response;removeRunDependency("memory initializer")});function doBrowserLoad(){Module["readAsync"](memoryInitializer,applyMemoryInitializer,(function(){throw"could not load memory initializer "+memoryInitializer}))}if(Module["memoryInitializerRequest"]){function useRequest(){var request=Module["memoryInitializerRequest"];if(request.status!==200&&request.status!==0){console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+request.status+", retrying "+memoryInitializer);doBrowserLoad();return}applyMemoryInitializer(request.response)}if(Module["memoryInitializerRequest"].response){setTimeout(useRequest,0)}else{Module["memoryInitializerRequest"].addEventListener("load",useRequest)}}else{doBrowserLoad()}}}function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status}ExitStatus.prototype=new Error;ExitStatus.prototype.constructor=ExitStatus;var initialStackTop;var preloadStartTime=null;var calledMain=false;dependenciesFulfilled=function runCaller(){if(!Module["calledRun"])run();if(!Module["calledRun"])dependenciesFulfilled=runCaller};Module["callMain"]=Module.callMain=function callMain(args){args=args||[];ensureInitRuntime();var argc=args.length+1;function pad(){for(var i=0;i<4-1;i++){argv.push(0)}}var argv=[allocate(intArrayFromString(Module["thisProgram"]),"i8",ALLOC_NORMAL)];pad();for(var i=0;i<argc-1;i=i+1){argv.push(allocate(intArrayFromString(args[i]),"i8",ALLOC_NORMAL));pad()}argv.push(0);argv=allocate(argv,"i32",ALLOC_NORMAL);try{var ret=Module["_main"](argc,argv,0);exit(ret,true)}catch(e){if(e instanceof ExitStatus){return}else if(e=="SimulateInfiniteLoop"){Module["noExitRuntime"]=true;return}else{var toLog=e;if(e&&typeof e==="object"&&e.stack){toLog=[e,e.stack]}Module.printErr("exception thrown: "+toLog);Module["quit"](1,e)}}finally{calledMain=true}};function run(args){args=args||Module["arguments"];if(preloadStartTime===null)preloadStartTime=Date.now();if(runDependencies>0){return}preRun();if(runDependencies>0)return;if(Module["calledRun"])return;function doRun(){if(Module["calledRun"])return;Module["calledRun"]=true;if(ABORT)return;ensureInitRuntime();preMain();if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();if(Module["_main"]&&shouldRunNow)Module["callMain"](args);postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout((function(){setTimeout((function(){Module["setStatus"]("")}),1);doRun()}),1)}else{doRun()}}Module["run"]=Module.run=run;function exit(status,implicit){if(implicit&&Module["noExitRuntime"]){return}if(Module["noExitRuntime"]){}else{ABORT=true;EXITSTATUS=status;STACKTOP=initialStackTop;exitRuntime();if(Module["onExit"])Module["onExit"](status)}if(ENVIRONMENT_IS_NODE){process["exit"](status)}Module["quit"](status,new ExitStatus(status))}Module["exit"]=Module.exit=exit;var abortDecorators=[];function abort(what){if(Module["onAbort"]){Module["onAbort"](what)}if(what!==undefined){Module.print(what);Module.printErr(what);what=JSON.stringify(what)}else{what=""}ABORT=true;EXITSTATUS=1;var extra="\\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";var output="abort("+what+") at "+stackTrace()+extra;if(abortDecorators){abortDecorators.forEach((function(decorator){output=decorator(output,what)}))}throw output}Module["abort"]=Module.abort=abort;if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()()}}var shouldRunNow=true;if(Module["noInitialRun"]){shouldRunNow=false}run();var LeathashWASMWrapper=(function(){this.ctx=_leathanhash_create();this.throttleWait=0;this.throttledStart=0;this.throttledHashes=0;this.workThrottledBound=this.workThrottled.bind(this);this.currentJob=null;this.target=new Uint8Array([255,255,255,255,255,255,255,255]);var heap=Module.HEAPU8.buffer;this.input=new Uint8Array(heap,Module._malloc(84),84);this.output=new Uint8Array(heap,Module._malloc(32),32);self.postMessage("ready");self.onmessage=this.onMessage.bind(this)});LeathashWASMWrapper.prototype.onMessage=(function(msg){var job=msg.data;if(job.verify_id){this.verify(job);return}if(!this.currentJob||this.currentJob.job_id!==job.job_id){this.setJob(job)}if(job.throttle){this.throttleWait=1/(1-job.throttle)-1;this.throttledStart=this.now();this.throttledHashes=0;this.workThrottled()}else{this.work()}});LeathashWASMWrapper.prototype.destroy=(function(){_leathanhash_destroy(this.ctx)});LeathashWASMWrapper.prototype.hexToBytes=(function(hex,bytes){var bytes=new Uint8Array(hex.length/2);for(var i=0,c=0;c<hex.length;c+=2,i++){bytes[i]=parseInt(hex.substr(c,2),16)}return bytes});LeathashWASMWrapper.prototype.bytesToHex=(function(bytes){for(var hex="",i=0;i<bytes.length;i++){hex+=(bytes[i]>>>4).toString(16);hex+=(bytes[i]&15).toString(16)}return hex});LeathashWASMWrapper.prototype.meetsTarget=(function(hash,target){for(var i=0;i<target.length;i++){var hi=hash.length-i-1,ti=target.length-i-1;if(hash[hi]>target[ti]){return false}else if(hash[hi]<target[ti]){return true}}return false});LeathashWASMWrapper.prototype.setJob=(function(job){this.currentJob=job;this.blob=this.hexToBytes(job.blob);this.input.set(this.blob);var target=this.hexToBytes(job.target);if(target.length<=8){for(var i=0;i<target.length;i++){this.target[this.target.length-i-1]=target[target.length-i-1]}for(var i=0;i<this.target.length-target.length;i++){this.target[i]=255}}else{this.target=target}});LeathashWASMWrapper.prototype.now=(function(){return self.performance?self.performance.now():Date.now()});LeathashWASMWrapper.prototype.hash=(function(input,output,length){var nonce=Math.random()*4294967295+1>>>0;this.input[39]=(nonce&4278190080)>>24;this.input[40]=(nonce&16711680)>>16;this.input[41]=(nonce&65280)>>8;this.input[42]=(nonce&255)>>0;_leathanhash_hash(this.ctx,input.byteOffset,output.byteOffset,length)});LeathashWASMWrapper.prototype.verify=(function(job){this.blob=this.hexToBytes(job.blob);this.input.set(this.blob);for(var i=0,c=0;c<job.nonce.length;c+=2,i++){this.input[39+i]=parseInt(job.nonce.substr(c,2),16)}_leathanhash_hash(this.ctx,this.input.byteOffset,this.output.byteOffset,this.blob.length);var result=this.bytesToHex(this.output);self.postMessage({verify_id:job.verify_id,verified:result===job.result})});LeathashWASMWrapper.prototype.work=(function(){var hashes=0;var meetsTarget=false;var start=this.now();var elapsed=0;do{this.hash(this.input,this.output,this.blob.length);hashes++;meetsTarget=this.meetsTarget(this.output,this.target);elapsed=this.now()-start}while(!meetsTarget&&elapsed<1e3);var hashesPerSecond=hashes/(elapsed/1e3);if(meetsTarget){var nonceHex=this.bytesToHex(this.input.subarray(39,43));var resultHex=this.bytesToHex(this.output);self.postMessage({hashesPerSecond:hashesPerSecond,hashes:hashes,job_id:this.currentJob.job_id,nonce:nonceHex,result:resultHex})}else{self.postMessage({hashesPerSecond:hashesPerSecond,hashes:hashes})}});LeathashWASMWrapper.prototype.workThrottled=(function(){var start=this.now();this.hash(this.input,this.output,this.blob.length);var end=this.now();var timePerHash=end-start;this.throttledHashes++;var elapsed=end-this.throttledStart;var hashesPerSecond=this.throttledHashes/(elapsed/1e3);if(this.meetsTarget(this.output,this.target)){var nonceHex=this.bytesToHex(this.input.subarray(39,43));var resultHex=this.bytesToHex(this.output);self.postMessage({hashesPerSecond:hashesPerSecond,hashes:this.throttledHashes,job_id:this.currentJob.job_id,nonce:nonceHex,result:resultHex});this.throttledHashes=0}else if(elapsed>1e3){self.postMessage({hashesPerSecond:hashesPerSecond,hashes:this.throttledHashes});this.throttledHashes=0}else{var wait=Math.min(2e3,timePerHash*this.throttleWait);setTimeout(this.workThrottledBound,wait)}});Module["onRuntimeInitialized"]=(function(){var leathanhash=new LeathashWASMWrapper}) ');!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={};function g(e,t){var n=(t=t||r).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}var v=function(e,t){return new v.fn.init(e,t)},m=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,x=/-([a-z])/g,b=function(e,t){return t.toUpperCase()};v.fn=v.prototype={jquery:"3.2.1",constructor:v,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=v.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return v.each(this,e)},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},v.extend=v.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(v.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&v.isPlainObject(n)?n:{},a[t]=v.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},v.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===v.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=v.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=i(e))&&(n=f.call(t,"constructor")&&t.constructor,"function"!=typeof n||p.call(n)!==d))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e},globalEval:function(e){g(e)},camelCase:function(e){return e.replace(y,"ms-").replace(x,b)},each:function(e,t){var n,r=0;if(w(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(m,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?v.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(w(e))for(r=e.length;o<r;o++)i=t(e[o],o,n),null!=i&&s.push(i);else for(o in e)i=t(e[o],o,n),null!=i&&s.push(i);return a.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v.isFunction(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||v.guid++,i},now:Date.now,support:h}),"function"==typeof Symbol&&(v.fn[Symbol.iterator]=n[Symbol.iterator]),v.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function w(e){var t=!!e&&"length"in e&&e.length,n=v.type(e);return"function"!==n&&!v.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var T=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,v,m,y,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),N=function(e,t){return e===t&&(f=!0),0},D={}.hasOwnProperty,j=[],A=j.pop,q=j.push,L=j.push,H=j.slice,F=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+P+"*("+R+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+P+"*\\]",I=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",W=new RegExp(P+"+","g"),$=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),B=new RegExp("^"+P+"*,"+P+"*"),_=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),z=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),X=new RegExp(I),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+I),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},ie=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(j=H.call(w.childNodes),w.childNodes),j[w.childNodes.length].nodeType}catch(e){L={apply:j.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,m,y=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(y&&(l=y.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!v||!v.test(e))){if(1!==T)y=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),s=(h=a(e)).length;s--;)h[s]="#"+c+" "+me(h[s]);m=h.join(","),y=K.test(e)&&ge(t.parentNode)||t}if(m)try{return L.apply(r,y.querySelectorAll(m)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace($,"$1"),t,r,i)}function ae(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(h=(d=a).documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+P+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+b+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+P+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=Q.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",I)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?F(c,e)-F(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?F(c,e)-F(c,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!S[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&D.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(N),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(W," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&y){for(x=(d=(l=(c=(f=(p=v)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(y&&(p=t,f=p[b]||(p[b]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===T&&l[1],x=d),!1===x)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++x||(y&&(f=p[b]||(p[b]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[T,x]),p!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=F(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace($,"$1"));return r[b]?se(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ve(){}ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=r.preFilter;s;){n&&!(i=B.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace($," ")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function we(e,t,n,r,i,o){return r&&!r[b]&&(r=we(r)),i&&!i[b]&&(i=we(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:be(g,p,e,s,u),m=n?i||(o?e:h||r)?[]:a:v;if(n&&n(v,m,s,u),r)for(l=be(m,d),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(m[d[c]]=!(v[d[c]]=f));if(o){if(i||e){if(i){for(l=[],c=m.length;c--;)(f=m[c])&&l.push(v[c]=f);i(null,m=[],l,u)}for(c=m.length;c--;)(f=m[c])&&(l=i?F(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else m=be(m===a?m.splice(h,m.length):m),i?i(null,a,m,u):L.apply(a,m)})}function Te(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=ye(function(e){return e===t},s,!0),f=ye(function(e){return F(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[ye(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return we(u>1&&xe(p),u>1&&me(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace($,"$1"),n,u<i&&Te(e.slice(u,i)),i<o&&Te(e=e.slice(i)),i<o&&me(e))}p.push(n)}return xe(p)}return s=oe.compile=function(e,t){var n,i=[],o=[],s=S[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)s=Te(t[n]),s[b]?i.push(s):o.push(s);(s=S(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,v,m=0,y="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);y!==k&&null!=(f=C[y]);y++){if(i&&f){for(h=0,a||f.ownerDocument===d||(p(f),s=!g);v=e[h++];)if(v(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!v&&f)&&m--,o&&x.push(f))}if(m+=y,n&&y!==m){for(h=0;v=t[h++];)v(x,b,a,s);if(o){if(m>0)for(;y--;)x[y]||b[y]||(b[y]=A.call(u));b=be(b)}L.apply(u,b),c&&!o&&b.length>0&&m+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}(o,i))).selector=e}return s},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=V.needsContext.test(e)?0:u.length;o--&&(l=u[o],!r.relative[c=l.type]);)if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&me(u)))return L.apply(n,i),n;break}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(N).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(O,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);v.find=T,v.expr=T.selectors,v.expr[":"]=v.expr.pseudos,v.uniqueSort=v.unique=T.uniqueSort,v.text=T.getText,v.isXMLDoc=T.isXML,v.contains=T.contains,v.escapeSelector=T.escape;var C=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&v(e).is(n))break;r.push(e)}return r},E=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=v.expr.match.needsContext;function S(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,D=/^.[^:#\[\.,]*$/;function j(e,t,n){return v.isFunction(t)?v.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?v.grep(e,function(e){return e===t!==n}):"string"!=typeof t?v.grep(e,function(e){return u.call(t,e)>-1!==n}):D.test(t)?v.filter(t,e,n):(t=v.filter(t,e),v.grep(e,function(e){return u.call(t,e)>-1!==n&&1===e.nodeType}))}v.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?v.find.matchesSelector(r,e)?[r]:[]:v.find.matches(e,v.grep(t,function(e){return 1===e.nodeType}))},v.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(v(e).filter(function(){for(t=0;t<r;t++)if(v.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)v.find(e,i[t],n);return r>1?v.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?v(e):e||[],!1).length}});var A,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(v.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||A,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof v?t[0]:t,v.merge(this,v.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),N.test(i[1])&&v.isPlainObject(t))for(i in t)v.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v.isFunction(e)?void 0!==n.ready?n.ready(e):e(v):v.makeArray(e,this)}).prototype=v.fn,A=v(r);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({has:function(e){var t=v(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(v.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&v(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&v.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?v.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(v(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}v.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return S(e,"iframe")?e.contentDocument:(S(e,"template")&&(e=e.content||e),v.merge([],e.childNodes))}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=v.filter(r,i)),this.length>1&&(H[e]||v.uniqueSort(i),L.test(e)&&i.reverse()),this.pushStack(i)}});var O=/[^\x20\t\r\n\f]+/g;v.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return v.each(e.match(O)||[],function(e,n){t[n]=!0}),t}(e):v.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){v.each(n,function(n,r){v.isFunction(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==v.type(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return v.each(arguments,function(e,t){for(var n;(n=v.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?v.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function P(e){return e}function R(e){throw e}function M(e,t,n,r){var i;try{e&&v.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&v.isFunction(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}v.extend({Deferred:function(t){var n=[["notify","progress",v.Callbacks("memory"),v.Callbacks("memory"),2],["resolve","done",v.Callbacks("once memory"),v.Callbacks("once memory"),0,"resolved"],["reject","fail",v.Callbacks("once memory"),v.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return v.Deferred(function(t){v.each(n,function(n,r){var i=v.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,v.isFunction(l)?i?l.call(e,a(o,n,P,i),a(o,n,R,i)):(o++,l.call(e,a(o,n,P,i),a(o,n,R,i),a(o,n,P,n.notifyWith))):(r!==P&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==R&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(v.Deferred.getStackHook&&(c.stackTrace=v.Deferred.getStackHook()),e.setTimeout(c))}}return v.Deferred(function(e){n[0][3].add(a(0,e,v.isFunction(i)?i:P,e.notifyWith)),n[1][3].add(a(0,e,v.isFunction(t)?t:P)),n[2][3].add(a(0,e,v.isFunction(r)?r:R))}).promise()},promise:function(e){return null!=e?v.extend(e,i):i}},o={};return v.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=v.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&(M(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||v.isFunction(i[n]&&i[n].then)))return a.then();for(;n--;)M(i[n],s(n),a.reject);return a.promise()}});var I=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&I.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},v.readyException=function(t){e.setTimeout(function(){throw t})};var W=v.Deferred();v.fn.ready=function(e){return W.then(e).catch(function(e){v.readyException(e)}),this},v.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==e&&--v.readyWait>0||W.resolveWith(r,[v]))}}),v.ready.then=W.then;function $(){r.removeEventListener("DOMContentLoaded",$),e.removeEventListener("load",$),v.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(v.ready):(r.addEventListener("DOMContentLoaded",$),e.addEventListener("load",$));var B=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===v.type(n)){i=!0;for(s in n)B(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,v.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(v(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function z(){this.expando=v.expando+z.uid++}z.uid=1,z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},_(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[v.camelCase(t)]=n;else for(r in t)i[v.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][v.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(v.camelCase):t=(t=v.camelCase(t))in r?[t]:t.match(O)||[],n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||v.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!v.isEmptyObject(t)}};var X=new z,U=new z,V=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,G=/[A-Z]/g;function Y(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(G,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:V.test(i)?JSON.parse(i):i)}catch(e){}U.set(e,t,n)}else n=void 0;var i;return n}v.extend({hasData:function(e){return U.hasData(e)||X.hasData(e)},data:function(e,t,n){return U.access(e,t,n)},removeData:function(e,t){U.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),v.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=U.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=v.camelCase(r.slice(5)),Y(o,r,i[r])));X.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){U.set(this,e)}):B(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=U.get(o,e)))return n;if(void 0!==(n=Y(o,e)))return n}else this.each(function(){U.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){U.remove(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),o=v._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){v.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:v.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),v.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?v.queue(this[0],e):void 0===t?this:this.each(function(){var n=v.queue(this,e,t);v._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=v.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=X.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,J=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),K=["Top","Right","Bottom","Left"],Z=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&v.contains(e.ownerDocument,e)&&"none"===v.css(e,"display")},ee=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function te(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return v.css(e,t,"")},u=s(),l=n&&n[3]||(v.cssNumber[t]?"":"px"),c=(v.cssNumber[t]||"px"!==l&&+u)&&J.exec(v.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{o=o||".5",c/=o,v.style(e,t,c+l)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ne={};function re(e){var t,n=e.ownerDocument,r=e.nodeName,i=ne[r];return i||(t=n.body.appendChild(n.createElement(r)),i=v.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ne[r]=i,i)}function ie(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=X.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Z(r)&&(i[o]=re(r))):"none"!==n&&(i[o]="none",X.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}v.fn.extend({show:function(){return ie(this,!0)},hide:function(){return ie(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Z(this)?v(this).show():v(this).hide()})}});var oe=/^(?:checkbox|radio)$/i,ae=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,se=/^$|\/(?:java|ecma)script/i,ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td;function le(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&S(e,t)?v.merge([e],n):n}function ce(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}var fe=/<|&#?\w+;/;function pe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if(o=e[d],o||0===o)if("object"===v.type(o))v.merge(p,o.nodeType?[o]:o);else if(fe.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(ae.exec(o)||["",""])[1].toLowerCase(),u=ue[s]||ue._default,a.innerHTML=u[1]+v.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;v.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&v.inArray(o,r)>-1)i&&i.push(o);else if(l=v.contains(o.ownerDocument,o),a=le(f.appendChild(o),"script"),l&&ce(a),n)for(c=0;o=a[c++];)se.test(o.type||"")&&n.push(o);return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var de=r.documentElement,he=/^key/,ge=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ve=/^([^.]*)(?:\.(.+)|)/;function me(){return!0}function ye(){return!1}function xe(){try{return r.activeElement}catch(e){}}function be(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)be(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ye;else if(!i)return e;return 1===o&&(a=i,i=function(e){return v().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=v.guid++)),e.each(function(){v.event.add(this,t,i,r,n)})}v.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=X.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&v.find.matchesSelector(de,i),n.guid||(n.guid=v.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==v&&v.event.triggered!==t.type?v.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(O)||[""]).length;l--;)s=ve.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d&&(f=v.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=v.event.special[d]||{},c=v.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&v.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),v.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=X.hasData(e)&&X.get(e);if(m&&(u=m.events)){for(l=(t=(t||"").match(O)||[""]).length;l--;)if(s=ve.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=v.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||v.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)v.event.remove(e,d+t[l],n,r,!0);v.isEmptyObject(u)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=v.event.fix(e),u=new Array(arguments.length),l=(X.get(this,"events")||{})[s.type]||[],c=v.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=v.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,r=((v.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?v(i,this).index(l)>-1:v.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(v.Event.prototype,e,{enumerable:!0,configurable:!0,get:v.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[v.expando]?e:new v.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xe()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===xe()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&S(this,"input"))return this.click(),!1},_default:function(e){return S(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},v.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},v.Event=function(e,t){return this instanceof v.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?me:ye,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),void(this[v.expando]=!0)):new v.Event(e,t)},v.Event.prototype={constructor:v.Event,isDefaultPrevented:ye,isPropagationStopped:ye,isImmediatePropagationStopped:ye,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=me,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=me,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=me,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&he.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ge.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},v.event.addProp),v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||v.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),v.fn.extend({on:function(e,t,n,r){return be(this,e,t,n,r)},one:function(e,t,n,r){return be(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,v(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ye),this.each(function(){v.event.remove(this,e,n,t)})}});var we=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Te=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Ee=/^true\/(.*)/,ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Se(e,t){return S(e,"table")&&S(11!==t.nodeType?t:t.firstChild,"tr")?v(">tbody",e)[0]||e:e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function De(e){var t=Ee.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function je(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(X.hasData(e)&&(o=X.access(e),a=X.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)v.event.add(t,i,l[i][n])}U.hasData(e)&&(s=U.access(e),u=v.extend({},s),U.set(t,u))}}function Ae(e,t){var n=t.nodeName.toLowerCase();"input"===n&&oe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function qe(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,m=t[0],y=v.isFunction(m);if(y||p>1&&"string"==typeof m&&!h.checkClone&&Ce.test(m))return e.each(function(i){var o=e.eq(i);y&&(t[0]=m.call(this,i,o.html())),qe(o,t,n,r)});if(p&&(i=pe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=v.map(le(i,"script"),Ne)).length;f<p;f++)l=i,f!==d&&(l=v.clone(l,!0,!0),u&&v.merge(s,le(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,v.map(s,De),f=0;f<u;f++)l=s[f],se.test(l.type||"")&&!X.access(l,"globalEval")&&v.contains(c,l)&&(l.src?v._evalUrl&&v._evalUrl(l.src):g(l.textContent.replace(ke,""),c))}return e}function Le(e,t,n){for(var r,i=t?v.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||v.cleanData(le(r)),r.parentNode&&(n&&v.contains(r.ownerDocument,r)&&ce(le(r,"script")),r.parentNode.removeChild(r));return e}v.extend({htmlPrefilter:function(e){return e.replace(we,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=v.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||v.isXMLDoc(e)))for(a=le(s),o=le(e),r=0,i=o.length;r<i;r++)Ae(o[r],a[r]);if(t)if(n)for(o=o||le(e),a=a||le(s),r=0,i=o.length;r<i;r++)je(o[r],a[r]);else je(e,s);return(a=le(s,"script")).length>0&&ce(a,!u&&le(e,"script")),s},cleanData:function(e){for(var t,n,r,i=v.event.special,o=0;void 0!==(n=e[o]);o++)if(_(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)i[r]?v.event.remove(n,r):v.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[U.expando]&&(n[U.expando]=void 0)}}}),v.fn.extend({detach:function(e){return Le(this,e,!0)},remove:function(e){return Le(this,e)},text:function(e){return B(this,function(e){return void 0===e?v.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return qe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){Se(this,e).appendChild(e)}})},prepend:function(){return qe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Se(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return qe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return qe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(v.cleanData(le(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!ue[(ae.exec(e)||["",""])[1].toLowerCase()]){e=v.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(v.cleanData(le(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return qe(this,arguments,function(t){var n=this.parentNode;v.inArray(this,e)<0&&(v.cleanData(le(this)),n&&n.replaceChild(t,this))},e)}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(e){for(var n,r=[],i=v(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),v(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var He=/^margin/,Fe=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),Oe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(u){u.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",u.innerHTML="",de.appendChild(s);var t=e.getComputedStyle(u);n="1%"!==t.top,a="2px"===t.marginLeft,i="4px"===t.width,u.style.marginRight="50%",o="4px"===t.marginRight,de.removeChild(s),u=null}}var n,i,o,a,s=r.createElement("div"),u=r.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===u.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(u),v.extend(h,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),a}}))}();function Pe(e,t,n){var r,i,o,a,s=e.style;return(n=n||Oe(e))&&(a=n.getPropertyValue(t)||n[t],""!==a||v.contains(e.ownerDocument,e)||(a=v.style(e,t)),!h.pixelMarginRight()&&Fe.test(a)&&He.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Re(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}var Me=/^(none|table(?!-c[ea]).+)/,Ie=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"},Be=["Webkit","Moz","ms"],_e=r.createElement("div").style;function ze(e){var t=v.cssProps[e];return t||(t=v.cssProps[e]=function(e){if(e in _e)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Be.length;n--;)if(e=Be[n]+t,e in _e)return e}(e)||e),t}function Xe(e,t,n){var r=J.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ue(e,t,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(a+=v.css(e,n+K[o],!0,i)),r?("content"===n&&(a-=v.css(e,"padding"+K[o],!0,i)),"margin"!==n&&(a-=v.css(e,"border"+K[o]+"Width",!0,i))):(a+=v.css(e,"padding"+K[o],!0,i),"padding"!==n&&(a+=v.css(e,"border"+K[o]+"Width",!0,i)));return a}function Ve(e,t,n){var r,i=Oe(e),o=Pe(e,t,i),a="border-box"===v.css(e,"boxSizing",!1,i);return Fe.test(o)?o:(r=a&&(h.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+Ue(e,t,n||(a?"border":"content"),r,i)+"px")}v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Pe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=v.camelCase(t),u=Ie.test(t),l=e.style;return u||(t=ze(s)),a=v.cssHooks[t]||v.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:("string"===(o=typeof n)&&(i=J.exec(n))&&i[1]&&(n=te(e,t,i),o="number"),void(null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(v.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))))}},css:function(e,t,n,r){var i,o,a,s=v.camelCase(t);return Ie.test(t)||(t=ze(s)),(a=v.cssHooks[t]||v.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Pe(e,t,r)),"normal"===i&&t in $e&&(i=$e[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return!Me.test(v.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ve(e,t,r):ee(e,We,function(){return Ve(e,t,r)})},set:function(e,n,r){var i,o=r&&Oe(e),a=r&&Ue(e,t,r,"border-box"===v.css(e,"boxSizing",!1,o),o);return a&&(i=J.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=v.css(e,t)),Xe(0,n,a)}}}),v.cssHooks.marginLeft=Re(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Pe(e,"marginLeft"))||e.getBoundingClientRect().left-ee(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+K[r]+t]=o[r]||o[r-2]||o[0];return i}},He.test(e)||(v.cssHooks[e+t].set=Xe)}),v.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Oe(e),i=t.length;a<i;a++)o[t[a]]=v.css(e,t[a],!1,r);return o}return void 0!==n?v.style(e,t,n):v.css(e,t)},e,t,arguments.length>1)}});function Ge(e,t,n,r,i){return new Ge.prototype.init(e,t,n,r,i)}v.Tween=Ge,Ge.prototype={constructor:Ge,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||v.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(v.cssNumber[n]?"":"px")},cur:function(){var e=Ge.propHooks[this.prop];return e&&e.get?e.get(this):Ge.propHooks._default.get(this)},run:function(e){var t,n=Ge.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ge.propHooks._default.set(this),this}},Ge.prototype.init.prototype=Ge.prototype,Ge.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=v.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[v.cssProps[e.prop]]&&!v.cssHooks[e.prop]?e.elem[e.prop]=e.now:v.style(e.elem,e.prop,e.now+e.unit)}}},Ge.propHooks.scrollTop=Ge.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},v.fx=Ge.prototype.init,v.fx.step={};var Ye,Qe,Je=/^(?:toggle|show|hide)$/,Ke=/queueHooks$/;function Ze(){Qe&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(Ze):e.setTimeout(Ze,v.fx.interval),v.fx.tick())}function et(){return e.setTimeout(function(){Ye=void 0}),Ye=v.now()}function tt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=K[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function nt(e,t,n){for(var r,i=(rt.tweeners[t]||[]).concat(rt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function rt(e,t,n){var r,i,o=0,a=rt.prefilters.length,s=v.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Ye||et(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},n),originalProperties:t,originalOptions:n,startTime:Ye||et(),duration:n.duration,tweens:[],createTween:function(t,n){var r=v.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(r=v.camelCase(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=v.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=rt.prefilters[o].call(l,e,c,l.opts))return v.isFunction(r.stop)&&(v._queueHooks(l.elem,l.opts.queue).stop=v.proxy(r.stop,r)),r;return v.map(c,nt,l),v.isFunction(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),v.fx.timer(v.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}v.Animation=v.extend(rt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return te(n.elem,e,J.exec(t),n),n}]},tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.match(O);for(var n,r=0,i=e.length;r<i;r++)n=e[r],rt.tweeners[n]=rt.tweeners[n]||[],rt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&Z(e),m=X.get(e,"fxshow");n.queue||(a=v._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,v.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],Je.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}d[r]=m&&m[r]||v.style(e,r)}if((u=!v.isEmptyObject(t))||!v.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=m&&m.display,null==l&&(l=X.get(e,"display")),c=v.css(e,"display"),"none"===c&&(l?c=l:(ie([e],!0),l=e.style.display||l,c=v.css(e,"display"),ie([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===v.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(m?"hidden"in m&&(g=m.hidden):m=X.access(e,"fxshow",{display:l}),o&&(m.hidden=!g),g&&ie([e],!0),p.done(function(){g||ie([e]),X.remove(e,"fxshow");for(r in d)v.style(e,r,d[r])})),u=nt(g?m[r]:0,r,p),r in m||(m[r]=u.start,g&&(u.end=u.start,u.start=0))}}],prefilter:function(e,t){t?rt.prefilters.unshift(e):rt.prefilters.push(e)}}),v.speed=function(e,t,n){var r=e&&"object"==typeof e?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};return v.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in v.fx.speeds?r.duration=v.fx.speeds[r.duration]:r.duration=v.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Z).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),o=v.speed(t,n,r),a=function(){var t=rt(this,v.extend({},e),o);(i||X.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=v.timers,a=X.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Ke.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||v.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=X.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=v.timers,a=r?r.length:0;for(n.finish=!0,v.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(tt(t,!0),e,r,i)}}),v.each({slideDown:tt("show"),slideUp:tt("hide"),slideToggle:tt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.timers=[],v.fx.tick=function(){var e,t=0,n=v.timers;for(Ye=v.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||v.fx.stop(),Ye=void 0},v.fx.timer=function(e){v.timers.push(e),v.fx.start()},v.fx.interval=13,v.fx.start=function(){Qe||(Qe=!0,Ze())},v.fx.stop=function(){Qe=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(t,n){return t=v.fx?v.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var it,ot=v.expr.attrHandle;v.fn.extend({attr:function(e,t){return B(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})}}),v.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?v.prop(e,t,n):(1===o&&v.isXMLDoc(e)||(i=v.attrHooks[t.toLowerCase()]||(v.expr.match.bool.test(t)?it:void 0)),void 0!==n?null===n?void v.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=v.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&S(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(O);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),it={set:function(e,t,n){return!1===t?v.removeAttr(e,n):e.setAttribute(n,n),n}},v.each(v.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||v.find.attr;ot[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ot[a],ot[a]=i,i=null!=n(e,t,r)?a:null,ot[a]=o),i}});var at=/^(?:input|select|textarea|button)$/i,st=/^(?:a|area)$/i;v.fn.extend({prop:function(e,t){return B(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[v.propFix[e]||e]})}}),v.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&v.isXMLDoc(e)||(t=v.propFix[t]||t,i=v.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=v.find.attr(e,"tabindex");return t?parseInt(t,10):at.test(e.nodeName)||st.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(v.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){v.propFix[this.toLowerCase()]=this});function ut(e){return(e.match(O)||[]).join(" ")}function lt(e){return e.getAttribute&&e.getAttribute("class")||""}v.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,lt(this)))});if("string"==typeof e&&e)for(t=e.match(O)||[];n=this[u++];)if(i=lt(n),r=1===n.nodeType&&" "+ut(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ut(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,lt(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(O)||[];n=this[u++];)if(i=lt(n),r=1===n.nodeType&&" "+ut(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=ut(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,lt(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=v(this),o=e.match(O)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=lt(this),t&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ut(lt(n))+" ").indexOf(t)>-1)return!0;return!1}});var ct=/\r/g;v.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,v(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=v.map(i,function(e){return null==e?"":e+""})),t=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=v.valHooks[i.type]||v.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ct,""):null==n?"":n:void 0}}),v.extend({valHooks:{option:{get:function(e){var t=v.find.attr(e,"value");return null!=t?t:ut(v.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,"optgroup"))){if(t=v(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=v.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=v.inArray(v.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=v.inArray(v(e).val(),t)>-1}},h.checkOn||(v.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var ft=/^(?:focusinfocus|focusoutblur)$/;v.extend(v.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h=[i||r],g=f.call(t,"type")?t.type:t,m=f.call(t,"namespace")?t.namespace.split("."):[];if(s=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!ft.test(g+v.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,t=t[v.expando]?t:new v.Event(g,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:v.makeArray(n,[t]),d=v.event.special[g]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!v.isWindow(i)){for(l=d.delegateType||g,ft.test(l+g)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(i.ownerDocument||r)&&h.push(u.defaultView||u.parentWindow||e)}for(a=0;(s=h[a++])&&!t.isPropagationStopped();)t.type=a>1?l:d.bindType||g,p=(X.get(s,"events")||{})[t.type]&&X.get(s,"handle"),p&&p.apply(s,n),p=c&&s[c],p&&p.apply&&_(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=g,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),n)||!_(i)||c&&v.isFunction(i[g])&&!v.isWindow(i)&&(u=i[c],u&&(i[c]=null),v.event.triggered=g,i[g](),v.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=v.extend(new v.Event,n,{type:e,isSimulated:!0});v.event.trigger(r,null,t)}}),v.fn.extend({trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return v.event.trigger(e,t,n,!0)}}),v.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger&&this.trigger(t)}}),v.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),h.focusin="onfocusin"in e,h.focusin||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){v.event.simulate(t,e.target,v.event.fix(e))};v.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=X.access(r,t);i||r.addEventListener(e,n,!0),X.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=X.access(r,t)-1;i?X.access(r,t,i):(r.removeEventListener(e,n,!0),X.remove(r,t))}}});var pt=e.location,dt=v.now(),ht=/\?/;v.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+t),n};var gt=/\[\]$/,vt=/\r?\n/g,mt=/^(?:submit|button|image|reset|file)$/i,yt=/^(?:input|select|textarea|keygen)/i;function xt(e,t,n,r){var i;if(Array.isArray(t))v.each(t,function(t,i){n||gt.test(e)?r(e,i):xt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==v.type(t))r(e,t);else for(i in t)xt(e+"["+i+"]",t[i],n,r)}v.param=function(e,t){var n,r=[],i=function(e,t){var n=v.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){i(this.name,this.value)});else for(n in e)xt(n,e[n],t,i);return r.join("&")},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=v.prop(this,"elements");return e?v.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!v(this).is(":disabled")&&yt.test(this.nodeName)&&!mt.test(e)&&(this.checked||!oe.test(e))}).map(function(e,t){var n=v(this).val();return null==n?null:Array.isArray(n)?v.map(n,function(e){return{name:t.name,value:e.replace(vt,"\r\n")}}):{name:t.name,value:n.replace(vt,"\r\n")}}).get()}});var bt=/%20/g,wt=/#.*$/,Tt=/([?&])_=[^&]*/,Ct=/^(.*?):[ \t]*([^\r\n]*)$/gm,Et=/^(?:GET|HEAD)$/,kt=/^\/\//,St={},Nt={},Dt="*/".concat("*"),jt=r.createElement("a");jt.href=pt.href;function At(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(O)||[];if(v.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qt(e,t,n,r){var i={},o=e===Nt;function a(s){var u;return i[s]=!0,v.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Lt(e,t){var n,r,i=v.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&v.extend(!0,e,r),e}v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:pt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Lt(Lt(e,v.ajaxSettings),t):Lt(v.ajaxSettings,e)},ajaxPrefilter:At(St),ajaxTransport:At(Nt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=v.ajaxSetup({},n),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?v(g):v.event,y=v.Deferred(),x=v.Callbacks("once memory"),b=h.statusCode||{},w={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ct.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(y.promise(E),h.url=((t||h.url||pt.href)+"").replace(kt,pt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(O)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=jt.protocol+"//"+jt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=v.param(h.data,h.traditional)),qt(St,h,n,E),c)return E;(f=v.event&&h.global)&&0==v.active++&&v.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Et.test(h.type),o=h.url.replace(wt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(bt,"+")):(d=h.url.slice(o.length),h.data&&(o+=(ht.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Tt,"$1"),d=(ht.test(o)?"&":"?")+"_="+dt+++d),h.url=o+d),h.ifModified&&(v.lastModified[o]&&E.setRequestHeader("If-Modified-Since",v.lastModified[o]),v.etag[o]&&E.setRequestHeader("If-None-Match",v.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Dt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",x.add(h.complete),E.done(h.success),E.fail(h.error),i=qt(Nt,h,n,E)){if(E.readyState=1,f&&m.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(w,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,s){var l,p,d,w,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(w=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(h,E,r)),w=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(h,w,E,l),l?(h.ifModified&&(T=E.getResponseHeader("Last-Modified"),T&&(v.lastModified[o]=T),T=E.getResponseHeader("etag"),T&&(v.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=w.state,p=w.data,d=w.error,l=!d)):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?y.resolveWith(g,[p,C,E]):y.rejectWith(g,[E,C,d]),E.statusCode(b),b=void 0,f&&m.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),x.fireWith(g,[E,C]),f&&(m.trigger("ajaxComplete",[E,h]),--v.active||v.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return v.get(e,t,n,"json")},getScript:function(e,t){return v.get(e,void 0,t,"script")}}),v.each(["get","post"],function(e,t){v[t]=function(e,n,r,i){return v.isFunction(n)&&(i=i||r,r=n,n=void 0),v.ajax(v.extend({url:e,type:t,dataType:i,data:n,success:r},v.isPlainObject(e)&&e))}}),v._evalUrl=function(e){return v.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},v.fn.extend({wrapAll:function(e){var t;return this[0]&&(v.isFunction(e)&&(e=e.call(this[0])),t=v(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){v(this).replaceWith(this.childNodes)}),this}}),v.expr.pseudos.hidden=function(e){return!v.expr.pseudos.visible(e)},v.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Ft=v.ajaxSettings.xhr();h.cors=!!Ft&&"withCredentials"in Ft,h.ajax=Ft=!!Ft,v.ajaxTransport(function(t){var n,r;if(h.cors||Ft&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ht[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),v.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),v.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=v("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ot=[],Pt=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ot.pop()||v.expando+"_"+dt++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Pt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=v.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Pt,"$1"+i):!1!==t.jsonp&&(t.url+=(ht.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||v.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?v(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ot.push(i)),a&&v.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),v.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?(t=r.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=r.location.href,t.head.appendChild(i)):t=r),o=N.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=pe([e],t,a),a&&a.length&&v(a).remove(),v.merge([],o.childNodes))},v.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=ut(e.slice(s)),e=e.slice(0,s)),v.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&v.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?v("<div>").append(v.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},v.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.expr.pseudos.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length},v.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=v.css(e,"position"),c=v(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=v.css(e,"top"),u=v.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,v.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},v.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){v.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];return o?o.getClientRects().length?(r=o.getBoundingClientRect(),n=(t=o.ownerDocument).documentElement,i=t.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===v.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),S(e[0],"html")||(r=e.offset()),r={top:r.top+v.css(e[0],"borderTopWidth",!0),left:r.left+v.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-v.css(n,"marginTop",!0),left:t.left-r.left-v.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===v.css(e,"position");)e=e.offsetParent;return e||de})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;v.fn[e]=function(r){return B(this,function(e,r,i){var o;return v.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),v.each(["top","left"],function(e,t){v.cssHooks[t]=Re(h.pixelPosition,function(e,n){if(n)return n=Pe(e,t),Fe.test(n)?v(e).position()[t]+"px":n})}),v.each({Height:"height",Width:"width"},function(e,t){v.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){v.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return B(this,function(t,n,i){var o;return v.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?v.css(t,n,s):v.style(t,n,i,s)},t,a?i:void 0,a)}})}),v.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),v.holdReady=function(e){e?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=S,"function"==typeof define&&define.amd&&define("jquery",[],function(){return v});var Rt=e.jQuery,Mt=e.$;return v.noConflict=function(t){return e.$===v&&(e.$=Mt),t&&e.jQuery===v&&(e.jQuery=Rt),v},t||(e.jQuery=e.$=v),v});!function(){function t(t){for(var n=-1,e=t.length,r=[];++n<e;)r.push(t[n]);return r}function n(){return this}function e(t){return null!=t&&!isNaN(t)}function r(t){return t.length}function i(t){return null==t}function a(t){return t.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function o(){}function u(){function t(){for(var t,e=n,r=-1,i=e.length;++r<i;)(t=e[r])._on&&t.apply(this,arguments)}var n=[],e={};return t.on=function(r,i){var a,o;return(a=e[r])&&(a._on=!1,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),delete e[r]),i&&(i._on=!0,n.push(i),e[r]=i),t},t}function l(t,n){return n-(t?1+Math.floor(Math.log(t+Math.pow(10,1+Math.floor(Math.log(t)/Math.LN10)-n))/Math.LN10):1)}function c(t){return t+""}function f(t){for(var n=t.lastIndexOf("."),e=n>=0?t.substring(n):(n=t.length,""),r=[];n>0;)r.push(t.substring(n-=3,n+3));return r.reverse().join(",")+e}function s(t){return function(n){return 1-t(1-n)}}function h(t){return function(n){return.5*(n<.5?t(2*n):2-t(2-2*n))}}function d(t){return t}function v(t){return function(n){return Math.pow(n,t)}}function g(t){return 1-Math.cos(t*Math.PI/2)}function p(t){return Math.pow(2,10*(t-1))}function y(t){return 1-Math.sqrt(1-t*t)}function m(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function b(){d3v3.event.stopPropagation(),d3v3.event.preventDefault()}function M(t){return"transform"==t?d3v3.interpolateTransform:d3v3.interpolate}function w(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return(e-t)*n}}function x(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return Math.max(0,Math.min(1,(e-t)*n))}}function _(t,n,e){return new k(t,n,e)}function k(t,n,e){this.r=t,this.g=n,this.b=e}function A(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function N(t,n,e){var r,i,a,o=0,u=0,l=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return n(q(i[0]),q(i[1]),q(i[2]))}return(a=dn[t])?n(a.r,a.g,a.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(o=t.charAt(1),o+=o,u=t.charAt(2),u+=u,l=t.charAt(3),l+=l):7===t.length&&(o=t.substring(1,3),u=t.substring(3,5),l=t.substring(5,7)),o=parseInt(o,16),u=parseInt(u,16),l=parseInt(l,16)),n(o,u,l))}function S(t,n,e){var r,i,a=Math.min(t/=255,n/=255,e/=255),o=Math.max(t,n,e),u=o-a,l=(o+a)/2;return u?(i=l<.5?u/(o+a):u/(2-o-a),r=t==o?(n-e)/u+(n<e?6:0):n==o?(e-t)/u+2:(t-n)/u+4,r*=60):i=r=0,z(r,i,l)}function q(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function z(t,n,e){return new P(t,n,e)}function P(t,n,e){this.h=t,this.s=n,this.l=e}function L(t,n,e){function r(t){return Math.round(255*(n=t,n>360?n-=360:n<0&&(n+=360),n<60?i+(a-i)*n/60:n<180?a:n<240?i+(a-i)*(240-n)/60:i));var n}var i,a;return(t%=360)<0&&(t+=360),n=n<0?0:n>1?1:n,i=2*(e=e<0?0:e>1?1:e)-(a=e<=.5?e*(1+n):e+n-e*n),_(r(t+120),r(t),r(t-120))}function V(t){return en(t,yn),t}function T(t){return function(){return gn(t,this)}}function R(t){return function(){return pn(t,this)}}function F(t,n){function e(){if(n=this.classList)return n.add(t);var n=this.className,e=null!=n.baseVal,r=e?n.baseVal:n;i.lastIndex=0,i.test(r)||(r=a(r+" "+t),e?n.baseVal=r:this.className=r)}function r(){if(n=this.classList)return n.remove(t);var n=this.className,e=null!=n.baseVal,r=e?n.baseVal:n;r=a(r.replace(i," ")),e?n.baseVal=r:this.className=r}var i=new RegExp("(^|\\s+)"+d3v3.requote(t)+"(\\s+|$)","g");if(arguments.length<2){var o=this.node();if(u=o.classList)return u.contains(t);var u=o.className;return i.lastIndex=0,i.test(null!=u.baseVal?u.baseVal:u)}return this.each("function"==typeof n?function(){(n.apply(this,arguments)?e:r).call(this)}:n?e:r)}function j(t){return{__data__:t}}function C(t,n,e){en(t,xn);var r={},i=d3v3.dispatch("start","end"),a=An;return t.id=n,t.time=e,t.tween=function(n,e){return arguments.length<2?r[n]:(null==e?delete r[n]:r[n]=e,t)},t.ease=function(n){return arguments.length?(a="function"==typeof n?n:d3v3.ease.apply(d3v3,arguments),t):a},t.each=function(n,e){return arguments.length<2?function(t){for(var n=0,e=this.length;n<e;n++)for(var r=this[n],i=0,a=r.length;i<a;i++){var o=r[i];o&&t.call(o=o.node,o.__data__,i,n)}return this}.call(t,n):(i.on(n,e),t)},d3v3.timer(function(o){return t.each(function(u,l,c){function f(t){if(y.active>n)return h();y.active=n;for(var a in r)(a=r[a].call(v,u,l))&&d.push(a);return i.start.call(v,u,l),s(t)||d3v3.timer(s,0,e),1}function s(t){if(y.active!==n)return h();for(var e=(t-g)/p,r=a(e),o=d.length;o>0;)d[--o].call(v,r);return e>=1?(h(),kn=n,i.end.call(v,u,l),kn=0,1):void 0}function h(){return--y.count||delete v.__transition__,1}var d=[],v=this,g=t[c][l].delay,p=t[c][l].duration,y=v.__transition__||(v.__transition__={active:0,count:0});++y.count,g<=o?f(o):d3v3.timer(f,g,e)}),1},0,e),t}function H(t,n,e){return""!=e&&wn}function E(t,n){var e=M(t);return"function"==typeof n?function(t,r,i){var a=n.call(this,t,r);return null==a?""!=i&&wn:i!=a&&e(i,a)}:null==n?H:(n+="",function(t,r,i){return i!=n&&e(i,n)})}function I(){for(var t,n=Date.now(),e=qn;e;)t=n-e.then,t>=e.delay&&(e.flush=e.callback(t)),e=e.next;var r=D()-n;r>24?(isFinite(r)&&(clearTimeout(Sn),Sn=setTimeout(I,r)),Nn=0):(Nn=1,zn(I))}function D(){for(var t=null,n=qn,e=1/0;n;)n.flush?n=t?t.next=n.next:qn=n.next:(e=Math.min(e,n.then+n.delay),n=(t=n).next);return e}function Z(t){var n,e,r,i=[t.a,t.b],a=[t.c,t.d],o=B(i),u=O(i,a),l=B((n=a,e=i,r=-u,n[0]+=r*e[0],n[1]+=r*e[1],n));this.translate=[t.e,t.f],this.rotate=Math.atan2(t.b,t.a)*Ln,this.scale=[o,l||0],this.skew=l?u/l*Ln:0}function O(t,n){return t[0]*n[0]+t[1]*n[1]}function B(t){var n=Math.sqrt(O(t,t));return t[0]/=n,t[1]/=n,n}function X(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]}function $(t,n){var e,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(e=r,r=i,i=e,e=a,a=o,o=e),(e=o-a)&&(n=n(e),t[r]=n.floor(a),t[i]=n.ceil(o)),t}function K(){return Math}function G(t,n){return t.range=d3v3.rebind(t,n.range),t.rangeRound=d3v3.rebind(t,n.rangeRound),t.interpolate=d3v3.rebind(t,n.interpolate),t.clamp=d3v3.rebind(t,n.clamp),t}function Y(t){return t=Math.pow(10,Math.round(Math.log(t)/Math.LN10)-1),{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}}function Q(t,n){var e=X(t),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),a=n/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function J(t,n){return d3v3.range.apply(d3v3,Q(t,n))}function W(t,n){return d3v3.format(",."+Math.max(0,-Math.floor(Math.log(Q(t,n)[2])/Math.LN10+.01))+"f")}function U(t,n,e,r){var i=e(t[0],t[1]),a=r(n[0],n[1]);return function(t){return a(i(t))}}function tt(t,n,e,r){for(var i=[],a=[],o=0,u=t.length;++o<u;)i.push(e(t[o-1],t[o])),a.push(r(n[o-1],n[o]));return function(n){var e=d3v3.bisect(t,n,1,t.length-1)-1;return a[e](i[e](n))}}function nt(t){return Math.log(t)/Math.LN10}function et(t){return-Math.log(-t)/Math.LN10}function rt(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function it(t){return t.innerRadius}function at(t){return t.outerRadius}function ot(t){return t.startAngle}function ut(t){return t.endAngle}function lt(t){function n(n){return n.length<1?null:"M"+a(t(ct(this,n,e,r)),o)}var e=ft,r=st,i="linear",a=En[i],o=.7;return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n.interpolate=function(t){return arguments.length?(a=En[i=t],n):i},n.tension=function(t){return arguments.length?(o=t,n):o},n}function ct(t,n,e,r){var i,a=[],o=-1,u=n.length,l="function"==typeof e,c="function"==typeof r;if(l&&c)for(;++o<u;)a.push([e.call(t,i=n[o],o),r.call(t,i,o)]);else if(l)for(;++o<u;)a.push([e.call(t,n[o],o),r]);else if(c)for(;++o<u;)a.push([e,r.call(t,n[o],o)]);else for(;++o<u;)a.push([e,r]);return a}function ft(t){return t[0]}function st(t){return t[1]}function ht(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("L",(r=t[n])[0],",",r[1]);return i.join("")}function dt(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("V",(r=t[n])[1],"H",r[0]);return i.join("")}function vt(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r=t[n])[0],"V",r[1]);return i.join("")}function gt(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return ht(t);var e=t.length!=n.length,r="",i=t[0],a=t[1],o=n[0],u=o,l=1;if(e&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],l=2),n.length>1){u=n[1],a=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-u[0])+","+(a[1]-u[1])+","+a[0]+","+a[1];for(var c=2;c<n.length;c++,l++)a=t[l],u=n[c],r+="S"+(a[0]-u[0])+","+(a[1]-u[1])+","+a[0]+","+a[1]}if(e){var f=t[l];r+="Q"+(a[0]+2*u[0]/3)+","+(a[1]+2*u[1]/3)+","+f[0]+","+f[1]}return r}function pt(t,n){for(var e,r=[],i=(1-n)/2,a=t[0],o=t[1],u=1,l=t.length;++u<l;)e=a,a=o,o=t[u],r.push([i*(o[0]-e[0]),i*(o[1]-e[1])]);return r}function yt(t){if(t.length<3)return ht(t);var n=1,e=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],u=[a,a,a,r[1]],l=[i,",",a];for(bt(l,o,u);++n<e;)r=t[n],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),bt(l,o,u);for(n=-1;++n<2;)o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),bt(l,o,u);return l.join("")}function mt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function bt(t,n,e){t.push("C",mt(In,n),",",mt(In,e),",",mt(Dn,n),",",mt(Dn,e),",",mt(Zn,n),",",mt(Zn,e))}function Mt(t,n){return(n[1]-t[1])/(n[0]-t[0])}function wt(t){for(var n,e,r,i,a=[],o=function(t){for(var n=0,e=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=Mt(i,a);++n<e;)r[n]=o+(o=Mt(i=a,a=t[n+1]));return r[n]=o,r}(t),u=-1,l=t.length-1;++u<l;)n=Mt(t[u],t[u+1]),Math.abs(n)<1e-6?o[u]=o[u+1]=0:(e=o[u]/n,r=o[u+1]/n,i=e*e+r*r,i>9&&(i=3*n/Math.sqrt(i),o[u]=i*e,o[u+1]=i*r));for(u=-1;++u<=l;)i=(t[Math.min(l,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),a.push([i||0,o[u]*i||0]);return a}function xt(t){for(var n,e,r,i=-1,a=t.length;++i<a;)n=t[i],e=n[0],r=n[1]+Cn,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function _t(t){function n(n){if(n.length<1)return null;var e,f,s=ct(this,n,a,u),h=ct(this,n,a===o?(f=s,function(t,n){return f[n][0]}):o,u===l?(e=s,function(t,n){return e[n][1]}):l);return"M"+r(t(h),c)+"L"+i(t(s.reverse()),c)+"Z"}var e,r,i,a=ft,o=ft,u=0,l=st,c=.7;return n.x=function(t){return arguments.length?(a=o=t,n):o},n.x0=function(t){return arguments.length?(a=t,n):a},n.x1=function(t){return arguments.length?(o=t,n):o},n.y=function(t){return arguments.length?(u=l=t,n):l},n.y0=function(t){return arguments.length?(u=t,n):u},n.y1=function(t){return arguments.length?(l=t,n):l},n.interpolate=function(t){return arguments.length?(r=En[e=t],i=r.reverse||r,n):e},n.tension=function(t){return arguments.length?(c=t,n):c},n.interpolate("linear")}function kt(t){return t.source}function At(t){return t.target}function Nt(t){return t.radius}function St(t){return[t.x,t.y]}function qt(t,n){var e=(t.ownerSVGElement||t).createSVGPoint();if(On<0&&(window.scrollX||window.scrollY)){var r=d3v3.select(document.body).append("svg:svg").style("position","absolute").style("top",0).style("left",0),i=r[0][0].getScreenCTM();On=!i.f&&!i.e,r.remove()}return On?(e.x=n.pageX,e.y=n.pageY):(e.x=n.clientX,e.y=n.clientY),[(e=e.matrixTransform(t.getScreenCTM().inverse())).x,e.y]}function zt(){return 64}function Pt(){return"circle"}function Lt(t,n){t.attr("transform",function(t){return"translate("+n(t)+",0)"})}function Vt(t,n){t.attr("transform",function(t){return"translate(0,"+n(t)+")"})}function Tt(t,n){t.select(".extent").attr("x",n[0][0]),t.selectAll(".n,.s,.w,.nw,.sw").attr("x",n[0][0]-2),t.selectAll(".e,.ne,.se").attr("x",n[1][0]-3),t.selectAll(".extent,.n,.s").attr("width",n[1][0]-n[0][0])}function Rt(t,n){t.select(".extent").attr("y",n[0][1]),t.selectAll(".n,.e,.w,.nw,.ne").attr("y",n[0][1]-3),t.selectAll(".s,.se,.sw").attr("y",n[1][1]-4),t.selectAll(".extent,.e,.w").attr("height",n[1][1]-n[0][1])}function Ft(){32==d3v3.event.keyCode&&Yn&&!Un&&(ne=null,ee[0]-=Wn[1][0],ee[1]-=Wn[1][1],Un=2,b())}function jt(){32==d3v3.event.keyCode&&2==Un&&(ee[0]+=Wn[1][0],ee[1]+=Wn[1][1],Un=0,b())}function Ct(){if(ee){var t=d3v3.svg.mouse(Yn),n=d3v3.select(Yn);Un||(d3v3.event.altKey?(ne||(ne=[(Wn[0][0]+Wn[1][0])/2,(Wn[0][1]+Wn[1][1])/2]),ee[0]=Wn[+(t[0]<ne[0])][0],ee[1]=Wn[+(t[1]<ne[1])][1]):ne=null),Qn&&(Ht(t,Qn,0),Tt(n,Wn)),Jn&&(Ht(t,Jn,1),Rt(n,Wn)),Gn("brush")}}function Ht(t,n,e){var r,i,a=X(n.range()),o=ee[e],u=Wn[1][e]-Wn[0][e];Un&&(a[0]-=o,a[1]-=u+o),r=Math.max(a[0],Math.min(a[1],t[e])),Un?i=(r+=o)+u:(ne&&(o=Math.max(a[0],Math.min(a[1],2*ne[e]-r))),o<r?(i=r,r=o):i=o),Wn[0][e]=r,Wn[1][e]=i}function Et(){ee&&(Ct(),d3v3.select(Yn).selectAll(".resize").style("pointer-events",Kn.empty()?"none":"all"),Gn("brushend"),Kn=Gn=Yn=Qn=Jn=Wn=Un=te=ne=ee=null,b())}function It(t){var n=d3v3.event,e=oe.parentNode,r=0,i=0;e&&(e=Dt(e),r=e[0]-le[0],i=e[1]-le[1],le=e,ce|=r|i);try{d3v3.event={dx:r,dy:i},ie[t].apply(oe,ue)}finally{d3v3.event=n}n.preventDefault()}function Dt(t,n){var e=d3v3.event.changedTouches;return e?d3v3.svg.touches(t,e)[0]:d3v3.svg.mouse(t)}function Zt(){if(oe){if(!oe.parentNode)return Ot();It("drag"),b()}}function Ot(){oe&&(It("dragend"),oe=null,ce&&ae===d3v3.event.target&&(fe=!0,b()))}function Bt(){fe&&ae===d3v3.event.target&&(b(),fe=!1,ae=null)}function Xt(t){return[t[0]-ve[0],t[1]-ve[1],ve[2]]}function $t(){for(var t,n=d3v3.svg.touches(me),e=-1,r=n.length;++e<r;)xe[(t=n[e]).identifier]=Xt(t);return n}function Kt(){var t=d3v3.svg.touches(me);switch(t.length){case 1:var n=t[0];Jt(ve[2],n,xe[n.identifier]);break;case 2:var e=t[0],r=t[1],i=[(e[0]+r[0])/2,(e[1]+r[1])/2],a=xe[e.identifier],o=xe[r.identifier],u=[(a[0]+o[0])/2,(a[1]+o[1])/2,a[2]];Jt(Math.log(d3v3.event.scale)/Math.LN2+a[2],i,u)}}function Gt(){de=null,he&&(Me=!0,Jt(ve[2],d3v3.svg.mouse(me),he))}function Yt(){he&&(Me&&ye===d3v3.event.target&&(we=!0),Gt(),he=null)}function Qt(){we&&ye===d3v3.event.target&&(d3v3.event.stopPropagation(),d3v3.event.preventDefault(),we=!1,ye=null)}function Jt(t,n,e){function r(t,n,e){t.domain(t.range().map(function(r){return t.invert((r-e)*i/a+n)}))}t=Wt(t,2);var i=Math.pow(2,ve[2]),a=Math.pow(2,t),o=Math.pow(2,(ve[2]=t)-e[2]),u=ve[0],l=ve[1],c=ve[0]=Wt(n[0]-e[0]*o,0,a),f=ve[1]=Wt(n[1]-e[1]*o,1,a),s=d3v3.event;d3v3.event={scale:a,translate:[c,f],transform:function(t,n){t&&r(t,u,c),n&&r(n,l,f)}};try{pe.apply(me,be)}finally{d3v3.event=s}s.preventDefault()}function Wt(t,n,e){var r=ge[n],i=r[0],a=r[1];return 3===arguments.length?Math.max(a*(a===1/0?-1/0:1/e-1),Math.min(i===-1/0?1/0:i,t/e))*e:Math.max(i,Math.min(a,t))}Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(t){var Ut=CSSStyleDeclaration.prototype,tn=Ut.setProperty;Ut.setProperty=function(t,n,e){tn.call(this,t,n+"",e)}}d3v3={version:"2.5.0"};var nn=function(t){return Array.prototype.slice.call(t)};try{nn(document.documentElement.childNodes)[0].nodeType}catch(n){nn=t}var en=[].__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]};d3v3.functor=function(t){return"function"==typeof t?t:function(){return t}},d3v3.rebind=function(t,n){return function(){var e=n.apply(t,arguments);return arguments.length?t:e}},d3v3.ascending=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},d3v3.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},d3v3.mean=function(t,n){var r,i=t.length,a=0,o=-1,u=0;if(1===arguments.length)for(;++o<i;)e(r=t[o])&&(a+=(r-a)/++u);else for(;++o<i;)e(r=n.call(t,t[o],o))&&(a+=(r-a)/++u);return u?a:void 0},d3v3.median=function(t,n){return arguments.length>1&&(t=t.map(n)),(t=t.filter(e)).length?d3v3.quantile(t.sort(d3v3.ascending),.5):void 0},d3v3.min=function(t,n){var e,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a&&(null==(e=t[i])||e!=e);)e=void 0;for(;++i<a;)null!=(r=t[i])&&e>r&&(e=r)}else{for(;++i<a&&(null==(e=n.call(t,t[i],i))||e!=e);)e=void 0;for(;++i<a;)null!=(r=n.call(t,t[i],i))&&e>r&&(e=r)}return e},d3v3.max=function(t,n){var e,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a&&(null==(e=t[i])||e!=e);)e=void 0;for(;++i<a;)null!=(r=t[i])&&r>e&&(e=r)}else{for(;++i<a&&(null==(e=n.call(t,t[i],i))||e!=e);)e=void 0;for(;++i<a;)null!=(r=n.call(t,t[i],i))&&r>e&&(e=r)}return e},d3v3.extent=function(t,n){var e,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o&&(null==(e=i=t[a])||e!=e);)e=i=void 0;for(;++a<o;)null!=(r=t[a])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++a<o&&(null==(e=i=n.call(t,t[a],a))||e!=e);)e=void 0;for(;++a<o;)null!=(r=n.call(t,t[a],a))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]},d3v3.random={normal:function(t,n){return arguments.length<2&&(n=1),arguments.length<1&&(t=0),function(){var e,r,i;do{e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r}while(!i||i>1);return t+n*e*Math.sqrt(-2*Math.log(i)/i)}}},d3v3.sum=function(t,n){var e,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)isNaN(e=+t[a])||(r+=e);else for(;++a<i;)isNaN(e=+n.call(t,t[a],a))||(r+=e);return r},d3v3.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),i=t[r-1],a=e-r;return a?i+a*(t[r]-i):i},d3v3.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,n=d3v3.min(arguments,r),e=new Array(n);++t<n;)for(var i,a=-1,o=e[t]=new Array(i);++a<i;)o[a]=arguments[a][t];return e},d3v3.bisectLeft=function(t,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=t.length);e<r;){var i=e+r>>1;t[i]<n?e=i+1:r=i}return e},d3v3.bisect=d3v3.bisectRight=function(t,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=t.length);e<r;){var i=e+r>>1;n<t[i]?r=i:e=i+1}return e},d3v3.first=function(t,n){var e,r=0,i=t.length,a=t[0];for(1===arguments.length&&(n=d3v3.ascending);++r<i;)n.call(t,a,e=t[r])>0&&(a=e);return a},d3v3.last=function(t,n){var e,r=0,i=t.length,a=t[0];for(1===arguments.length&&(n=d3v3.ascending);++r<i;)n.call(t,a,e=t[r])<=0&&(a=e);return a},d3v3.nest=function(){function t(a,o){if(o>=i.length)return e?e.call(r,a):n?a.sort(n):a;for(var u,l,c=-1,f=a.length,s=i[o++],h={};++c<f;)(u=s(l=a[c]))in h?h[u].push(l):h[u]=[l];for(u in h)h[u]=t(h[u],o);return h}var n,e,r={},i=[],a=[];return r.map=function(n){return t(n,0)},r.entries=function(n){return function t(n,e){if(e>=i.length)return n;var r,o=[],u=a[e++];for(r in n)o.push({key:r,values:t(n[r],e)});return u&&o.sort(function(t,n){return u(t.key,n.key)}),o}(t(n,0),0)},r.key=function(t){return i.push(t),r},r.sortKeys=function(t){return a[i.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return e=t,r},r},d3v3.keys=function(t){var n=[];for(var e in t)n.push(e);return n},d3v3.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},d3v3.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},d3v3.permute=function(t,n){for(var e=[],r=-1,i=n.length;++r<i;)e[r]=t[n[r]];return e},d3v3.merge=function(t){return Array.prototype.concat.apply([],t)},d3v3.split=function(t,n){var e,r=[],a=[],o=-1,u=t.length;for(arguments.length<2&&(n=i);++o<u;)n.call(a,e=t[o],o)?a=[]:(a.length||r.push(a),a.push(e));return r},d3v3.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("infinite range");var r,i=[],a=-1;if(e<0)for(;(r=t+e*++a)>n;)i.push(r);else for(;(r=t+e*++a)<n;)i.push(r);return i},d3v3.requote=function(t){return t.replace(rn,"\\$&")};var rn=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3v3.round=function(t,n){return n?Math.round(t*Math.pow(10,n))*Math.pow(10,-n):Math.round(t)},d3v3.xhr=function(t,n,e){var r=new XMLHttpRequest;arguments.length<3?e=n:n&&r.overrideMimeType&&r.overrideMimeType(n),r.open("GET",t,!0),r.onreadystatechange=function(){4===r.readyState&&e(r.status<300?r:null)},r.send(null)},d3v3.text=function(t,n,e){arguments.length<3&&(e=n,n=null),d3v3.xhr(t,n,function(t){e(t&&t.responseText)})},d3v3.json=function(t,n){d3v3.text(t,"application/json",function(t){n(t?JSON.parse(t):null)})},d3v3.html=function(t,n){d3v3.text(t,"text/html",function(t){if(null!=t){var e=document.createRange();e.selectNode(document.body),t=e.createContextualFragment(t)}n(t)})},d3v3.xml=function(t,n,e){arguments.length<3&&(e=n,n=null),d3v3.xhr(t,n,function(t){e(t&&t.responseXML)})},d3v3.ns={prefix:{svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qualify:function(t){var n=t.indexOf(":");return n<0?t:{space:d3v3.ns.prefix[t.substring(0,n)],local:t.substring(n+1)}}},d3v3.dispatch=function(){for(var t=new o,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=u();return t},o.prototype.on=function(t,n){var e=t.indexOf("."),r="";e>0&&(r=t.substring(e+1),t=t.substring(0,e)),this[t].on(r,n)},d3v3.format=function(t){var n=an.exec(t),e=n[1]||" ",r=n[3]||"",i=n[5],a=+n[6],o=n[7],u=n[8],l=n[9],s=1,h="",d=!1;switch(u&&(u=+u.substring(1)),i&&(e="0",o&&(a-=Math.floor((a-1)/4))),l){case"n":o=!0,l="g";break;case"%":s=100,h="%",l="f";break;case"p":s=100,h="%",l="r";break;case"d":d=!0,u=0;break;case"s":s=-1,l="r"}return"r"==l&&!u&&(l="g"),l=on[l]||c,function(t){if(d&&t%1)return"";var n=t<0&&(t=-t)?"":r;if(s<0){var c=d3v3.formatPrefix(t,u);t*=c.scale,h=c.symbol}else t*=s;if(t=l(t,u),i){(v=t.length+n.length)<a&&(t=new Array(a-v+1).join(e)+t),o&&(t=f(t)),t=n+t}else{o&&(t=f(t));var v;(v=(t=n+t).length)<a&&(t=new Array(a-v+1).join(e)+t)}return t+h}};var an=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,on={g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return d3v3.round(t,n=l(t,n)).toFixed(Math.max(0,Math.min(20,n)))}},un=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(t,n){return{scale:Math.pow(10,3*(8-n)),symbol:t}});d3v3.formatPrefix=function(t,n){var e=0;return t&&(t<0&&(t*=-1),n&&(t=d3v3.round(t,l(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e<=0?e+1:e-1)/3)))),un[8+e/3]};var ln=v(2),cn=v(3),fn={linear:function(){return d},poly:v,quad:function(){return ln},cubic:function(){return cn},sin:function(){return g},exp:function(){return p},circle:function(){return y},elastic:function(t,n){var e;return arguments.length<2&&(n=.45),arguments.length<1?(t=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/t),function(r){return 1+t*Math.pow(2,10*-r)*Math.sin(2*(r-e)*Math.PI/n)}},back:function(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}},bounce:function(){return m}},sn={in:function(t){return t},out:s,"in-out":h,"out-in":function(t){return h(s(t))}};d3v3.ease=function(t){var n=t.indexOf("-"),e=n>=0?t.substring(0,n):t,r=n>=0?t.substring(n+1):"in";return i=sn[r](fn[e].apply(null,Array.prototype.slice.call(arguments,1))),function(t){return t<=0?0:t>=1?1:i(t)};var i},d3v3.event=null,d3v3.interpolate=function(t,n){for(var e,r=d3v3.interpolators.length;--r>=0&&!(e=d3v3.interpolators[r](t,n)););return e},d3v3.interpolateNumber=function(t,n){return n-=t,function(e){return t+n*e}},d3v3.interpolateRound=function(t,n){return n-=t,function(e){return Math.round(t+n*e)}},d3v3.interpolateString=function(t,n){var e,r,i,a,o,u=0,l=[],c=[];for(hn.lastIndex=0,r=0;e=hn.exec(n);++r)e.index&&l.push(n.substring(u,e.index)),c.push({i:l.length,x:e[0]}),l.push(null),u=hn.lastIndex;for(u<n.length&&l.push(n.substring(u)),r=0,a=c.length;(e=hn.exec(t))&&r<a;++r)if((o=c[r]).x==e[0]){if(o.i)if(null==l[o.i+1])for(l[o.i-1]+=o.x,l.splice(o.i,1),i=r+1;i<a;++i)c[i].i--;else for(l[o.i-1]+=o.x+l[o.i+1],l.splice(o.i,2),i=r+1;i<a;++i)c[i].i-=2;else if(null==l[o.i+1])l[o.i]=o.x;else for(l[o.i]=o.x+l[o.i+1],l.splice(o.i+1,1),i=r+1;i<a;++i)c[i].i--;c.splice(r,1),a--,r--}else o.x=d3v3.interpolateNumber(parseFloat(e[0]),parseFloat(o.x));for(;r<a;)o=c.pop(),null==l[o.i+1]?l[o.i]=o.x:(l[o.i]=o.x+l[o.i+1],l.splice(o.i+1,1)),a--;return 1===l.length?null==l[0]?c[0].x:function(){return n}:function(t){for(r=0;r<a;++r)l[(o=c[r]).i]=o.x(t);return l.join("")}},d3v3.interpolateTransform=function(t,n){return d3v3.interpolateString(d3v3.transform(t)+"",d3v3.transform(n)+"")},d3v3.interpolateRgb=function(t,n){t=d3v3.rgb(t),n=d3v3.rgb(n);var e=t.r,r=t.g,i=t.b,a=n.r-e,o=n.g-r,u=n.b-i;return function(t){return"#"+A(Math.round(e+a*t))+A(Math.round(r+o*t))+A(Math.round(i+u*t))}},d3v3.interpolateHsl=function(t,n){t=d3v3.hsl(t),n=d3v3.hsl(n);var e=t.h,r=t.s,i=t.l,a=n.h-e,o=n.s-r,u=n.l-i;return function(t){return L(e+a*t,r+o*t,i+u*t).toString()}},d3v3.interpolateArray=function(t,n){var e,r=[],i=[],a=t.length,o=n.length,u=Math.min(t.length,n.length);for(e=0;e<u;++e)r.push(d3v3.interpolate(t[e],n[e]));for(;e<a;++e)i[e]=t[e];for(;e<o;++e)i[e]=n[e];return function(t){for(e=0;e<u;++e)i[e]=r[e](t);return i}},d3v3.interpolateObject=function(t,n){var e,r={},i={};for(e in t)e in n?r[e]=M(e)(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in r)i[e]=r[e](t);return i}};var hn=/[-+]?(?:\d*\.?\d+)(?:[eE][-+]?\d+)?/g;d3v3.interpolators=[d3v3.interpolateObject,function(t,n){return n instanceof Array&&d3v3.interpolateArray(t,n)},function(t,n){return"string"==typeof n&&d3v3.interpolateString(t+"",n)},function(t,n){return("string"==typeof n?n in dn||/^(#|rgb\(|hsl\()/.test(n):n instanceof k||n instanceof P)&&d3v3.interpolateRgb(t+"",n)},function(t,n){return"number"==typeof n&&d3v3.interpolateNumber(+t,n)}],d3v3.rgb=function(t,n,e){return 1===arguments.length?t instanceof k?_(t.r,t.g,t.b):N(""+t,_,L):_(~~t,~~n,~~e)},k.prototype.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b;return n||e||r?(n&&n<30&&(n=30),e&&e<30&&(e=30),r&&r<30&&(r=30),_(Math.min(255,Math.floor(n/t)),Math.min(255,Math.floor(e/t)),Math.min(255,Math.floor(r/t)))):_(30,30,30)},k.prototype.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),_(Math.floor(t*this.r),Math.floor(t*this.g),Math.floor(t*this.b))},k.prototype.hsl=function(){return S(this.r,this.g,this.b)},k.prototype.toString=function(){return"#"+A(this.r)+A(this.g)+A(this.b)};var dn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3v3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3v3d3v3d3v3",lightgreen:"#90ee90",lightgrey:"#d3v3d3v3d3v3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd3v32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3v3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd3v32"};for(var vn in dn)dn[vn]=N(dn[vn],_,L);d3v3.hsl=function(t,n,e){return 1===arguments.length?t instanceof P?z(t.h,t.s,t.l):N(""+t,S,z):z(+t,+n,+e)},P.prototype.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),z(this.h,this.s,this.l/t)},P.prototype.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),z(this.h,this.s,t*this.l)},P.prototype.rgb=function(){return L(this.h,this.s,this.l)},P.prototype.toString=function(){return this.rgb().toString()};var gn=function(t,n){return n.querySelector(t)},pn=function(t,n){return n.querySelectorAll(t)};"function"==typeof Sizzle&&(gn=function(t,n){return Sizzle(t,n)[0]},pn=function(t,n){return Sizzle.uniqueSort(Sizzle(t,n))});var yn=[];d3v3.selection=function(){return bn},d3v3.selection.prototype=yn,yn.select=function(t){var n,e,r,i,a=[];"function"!=typeof t&&(t=T(t));for(var o=-1,u=this.length;++o<u;){a.push(n=[]),n.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(n.push(e=t.call(i,i.__data__,l)),e&&"__data__"in i&&(e.__data__=i.__data__)):n.push(null)}return V(a)},yn.selectAll=function(t){var n,e,r=[];"function"!=typeof t&&(t=R(t));for(var i=-1,a=this.length;++i<a;)for(var o=this[i],u=-1,l=o.length;++u<l;)(e=o[u])&&(r.push(n=nn(t.call(e,e.__data__,u))),n.parentNode=e);return V(r)},yn.attr=function(t,n){if(t=d3v3.ns.qualify(t),arguments.length<2){var e=this.node();return t.local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}return this.each(null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)})},yn.classed=function(t,n){var e=t.split(mn),r=e.length,i=-1;if(arguments.length>1){for(;++i<r;)F.call(this,e[i],n);return this}for(;++i<r;)if(!F.call(this,e[i]))return!1;return!0};var mn=/\s+/g;yn.style=function(t,n,e){return arguments.length<3&&(e=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(t):this.each(null==n?function(){this.style.removeProperty(t)}:"function"==typeof n?function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}:function(){this.style.setProperty(t,n,e)})},yn.property=function(t,n){return arguments.length<2?this.node()[t]:this.each(null==n?function(){delete this[t]}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}:function(){this[t]=n})},yn.text=function(t){return arguments.length<1?this.node().textContent:this.each("function"==typeof t?function(){this.textContent=t.apply(this,arguments)}:function(){this.textContent=t})},yn.html=function(t){return arguments.length<1?this.node().innerHTML:this.each("function"==typeof t?function(){this.innerHTML=t.apply(this,arguments)}:function(){this.innerHTML=t})},yn.append=function(t){return t=d3v3.ns.qualify(t),this.select(t.local?function(){return this.appendChild(document.createElementNS(t.space,t.local))}:function(){return this.appendChild(document.createElement(t))})},yn.insert=function(t,n){return t=d3v3.ns.qualify(t),this.select(t.local?function(){return this.insertBefore(document.createElementNS(t.space,t.local),gn(n,this))}:function(){return this.insertBefore(document.createElement(t),gn(n,this))})},yn.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},yn.data=function(t,n){function e(t,e){var r,u,l,c=t.length,f=e.length,s=Math.min(c,f),h=Math.max(c,f),d=[],v=[],g=[];if(n){var p,y={},m=[],b=e.length;for(r=-1;++r<c;)p=n.call(u=t[r],u.__data__,r),p in y?g[b++]=u:y[p]=u,m.push(p);for(r=-1;++r<f;)u=y[p=n.call(e,l=e[r],r)],u?(u.__data__=l,d[r]=u,v[r]=g[r]=null):(v[r]=j(l),d[r]=g[r]=null),delete y[p];for(r=-1;++r<c;)m[r]in y&&(g[r]=t[r])}else{for(r=-1;++r<s;)u=t[r],l=e[r],u?(u.__data__=l,d[r]=u,v[r]=g[r]=null):(v[r]=j(l),d[r]=g[r]=null);for(;r<f;++r)v[r]=j(e[r]),d[r]=g[r]=null;for(;r<h;++r)g[r]=t[r],v[r]=d[r]=null}v.update=d,v.parentNode=d.parentNode=g.parentNode=t.parentNode,i.push(v),a.push(d),o.push(g)}var r,i=[],a=[],o=[],u=-1,l=this.length;if("function"==typeof t)for(;++u<l;)e(r=this[u],t.call(r,r.parentNode.__data__,u));else for(;++u<l;)e(r=this[u],t);var c=V(a);return c.enter=function(){return en(t=i,Mn),t;var t},c.exit=function(){return V(o)},c},yn.filter=function(t){for(var n,e,r,i=[],a=0,o=this.length;a<o;a++){i.push(n=[]),n.parentNode=(e=this[a]).parentNode;for(var u=0,l=e.length;u<l;u++)(r=e[u])&&t.call(r,r.__data__,u)&&n.push(r)}return V(i)},yn.map=function(t){return this.each(function(){this.__data__=t.apply(this,arguments)})},yn.sort=function(t){t=function(t){return arguments.length||(t=d3v3.ascending),function(n,e){return t(n&&n.__data__,e&&e.__data__)}}.apply(this,arguments);for(var n=0,e=this.length;n<e;n++)for(var r=this[n].sort(t),i=1,a=r.length,o=r[0];i<a;i++){var u=r[i];u&&(o&&o.parentNode.insertBefore(u,o.nextSibling),o=u)}return this},yn.on=function(t,n,e){arguments.length<3&&(e=!1);var r="__on"+t,i=t.indexOf(".");return i>0&&(t=t.substring(0,i)),arguments.length<2?(i=this.node()[r])&&i._:this.each(function(i,a){function o(t){var e=d3v3.event;d3v3.event=t;try{n.call(u,u.__data__,a)}finally{d3v3.event=e}}var u=this;u[r]&&u.removeEventListener(t,u[r],e),n&&u.addEventListener(t,u[r]=o,e),o._=n})},yn.each=function(t){for(var n=-1,e=this.length;++n<e;)for(var r=this[n],i=-1,a=r.length;++i<a;){var o=r[i];o&&t.call(o,o.__data__,i,n)}return this},yn.call=function(t){return t.apply(this,(arguments[0]=this,arguments)),this},yn.empty=function(){return!this.node()},yn.node=function(t){for(var n=0,e=this.length;n<e;n++)for(var r=this[n],i=0,a=r.length;i<a;i++){var o=r[i];if(o)return o}return null},yn.transition=function(){for(var t,n,e=[],r=-1,i=this.length;++r<i;){e.push(t=[]);for(var a=this[r],o=-1,u=a.length;++o<u;)t.push((n=a[o])?{node:n,delay:0,duration:250}:null)}return C(e,kn||++_n,Date.now())};var bn=V([[document]]);bn[0].parentNode=document.documentElement,d3v3.select=function(t){return"string"==typeof t?bn.select(t):V([[t]])},d3v3.selectAll=function(t){return"string"==typeof t?bn.selectAll(t):V([nn(t)])};var Mn=[];Mn.append=yn.append,Mn.insert=yn.insert,Mn.empty=yn.empty,Mn.node=yn.node,Mn.select=function(t){for(var n,e,r,i,a,o=[],u=-1,l=this.length;++u<l;){r=(i=this[u]).update,o.push(n=[]),n.parentNode=i.parentNode;for(var c=-1,f=i.length;++c<f;)(a=i[c])?(n.push(r[c]=e=t.call(i.parentNode,a.__data__,c)),e.__data__=a.__data__):n.push(null)}return V(o)};var wn={},xn=[],_n=0,kn=0,An=d3v3.ease("cubic-in-out");xn.call=yn.call,d3v3.transition=function(){return bn.transition()},d3v3.transition.prototype=xn,xn.select=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=T(t));for(var a=-1,o=this.length;++a<o;){i.push(n=[]);for(var u=this[a],l=-1,c=u.length;++l<c;)(r=u[l])&&(e=t.call(r.node,r.node.__data__,l))?("__data__"in r.node&&(e.__data__=r.node.__data__),n.push({node:e,delay:r.delay,duration:r.duration})):n.push(null)}return C(i,this.id,this.time).ease(this.ease())},xn.selectAll=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=R(t));for(var a=-1,o=this.length;++a<o;)for(var u=this[a],l=-1,c=u.length;++l<c;)if(r=u[l]){e=t.call(r.node,r.node.__data__,l),i.push(n=[]);for(var f=-1,s=e.length;++f<s;)n.push({node:e[f],delay:r.delay,duration:r.duration})}return C(i,this.id,this.time).ease(this.ease())},xn.attr=function(t,n){return this.attrTween(t,E(t,n))},xn.attrTween=function(t,n){var e=d3v3.ns.qualify(t);return this.tween("attr."+t,e.local?function(t,r){var i=n.call(this,t,r,this.getAttributeNS(e.space,e.local));return i===wn?(this.removeAttributeNS(e.space,e.local),null):i&&function(t){this.setAttributeNS(e.space,e.local,i(t))}}:function(t,r){var i=n.call(this,t,r,this.getAttribute(e));return i===wn?(this.removeAttribute(e),null):i&&function(t){this.setAttribute(e,i(t))}})},xn.style=function(t,n,e){return arguments.length<3&&(e=""),this.styleTween(t,E(t,n),e)},xn.styleTween=function(t,n,e){return arguments.length<3&&(e=""),this.tween("style."+t,function(r,i){var a=n.call(this,r,i,window.getComputedStyle(this,null).getPropertyValue(t));return a===wn?(this.style.removeProperty(t),null):a&&function(n){this.style.setProperty(t,a(n),e)}})},xn.text=function(t){return this.tween("text",function(n,e){this.textContent="function"==typeof t?t.call(this,n,e):t})},xn.remove=function(){return this.each("end",function(){var t;!this.__transition__&&(t=this.parentNode)&&t.removeChild(this)})},xn.delay=function(t){var n=this;return n.each("function"==typeof t?function(e,r,i){n[i][r].delay=+t.apply(this,arguments)}:(t=+t,function(e,r,i){n[i][r].delay=t}))},xn.duration=function(t){var n=this;return n.each("function"==typeof t?function(e,r,i){n[i][r].duration=+t.apply(this,arguments)}:(t=+t,function(e,r,i){n[i][r].duration=t}))},xn.transition=function(){return this.select(n)};var Nn,Sn,qn=null;d3v3.timer=function(t,n,e){var r=!1,i=qn;if(arguments.length<3){if(arguments.length<2)n=0;else if(!isFinite(n))return;e=Date.now()}for(;i;){if(i.callback===t){i.then=e,i.delay=n,r=!0;break}i,i=i.next}r||(qn={callback:t,then:e,delay:n,next:qn}),Nn||(Sn=clearTimeout(Sn),Nn=1,zn(I))},d3v3.timer.flush=function(){for(var t,n=Date.now(),e=qn;e;)t=n-e.then,e.delay||(e.flush=e.callback(t)),e=e.next;D()};var zn=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,17)};d3v3.transform=function(t){return Pn.setAttribute("transform",t),new Z(Pn.transform.baseVal.consolidate().matrix)},Z.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Pn=document.createElementNS(d3v3.ns.prefix.svg,"g"),Ln=180/Math.PI;d3v3.scale={},d3v3.scale.linear=function(){return function t(n,e,r,i){function a(){var t=2==n.length?U:tt,a=i?x:w;return u=t(n,e,a,r),l=t(e,n,a,d3v3.interpolate),o}function o(t){return u(t)}var u,l;return o.invert=function(t){return l(t)},o.domain=function(t){return arguments.length?(n=t.map(Number),a()):n},o.range=function(t){return arguments.length?(e=t,a()):e},o.rangeRound=function(t){return o.range(t).interpolate(d3v3.interpolateRound)},o.clamp=function(t){return arguments.length?(i=t,a()):i},o.interpolate=function(t){return arguments.length?(r=t,a()):r},o.ticks=function(t){return J(n,t)},o.tickFormat=function(t){return W(n,t)},o.nice=function(){return $(n,Y),a()},o.copy=function(){return t(n,e,r,i)},a()}([0,1],[0,1],d3v3.interpolate,!1)},d3v3.scale.log=function(){return function t(n,e){function r(t){return n(e(t))}var i=e.pow;return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(e=t[0]<0?et:nt,i=e.pow,n.domain(t.map(e)),r):n.domain().map(i)},r.nice=function(){return n.domain($(n.domain(),K)),r},r.ticks=function(){var t=X(n.domain()),r=[];if(t.every(isFinite)){var a=Math.floor(t[0]),o=Math.ceil(t[1]),u=Math.round(i(t[0])),l=Math.round(i(t[1]));if(e===et)for(r.push(i(a));a++<o;)for(var c=9;c>0;c--)r.push(i(a)*c);else{for(;a<o;a++)for(c=1;c<10;c++)r.push(i(a)*c);r.push(i(a))}for(a=0;r[a]<u;a++);for(o=r.length;r[o-1]>l;o--);r=r.slice(a,o)}return r},r.tickFormat=function(t,n){if(arguments.length<2&&(n=Vn),arguments.length<1)return n;var a,o=t/r.ticks().length,u=e===et?(a=-1e-15,Math.floor):(a=1e-15,Math.ceil);return function(t){return t/i(u(e(t)+a))<o?n(t):""}},r.copy=function(){return t(n.copy(),e)},G(r,n)}(d3v3.scale.linear(),nt)};var Vn=d3v3.format("e");nt.pow=function(t){return Math.pow(10,t)},et.pow=function(t){return-Math.pow(10,-t)},d3v3.scale.pow=function(){return function t(n,e){function r(t){return n(i(t))}var i=rt(e),a=rt(1/e);return r.invert=function(t){return a(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t.map(i)),r):n.domain().map(a)},r.ticks=function(t){return J(r.domain(),t)},r.tickFormat=function(t){return W(r.domain(),t)},r.nice=function(){return r.domain($(r.domain(),Y))},r.exponent=function(t){if(!arguments.length)return e;var n=r.domain();return i=rt(e=t),a=rt(1/e),r.domain(n)},r.copy=function(){return t(n.copy(),e)},G(r,n)}(d3v3.scale.linear(),1)},d3v3.scale.sqrt=function(){return d3v3.scale.pow().exponent(.5)},d3v3.scale.ordinal=function(){return function t(n,e){function r(t){return o[((a[t]||(a[t]=n.push(t)))-1)%o.length]}function i(t,e){return d3v3.range(n.length).map(function(n){return t+e*n})}var a,o,u;return r.domain=function(t){if(!arguments.length)return n;n=[],a={};for(var i,o=-1,u=t.length;++o<u;)a[i=t[o]]||(a[i]=n.push(i));return r[e.t](e.x,e.p)},r.range=function(t){return arguments.length?(o=t,u=0,e={t:"range",x:t},r):o},r.rangePoints=function(t,a){arguments.length<2&&(a=0);var l=t[0],c=t[1],f=(c-l)/(n.length-1+a);return o=i(n.length<2?(l+c)/2:l+f*a/2,f),u=0,e={t:"rangePoints",x:t,p:a},r},r.rangeBands=function(t,a){arguments.length<2&&(a=0);var l=t[0],c=(t[1]-l)/(n.length+a);return o=i(l+c*a,c),u=c*(1-a),e={t:"rangeBands",x:t,p:a},r},r.rangeRoundBands=function(t,a){arguments.length<2&&(a=0);var l=t[0],c=t[1],f=Math.floor((c-l)/(n.length+a));return o=i(l+Math.round((c-l-(n.length-a)*f)/2),f),u=Math.round(f*(1-a)),e={t:"rangeRoundBands",x:t,p:a},r},r.rangeBand=function(){return u},r.copy=function(){return t(n,e)},r.domain(n)}([],{t:"range",x:[]})},d3v3.scale.category10=function(){return d3v3.scale.ordinal().range(Tn)},d3v3.scale.category20=function(){return d3v3.scale.ordinal().range(Rn)},d3v3.scale.category20b=function(){return d3v3.scale.ordinal().range(Fn)},d3v3.scale.category20c=function(){return d3v3.scale.ordinal().range(jn)};var Tn=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Rn=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Fn=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d3v31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],jn=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3v3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3v3.scale.quantile=function(){return function t(n,e){function r(){var t=0,r=(n.length,e.length);for(a=[];++t<r;)a[t-1]=d3v3.quantile(n,t/r);return i}function i(t){return isNaN(t=+t)?NaN:e[d3v3.bisect(a,t)]}var a;return i.domain=function(t){return arguments.length?(n=t.filter(function(t){return!isNaN(t)}).sort(d3v3.ascending),r()):n},i.range=function(t){return arguments.length?(e=t,r()):e},i.quantiles=function(){return a},i.copy=function(){return t(n,e)},r()}([],[])},d3v3.scale.quantize=function(){return function t(n,e,r){function i(t){return r[Math.max(0,Math.min(u,Math.floor(o*(t-n))))]}function a(){return o=r.length/(e-n),u=r.length-1,i}var o,u;return i.domain=function(t){return arguments.length?(n=+t[0],e=+t[t.length-1],a()):[n,e]},i.range=function(t){return arguments.length?(r=t,a()):r},i.copy=function(){return t(n,e,r)},a()}(0,1,[0,1])},d3v3.svg={},d3v3.svg.arc=function(){function t(){var t=n.apply(this,arguments),a=e.apply(this,arguments),o=r.apply(this,arguments)+Cn,u=i.apply(this,arguments)+Cn,l=(u<o&&(l=o,o=u,u=l),u-o),c=l<Math.PI?"0":"1",f=Math.cos(o),s=Math.sin(o),h=Math.cos(u),d=Math.sin(u);return l>=Hn?t?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":t?"M"+a*f+","+a*s+"A"+a+","+a+" 0 "+c+",1 "+a*h+","+a*d+"L"+t*h+","+t*d+"A"+t+","+t+" 0 "+c+",0 "+t*f+","+t*s+"Z":"M"+a*f+","+a*s+"A"+a+","+a+" 0 "+c+",1 "+a*h+","+a*d+"L0,0Z"}var n=it,e=at,r=ot,i=ut;return t.innerRadius=function(e){return arguments.length?(n=d3v3.functor(e),t):n},t.outerRadius=function(n){return arguments.length?(e=d3v3.functor(n),t):e},t.startAngle=function(n){return arguments.length?(r=d3v3.functor(n),t):r},t.endAngle=function(n){return arguments.length?(i=d3v3.functor(n),t):i},t.centroid=function(){var t=(n.apply(this,arguments)+e.apply(this,arguments))/2,a=(r.apply(this,arguments)+i.apply(this,arguments))/2+Cn;return[Math.cos(a)*t,Math.sin(a)*t]},t};var Cn=-Math.PI/2,Hn=2*Math.PI-1e-6;d3v3.svg.line=function(){return lt(Object)};var En={linear:ht,"step-before":dt,"step-after":vt,basis:yt,"basis-open":function(t){if(t.length<4)return ht(t);for(var n,e=[],r=-1,i=t.length,a=[0],o=[0];++r<3;)n=t[r],a.push(n[0]),o.push(n[1]);for(e.push(mt(Zn,a)+","+mt(Zn,o)),--r;++r<i;)n=t[r],a.shift(),a.push(n[0]),o.shift(),o.push(n[1]),bt(e,a,o);return e.join("")},"basis-closed":function(t){for(var n,e,r=-1,i=t.length,a=i+4,o=[],u=[];++r<4;)e=t[r%i],o.push(e[0]),u.push(e[1]);for(n=[mt(Zn,o),",",mt(Zn,u)],--r;++r<a;)e=t[r%i],o.shift(),o.push(e[0]),u.shift(),u.push(e[1]),bt(n,o,u);return n.join("")},bundle:function(t,n){for(var e,r,i=t.length-1,a=t[0][0],o=t[0][1],u=t[i][0]-a,l=t[i][1]-o,c=-1;++c<=i;)e=t[c],r=c/i,e[0]=n*e[0]+(1-n)*(a+r*u),e[1]=n*e[1]+(1-n)*(o+r*l);return yt(t)},cardinal:function(t,n,e){return t.length<3?ht(t):t[0]+gt(t,pt(t,n))},"cardinal-open":function(t,n){return t.length<4?ht(t):t[1]+gt(t.slice(1,t.length-1),pt(t,n))},"cardinal-closed":function(t,n){return t.length<3?ht(t):t[0]+gt((t.push(t[0]),t),pt([t[t.length-2]].concat(t,[t[1]]),n))},monotone:function(t){return t.length<3?ht(t):t[0]+gt(t,wt(t))}},In=[0,2/3,1/3,0],Dn=[0,1/3,2/3,0],Zn=[0,1/6,2/3,1/6];d3v3.svg.line.radial=function(){var t=lt(xt);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},dt.reverse=vt,vt.reverse=dt,d3v3.svg.area=function(){return _t(Object)},d3v3.svg.area.radial=function(){var t=_t(xt);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},d3v3.svg.chord=function(){function t(t,o){var u=n(this,i,t,o),l=n(this,a,t,o);return"M"+u.p0+e(u.r,u.p1)+(c=u,f=l,c.a0==f.a0&&c.a1==f.a1?r(u.r,u.p1,u.r,u.p0):r(u.r,u.p1,l.r,l.p0)+e(l.r,l.p1)+r(l.r,l.p1,u.r,u.p0))+"Z";var c,f}function n(t,n,e,r){var i=n.call(t,e,r),a=o.call(t,i,r),c=u.call(t,i,r)+Cn,f=l.call(t,i,r)+Cn;return{r:a,a0:c,a1:f,p0:[a*Math.cos(c),a*Math.sin(c)],p1:[a*Math.cos(f),a*Math.sin(f)]}}function e(t,n){return"A"+t+","+t+" 0 0,1 "+n}function r(t,n,e,r){return"Q 0,0 "+r}var i=kt,a=At,o=Nt,u=ot,l=ut;return t.radius=function(n){return arguments.length?(o=d3v3.functor(n),t):o},t.source=function(n){return arguments.length?(i=d3v3.functor(n),t):i},t.target=function(n){return arguments.length?(a=d3v3.functor(n),t):a},t.startAngle=function(n){return arguments.length?(u=d3v3.functor(n),t):u},t.endAngle=function(n){return arguments.length?(l=d3v3.functor(n),t):l},t},d3v3.svg.diagonal=function(){function t(t,i){var a=n.call(this,t,i),o=e.call(this,t,i),u=(a.y+o.y)/2,l=[a,{x:a.x,y:u},{x:o.x,y:u},o];return"M"+(l=l.map(r))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var n=kt,e=At,r=St;return t.source=function(e){return arguments.length?(n=d3v3.functor(e),t):n},t.target=function(n){return arguments.length?(e=d3v3.functor(n),t):e},t.projection=function(n){return arguments.length?(r=n,t):r},t},d3v3.svg.diagonal.radial=function(){var t=d3v3.svg.diagonal(),n=St,e=t.projection;return t.projection=function(t){return arguments.length?e((r=n=t,function(){var t=r.apply(this,arguments),n=t[0],e=t[1]+Cn;return[n*Math.cos(e),n*Math.sin(e)]})):n;var r},t},d3v3.svg.mouse=function(t){return qt(t,d3v3.event)};var On=/WebKit/.test(navigator.userAgent)?-1:0;d3v3.svg.touches=function(t,n){return arguments.length<2&&(n=d3v3.event.touches),n?nn(n).map(function(n){var e=qt(t,n);return e.identifier=n.identifier,e}):[]},d3v3.svg.symbol=function(){function t(t,r){return(Bn[n.call(this,t,r)]||Bn.circle)(e.call(this,t,r))}var n=Pt,e=zt;return t.type=function(e){return arguments.length?(n=d3v3.functor(e),t):n},t.size=function(n){return arguments.length?(e=d3v3.functor(n),t):e},t};var Bn={circle:function(t){var n=Math.sqrt(t/Math.PI);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"},cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*$n)),e=n*$n;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Xn),e=n*Xn/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Xn),e=n*Xn/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}};d3v3.svg.symbolTypes=d3v3.keys(Bn);var Xn=Math.sqrt(3),$n=Math.tan(30*Math.PI/180);d3v3.svg.axis=function(){function t(t){t.each(function(f,s,h){var d,v=d3v3.select(this),g=t.delay?function(n){var e=kn;try{return kn=t.id,n.transition().delay(t[h][s].delay).duration(t[h][s].duration).ease(t.ease())}finally{kn=e}}:Object,p=e.ticks.apply(e,l),y=null==n?e.tickFormat.apply(e,l):n,m=function(t,n,e){if(r=[],e&&n.length>1){for(var r,i,a,o=X(t.domain()),u=-1,l=n.length,c=(n[1]-n[0])/++e;++u<l;)for(i=e;--i>0;)(a=+n[u]-i*c)>=o[0]&&r.push(a);for(--u,i=0;++i<e&&(a=+n[u]+i*c)<o[1];)r.push(a)}return r}(e,p,c),b=v.selectAll(".minor").data(m,String),M=b.enter().insert("svg:line","g").attr("class","tick minor").style("opacity",1e-6),w=g(b.exit()).style("opacity",1e-6).remove(),x=g(b).style("opacity",1),_=v.selectAll("g").data(p,String),k=_.enter().insert("svg:g","path").style("opacity",1e-6),A=g(_.exit()).style("opacity",1e-6).remove(),N=g(_).style("opacity",1),S=X(e.range()),q=v.selectAll(".domain").data([0]),z=(q.enter().append("svg:path").attr("class","domain"),g(q)),P=this.__chart__||e;switch(this.__chart__=e.copy(),k.append("svg:line").attr("class","tick"),k.append("svg:text"),N.select("text").text(y),r){case"bottom":d=Lt,x.attr("x2",0).attr("y2",a),N.select("line").attr("x2",0).attr("y2",i),N.select("text").attr("x",0).attr("y",Math.max(i,0)+u).attr("dy",".71em").attr("text-anchor","middle"),z.attr("d","M"+S[0]+","+o+"V0H"+S[1]+"V"+o);break;case"top":d=Lt,x.attr("x2",0).attr("y2",-a),N.select("line").attr("x2",0).attr("y2",-i),N.select("text").attr("x",0).attr("y",-(Math.max(i,0)+u)).attr("dy","0em").attr("text-anchor","middle"),z.attr("d","M"+S[0]+","+-o+"V0H"+S[1]+"V"+-o);break;case"left":d=Vt,x.attr("x2",-a).attr("y2",0),N.select("line").attr("x2",-i).attr("y2",0),N.select("text").attr("x",-(Math.max(i,0)+u)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),z.attr("d","M"+-o+","+S[0]+"H0V"+S[1]+"H"+-o);break;case"right":d=Vt,x.attr("x2",a).attr("y2",0),N.select("line").attr("x2",i).attr("y2",0),N.select("text").attr("x",Math.max(i,0)+u).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),z.attr("d","M"+o+","+S[0]+"H0V"+S[1]+"H"+o)}k.call(d,P),N.call(d,e),A.call(d,e),M.call(d,P),x.call(d,e),w.call(d,e)})}var n,e=d3v3.scale.linear(),r="bottom",i=6,a=6,o=6,u=3,l=[10],c=0;return t.scale=function(n){return arguments.length?(e=n,t):e},t.orient=function(n){return arguments.length?(r=n,t):r},t.ticks=function(){return arguments.length?(l=arguments,t):l},t.tickFormat=function(e){return arguments.length?(n=e,t):n},t.tickSize=function(n,e,r){if(!arguments.length)return i;var u=arguments.length-1;return i=+n,a=u>1?+e:i,o=u>0?+arguments[u]:i,t},t.tickPadding=function(n){return arguments.length?(u=+n,t):u},t.tickSubdivide=function(n){return arguments.length?(c=+n,t):c},t},d3v3.svg.brush=function(){function t(i){var o=e&&r?["n","e","s","w","nw","ne","se","sw"]:e?["e","w"]:r?["n","s"]:[];i.each(function(){var i,u=d3v3.select(this).on("mousedown.brush",n),l=u.selectAll(".background").data([,]),c=u.selectAll(".extent").data([,]),f=u.selectAll(".resize").data(o,String);l.enter().append("svg:rect").attr("class","background").style("visibility","hidden").style("pointer-events","all").style("cursor","crosshair"),c.enter().append("svg:rect").attr("class","extent").style("cursor","move"),f.enter().append("svg:rect").attr("class",function(t){return"resize "+t}).attr("width",6).attr("height",6).style("visibility","hidden").style("pointer-events",t.empty()?"none":"all").style("cursor",function(t){return re[t]}),f.exit().remove(),e&&(i=X(e.range()),l.attr("x",i[0]).attr("width",i[1]-i[0]),Tt(u,a)),r&&(i=X(r.range()),l.attr("y",i[0]).attr("height",i[1]-i[0]),Rt(u,a))})}function n(){var n=d3v3.select(d3v3.event.target);Kn=t,Yn=this,Wn=a,ee=d3v3.svg.mouse(Yn),(Un=n.classed("extent"))?(ee[0]=a[0][0]-ee[0],ee[1]=a[0][1]-ee[1]):n.classed("resize")?(te=d3v3.event.target.__data__,ee[0]=a[+/w$/.test(te)][0],ee[1]=a[+/^n/.test(te)][1]):d3v3.event.altKey&&(ne=ee.slice()),Qn=!/^(n|s)$/.test(te)&&e,Jn=!/^(e|w)$/.test(te)&&r,o=this,u=arguments,(Gn=function(n){var e=d3v3.event;try{d3v3.event={type:n,target:t},i[n].apply(o,u)}finally{d3v3.event=e}})("brushstart"),Ct(),b();var o,u}var e,r,i=d3v3.dispatch("brushstart","brush","brushend"),a=[[0,0],[0,0]];return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.extent=function(n){var i,o,u,l,c;return arguments.length?(e&&(i=n[0],o=n[1],r&&(i=i[0],o=o[0]),i=e(i),o=e(o),o<i&&(c=i,i=o,o=c),a[0][0]=i,a[1][0]=o),r&&(u=n[0],l=n[1],e&&(u=u[1],l=l[1]),u=r(u),l=r(l),l<u&&(c=u,u=l,l=c),a[0][1]=u,a[1][1]=l),t):(e&&(i=e.invert(a[0][0]),o=e.invert(a[1][0]),o<i&&(c=i,i=o,o=c)),r&&(u=r.invert(a[0][1]),l=r.invert(a[1][1]),l<u&&(c=u,u=l,l=c)),e&&r?[[i,u],[o,l]]:e?[i,o]:r&&[u,l])},t.clear=function(){return a[0][0]=a[0][1]=a[1][0]=a[1][1]=0,t},t.empty=function(){return e&&a[0][0]===a[1][0]||r&&a[0][1]===a[1][1]},t.on=function(n,e){return i.on(n,e),t},d3v3.select(window).on("mousemove.brush",Ct).on("mouseup.brush",Et).on("keydown.brush",Ft).on("keyup.brush",jt),t};var Kn,Gn,Yn,Qn,Jn,Wn,Un,te,ne,ee,re={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};d3v3.behavior={},d3v3.behavior.drag=function(){function t(){this.on("mousedown.drag",n).on("touchstart.drag",n),d3v3.select(window).on("mousemove.drag",Zt).on("touchmove.drag",Zt).on("mouseup.drag",Ot,!0).on("touchend.drag",Ot,!0).on("click.drag",Bt,!0)}function n(){(function(){ie=e,ae=d3v3.event.target,le=Dt((oe=this).parentNode),ce=0,ue=arguments}).apply(this,arguments),It("dragstart")}var e=d3v3.dispatch("drag","dragstart","dragend");return t.on=function(n,r){return e.on(n,r),t},t};var ie,ae,oe,ue,le,ce,fe;d3v3.behavior.zoom=function(){function t(){this.on("mousedown.zoom",e).on("mousewheel.zoom",r).on("DOMMouseScroll.zoom",r).on("dblclick.zoom",i).on("touchstart.zoom",a),d3v3.select(window).on("mousemove.zoom",Gt).on("mouseup.zoom",Yt).on("touchmove.zoom",Kt).on("touchend.zoom",$t).on("click.zoom",Qt,!0)}function n(){ve=o,ge=l,pe=u.zoom,ye=d3v3.event.target,me=this,be=arguments}function e(){n.apply(this,arguments),he=Xt(d3v3.svg.mouse(me)),Me=!1,d3v3.event.preventDefault(),window.focus()}function r(){n.apply(this,arguments),de||(de=Xt(d3v3.svg.mouse(me))),Jt(function(){se||(se=d3v3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var t,n=d3v3.event;try{se.scrollTop=1e3,se.dispatchEvent(n),t=1e3-se.scrollTop}catch(e){t=n.wheelDelta||5*-n.detail}return.005*t}()+o[2],d3v3.svg.mouse(me),de)}function i(){n.apply(this,arguments);var t=d3v3.svg.mouse(me);Jt(d3v3.event.shiftKey?Math.ceil(o[2]-1):Math.floor(o[2]+1),t,Xt(t))}function a(){n.apply(this,arguments);var t,e=$t(),r=Date.now();1===e.length&&r-_e<300&&Jt(1+Math.floor(o[2]),t=e[0],xe[t.identifier]),_e=r}var o=[0,0,0],u=d3v3.dispatch("zoom"),l=ke;return t.extent=function(n){return arguments.length?(l=null==n?ke:n,t):l},t.on=function(n,e){return u.on(n,e),t},t};var se,he,de,ve,ge,pe,ye,me,be,Me,we,xe={},_e=0,ke=[[-1/0,1/0],[-1/0,1/0],[-1/0,1/0]]}();!function(e,t){"function"==typeof define&&define.amd?define(["d3v3"],function(i){return e.Rickshaw=t(i)}):"object"==typeof exports?module.exports=t(require("d3v3")):e.Rickshaw=t(d3v3)}(this,function(e){var t={version:"1.6.3",namespace:function(e,i){for(var n=e.split("."),r=t,s=1,a=n.length;s<a;s++){var h=n[s];r[h]=r[h]||{},r=r[h]}return r},keys:function(e){var t=[];for(var i in e)t.push(i);return t},extend:function(e,t){for(var i in t)e[i]=t[i];return e},clone:function(e){return JSON.parse(JSON.stringify(e))}};return function(e){var t=Object.prototype.toString,i="Null",n="Undefined",r="Boolean",s="Number",a="String",h="Object",o="[object Function]";function c(e){return t.call(e)===o}function l(e){if(function(e){switch(e){case null:return i;case void 0:return n}switch(typeof e){case"boolean":return r;case"number":return s;case"string":return a}return h}(e)!==h)throw new TypeError;var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(o);return t}var d=Array.prototype.slice;function u(e){var t=e.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=t.length||t[0]?t:[]}function f(e,t){var i=e;return function(){var e=p([m(i,this)],arguments);return t.apply(this,e)}}function p(e,t){for(var i=e.length,n=t.length;n--;)e[i+n]=t[n];return e}function m(e,t){if(arguments.length<2&&(i=arguments[0],void 0===i))return this;var i,n=e,r=d.call(arguments,2);return function(){var e,i,s=(e=r,i=arguments,p(e=d.call(e,0),i));return n.apply(t,s)}}var g=function(){},v=function(){var e=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}();function t(){}return{create:function(){var e=null,i=[].slice.apply(arguments);c(i[0])&&(e=i.shift());function n(){this.initialize.apply(this,arguments)}if(function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}(n,v.Methods),n.superclass=e,n.subclasses=[],e){t.prototype=e.prototype,n.prototype=new t;try{e.subclasses.push(n)}catch(e){}}for(var r=0,s=i.length;r<s;r++)n.addMethods(i[r]);return n.prototype.initialize||(n.prototype.initialize=g),n.prototype.constructor=n,n},Methods:{addMethods:function(t){var i=this.superclass&&this.superclass.prototype,n=l(t);e&&(t.toString!=Object.prototype.toString&&n.push("toString"),t.valueOf!=Object.prototype.valueOf&&n.push("valueOf"));for(var r=0,s=n.length;r<s;r++){var a=n[r],h=t[a];if(i&&c(h)&&"$super"==u(h)[0]){var o=h;(h=f(function(e){return function(){return i[e].apply(this,arguments)}}(a),o)).valueOf=m(o.valueOf,o),h.toString=m(o.toString,o)}this.prototype[a]=h}return this}}}}();e.exports?e.exports.Class=v:e.Class=v}(t),t.namespace("Rickshaw.Compat.ClassList"),t.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||function(e){"use strict";var t="prototype",i=(e.HTMLElement||e.Element)[t],n=Object,r=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[t].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},h=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(e,t)},o=function(e){for(var t=r.call(e.className),i=t?t.split(/\s+/):[],n=0,s=i.length;n<s;n++)this.push(i[n]);this._updateClassName=function(){e.className=this.toString()}},c=o[t]=[],l=function(){return new o(this)};if(a[t]=Error[t],c.item=function(e){return this[e]||null},c.contains=function(e){return-1!==h(this,e+="")},c.add=function(e){-1===h(this,e+="")&&(this.push(e),this._updateClassName())},c.remove=function(e){var t=h(this,e+="");-1!==t&&(this.splice(t,1),this._updateClassName())},c.toggle=function(e){-1===h(this,e+="")?this.add(e):this.remove(e)},c.toString=function(){return this.join(" ")},n.defineProperty){var d={get:l,enumerable:!0,configurable:!0};try{n.defineProperty(i,"classList",d)}catch(e){-2146823252===e.number&&(d.enumerable=!1,n.defineProperty(i,"classList",d))}}else n[t].__defineGetter__&&i.__defineGetter__("classList",l)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new t.Compat.ClassList,t.namespace("Rickshaw.Graph"),t.Graph=function(i){var n=this;this.initialize=function(t){if(!t.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==t.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=t.element,this.series=t.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(t),this.validateSeries(t.series),this.series.active=function(){return n.series.filter(function(e){return!e.disabled})},this.setSize({width:t.width,height:t.height}),this.element.classList.add("rickshaw_graph"),this.vis=e.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var e in t.Graph.Renderer)if(e&&t.Graph.Renderer.hasOwnProperty(e)){var i=t.Graph.Renderer[e];i&&i.prototype&&i.prototype.render&&n.registerRenderer(new i({graph:n}))}},this.validateSeries=function(e){if(!(Array.isArray(e)||e instanceof t.Series)){throw"series is not an array: "+Object.prototype.toString.apply(e)}e.forEach(function(e){if(!(e instanceof Object))throw"series element is not an object: "+e;if(!e.data)throw"series has no data: "+JSON.stringify(e);if(!Array.isArray(e.data))throw"series data is not an array: "+JSON.stringify(e.data);if(e.data.length>0){var t=e.data[0].x,i=e.data[0].y;if("number"!=typeof t||"number"!=typeof i&&null!==i)throw"x and y properties of points should be numbers instead of "+typeof t+" and "+typeof i}if(e.data.length>=3&&(e.data[2].x<e.data[1].x||e.data[1].x<e.data[0].x||e.data[e.data.length-1].x<e.data[0].x))throw"series data needs to be sorted on x values for series name: "+e.name},this)},this.dataDomain=function(){var t=this.series.map(function(e){return e.data});return[e.min(t.map(function(e){return e[0].x})),e.max(t.map(function(e){return e[e.length-1].x}))]},this.discoverRange=function(){var t=this.renderer.domain();this.x=(this.xScale||e.scale.linear()).copy().domain(t.x).range([0,this.width]),this.y=(this.yScale||e.scale.linear()).copy().domain(t.y).range([this.height,0]),this.x.magnitude=e.scale.linear().domain([t.x[0]-t.x[0],t.x[1]-t.x[0]]).range([0,this.width]),this.y.magnitude=e.scale.linear().domain([t.y[0]-t.y[0],t.y[1]-t.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(e){e()})},this.update=this.render,this.stackData=function(){var i=this.series.active().map(function(e){return e.data}).map(function(e){return e.filter(function(e){return this._slice(e)},this)},this),r=this.preserve;r||this.series.forEach(function(e){e.scale&&(r=!0)}),i=r?t.clone(i):i,this.series.active().forEach(function(e,t){if(e.scale){var n=i[t];n&&n.forEach(function(t){t.y=e.scale(t.y)})}}),this.stackData.hooks.data.forEach(function(e){i=e.f.apply(n,[i])});var s;if(!this.renderer.unstack){this._validateStackable();var a=e.layout.stack();a.offset(n.offset),s=a(i)}s=s||i,this.renderer.unstack&&s.forEach(function(e){e.forEach(function(e){e.y0=void 0===e.y0?0:e.y0})}),this.stackData.hooks.after.forEach(function(e){s=e.f.apply(n,[i])});var h=0;return this.series.forEach(function(e){e.disabled||(e.stack=s[h++])}),this.stackedData=s,s},this._validateStackable=function(){var e;this.series.forEach(function(t){if((e=e||t.data.length)&&t.data.length!=e)throw"stacked series cannot have differing numbers of points: "+e+" vs "+t.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(e){if(this.window.xMin||this.window.xMax){var t=!0;return this.window.xMin&&e.x<this.window.xMin&&(t=!1),this.window.xMax&&e.x>this.window.xMax&&(t=!1),t}return!0},this.onUpdate=function(e){this.updateCallbacks.push(e)},this.onConfigure=function(e){this.configureCallbacks.push(e)},this.registerRenderer=function(e){this._renderers=this._renderers||{},this._renderers[e.name]=e},this.configure=function(e){this.config=this.config||{},(e.width||e.height)&&this.setSize(e),t.keys(this.defaults).forEach(function(t){this.config[t]=t in e?e[t]:t in this?this[t]:this.defaults[t]},this),t.keys(this.config).forEach(function(e){this[e]=this.config[e]},this),"stack"in e&&(e.unstack=!e.stack);var i=e.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(i,e),this.configureCallbacks.forEach(function(t){t(e)})},this.setRenderer=function(e,t){if("function"==typeof e)this.renderer=new e({graph:n}),this.registerRenderer(this.renderer);else{if(!this._renderers[e])throw"couldn't find renderer "+e;this.renderer=this._renderers[e]}"object"==typeof t&&this.renderer.configure(t)},this.setSize=function(e){if(e=e||{},"undefined"!=typeof window)var t=window.getComputedStyle(this.element,null),i=parseInt(t.getPropertyValue("width"),10),n=parseInt(t.getPropertyValue("height"),10);this.width=e.width||i||400,this.height=e.height||n||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(i)},t.namespace("Rickshaw.Fixtures.Color"),t.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3v3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3v3e04e","#ccad2a","#cc8412","#c1521d","#ad3v3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d3v37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},t.namespace("Rickshaw.Fixtures.RandomData"),t.Fixtures.RandomData=function(e){e=e||1;var t=200,i=Math.floor((new Date).getTime()/1e3);this.addData=function(n){var r=100*Math.random()+15+t,s=n[0].length,a=1;n.forEach(function(t){var n=20*Math.random(),h=r/25+a+++15*(Math.cos(s*a*11/960)+2)+7*(Math.cos(s/7)+2)+1*(Math.cos(s/17)+2);t.push({x:s*e+i,y:h+n})}),t=.85*r},this.removeData=function(t){t.forEach(function(e){e.shift()}),i+=e}},t.namespace("Rickshaw.Fixtures.Time"),t.Fixtures.Time=function(){var t=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(e){return 10*parseInt(e.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(e){return e.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(e){return t.months[e.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(e){return t.formatDate(e)}},{name:"day",seconds:86400,formatter:function(e){return e.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(e){return t.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return t.formatTime(e)}},{name:"15 minute",seconds:900,formatter:function(e){return t.formatTime(e)}},{name:"minute",seconds:60,formatter:function(e){return e.getUTCMinutes()+"m"}},{name:"15 second",seconds:15,formatter:function(e){return e.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(e){return e.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(e){return e.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(e){return e.getUTCMilliseconds()+"ms"}}],this.unit=function(e){return this.units.filter(function(t){return e==t.name}).shift()},this.formatDate=function(t){return e.time.format("%b %e")(t)},this.formatTime=function(e){return e.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(e,t){var i,n;if("month"==t.name){if(i=new Date(1e3*e),Date.UTC(i.getUTCFullYear(),i.getUTCMonth())/1e3==e)return e;n=i.getUTCFullYear();var r=i.getUTCMonth();return 11==r?(r=0,n+=1):r+=1,Date.UTC(n,r)/1e3}return"year"==t.name?(i=new Date(1e3*e),Date.UTC(i.getUTCFullYear(),0)/1e3==e?e:(n=i.getUTCFullYear()+1,Date.UTC(n,0)/1e3)):Math.ceil(e/t.seconds)*t.seconds}},t.namespace("Rickshaw.Fixtures.Time.Local"),t.Fixtures.Time.Local=function(){var t=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(e){return 10*parseInt(e.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(e){return e.getFullYear()}},{name:"month",seconds:2635200,formatter:function(e){return t.months[e.getMonth()]}},{name:"week",seconds:604800,formatter:function(e){return t.formatDate(e)}},{name:"day",seconds:86400,formatter:function(e){return e.getDate()}},{name:"6 hour",seconds:21600,formatter:function(e){return t.formatTime(e)}},{name:"hour",seconds:3600,formatter:function(e){return t.formatTime(e)}},{name:"15 minute",seconds:900,formatter:function(e){return t.formatTime(e)}},{name:"minute",seconds:60,formatter:function(e){return e.getMinutes()}},{name:"15 second",seconds:15,formatter:function(e){return e.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(e){return e.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(e){return e.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(e){return e.getMilliseconds()+"ms"}}],this.unit=function(e){return this.units.filter(function(t){return e==t.name}).shift()},this.formatDate=function(t){return e.time.format("%b %e")(t)},this.formatTime=function(e){return e.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(e,t){var i,n,r;if("day"==t.name){var s=new Date(1e3*(e+t.seconds-1)),a=new Date(0);return a.setFullYear(s.getFullYear()),a.setMonth(s.getMonth()),a.setDate(s.getDate()),a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(0),a.getTime()/1e3}if("month"==t.name){if(i=new Date(1e3*e),new Date(i.getFullYear(),i.getMonth()).getTime()/1e3==e)return e;n=i.getFullYear();var h=i.getMonth();return 11==h?(h=0,n+=1):h+=1,new Date(n,h).getTime()/1e3}return"year"==t.name?(i=new Date(1e3*e),new Date(i.getUTCFullYear(),0).getTime()/1e3==e?e:(n=i.getFullYear()+1,new Date(n,0).getTime()/1e3)):(r=60*new Date(1e3*e).getTimezoneOffset(),Math.ceil((e-r)/t.seconds)*t.seconds+r)}},t.namespace("Rickshaw.Fixtures.Number"),t.Fixtures.Number.formatKMBT=function(e){var t=Math.abs(e);return t>=1e12?e/1e12+"T":t>=1e9?e/1e9+"B":t>=1e6?e/1e6+"M":t>=1e3?e/1e3+"K":t<1&&t>0?e.toFixed(2):0===t?"":e},t.Fixtures.Number.formatBase1024KMGTP=function(e){var t=Math.abs(e);return t>=0x4000000000000?e/0x4000000000000+"P":t>=1099511627776?e/1099511627776+"T":t>=1073741824?e/1073741824+"G":t>=1048576?e/1048576+"M":t>=1024?e/1024+"K":t<1&&t>0?e.toFixed(2):0===t?"":e},t.namespace("Rickshaw.Color.Palette"),t.Color.Palette=function(i){var n=new t.Fixtures.Color;if(i=i||{},this.schemes={},this.scheme=n.schemes[i.scheme]||i.scheme||n.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,i.interpolatedStopCount){var r,s,a=this.scheme.length-1,h=[];for(r=0;r<a;r++){h.push(this.scheme[r]);var o=e.interpolateHsl(this.scheme[r],this.scheme[r+1]);for(s=1;s<i.interpolatedStopCount;s++)h.push(o(1/i.interpolatedStopCount*s))}h.push(this.scheme[this.scheme.length-1]),this.scheme=h}this.rotateCount=this.scheme.length,this.color=function(e){return this.scheme[e]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var t;return this.generatorIndex==2*this.rotateCount-1?(t=e.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(t=e.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(t),t}}},t.namespace("Rickshaw.Graph.Ajax"),t.Graph.Ajax=t.Class.create({initialize:function(e){this.dataURL=e.dataURL,this.onData=e.onData||function(e){return e},this.onComplete=e.onComplete||function(){},this.onError=e.onError||function(){},this.args=e,this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(e,i){e=this.onData(e),this.args.series=this._splice({data:e,series:this.args.series}),this.graph=this.graph||new t.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(e){var t=e.data,i=e.series;return e.series?(i.forEach(function(e){var i=e.key||e.name;if(!i)throw"series needs a key or a name";t.forEach(function(t){var n=t.key||t.name;if(!n)throw"data needs a key or a name";if(i==n){["color","name","data"].forEach(function(i){t[i]&&(e[i]=t[i])})}})}),i):t}}),t.namespace("Rickshaw.Graph.Annotate"),t.Graph.Annotate=function(e){this.graph=e.graph;this.elements={timeline:e.element};var i=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(e,t,n){i.data[e]=i.data[e]||{boxes:[]},i.data[e].boxes.push({content:t,end:n})},this.update=function(){t.keys(i.data).forEach(function(e){var t=i.data[e],n=i.graph.x(e);if(n<0||n>i.graph.x.range()[1])return t.element&&(t.line.classList.add("offscreen"),t.element.style.display="none"),void t.boxes.forEach(function(e){e.rangeElement&&e.rangeElement.classList.add("offscreen")});if(!t.element){var r=t.element=document.createElement("div");r.classList.add("annotation"),this.elements.timeline.appendChild(r),r.addEventListener("click",function(e){r.classList.toggle("active"),t.line.classList.toggle("active"),t.boxes.forEach(function(e){e.rangeElement&&e.rangeElement.classList.toggle("active")})},!1)}t.element.style.left=n+"px",t.element.style.display="block",t.boxes.forEach(function(e){var r=e.element;if(r||((r=e.element=document.createElement("div")).classList.add("content"),r.innerHTML=e.content,t.element.appendChild(r),t.line=document.createElement("div"),t.line.classList.add("annotation_line"),i.graph.element.appendChild(t.line),e.end&&(e.rangeElement=document.createElement("div"),e.rangeElement.classList.add("annotation_range"),i.graph.element.appendChild(e.rangeElement))),e.end){var s=n,a=Math.min(i.graph.x(e.end),i.graph.x.range()[1]);s>a&&(a=n,s=Math.max(i.graph.x(e.end),i.graph.x.range()[0]));var h=a-s;e.rangeElement.style.left=s+"px",e.rangeElement.style.width=h+"px",e.rangeElement.classList.remove("offscreen")}t.line.classList.remove("offscreen"),t.line.style.left=n+"px"})},this)},this.graph.onUpdate(function(){i.update()})},t.namespace("Rickshaw.Graph.Axis.Time"),t.Graph.Axis.Time=function(e){var i=this;this.graph=e.graph,this.elements=[],this.ticksTreatment=e.ticksTreatment||"plain",this.fixedTimeUnit=e.timeUnit;var n=e.timeFixture||new t.Fixtures.Time;this.appropriateTimeUnit=function(){var e,t=n.units,i=this.graph.x.domain(),r=i[1]-i[0];return t.forEach(function(t){Math.floor(r/t.seconds)>=2&&(e=e||t)}),e||n.units[n.units.length-1]},this.tickOffsets=function(){for(var e=this.graph.x.domain(),t=this.fixedTimeUnit||this.appropriateTimeUnit(),i=Math.ceil((e[1]-e[0])/t.seconds),r=e[0],s=[],a=0;a<i;a++){var h=n.ceil(r,t);r=h+t.seconds/2,s.push({value:h,unit:t})}return s},this.render=function(){this.elements.forEach(function(e){e.parentNode.removeChild(e)}),this.elements=[];this.tickOffsets().forEach(function(e){if(!(i.graph.x(e.value)>i.graph.x.range()[1])){var t=document.createElement("div");t.style.left=i.graph.x(e.value)+"px",t.classList.add("x_tick"),t.classList.add(i.ticksTreatment);var n=document.createElement("div");n.classList.add("title"),n.innerHTML=e.unit.formatter(new Date(1e3*e.value)),t.appendChild(n),i.graph.element.appendChild(t),i.elements.push(t)}})},this.graph.onUpdate(function(){i.render()})},t.namespace("Rickshaw.Graph.Axis.X"),t.Graph.Axis.X=function(t){var i=this;this.initialize=function(t){this.graph=t.graph,this.orientation=t.orientation||"top",this.pixelsPerTick=t.pixelsPerTick||75,t.ticks&&(this.staticTicks=t.ticks),t.tickValues&&(this.tickValues=t.tickValues),this.tickSize=t.tickSize||4,this.ticksTreatment=t.ticksTreatment||"plain",t.element?(this.element=t.element,this._discoverSize(t.element,t),this.vis=e.select(t.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3v3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:t.width,height:t.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){i.render()})},this.setSize=function(e){if(e=e||{},this.element){this._discoverSize(this.element.parentNode,e),this.vis.attr("height",this.height).attr("width",1.1*this.width);var t=Math.floor(.1*this.width/2);this.element.style.left=-1*t+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var i=e.svg.axis().scale(this.graph.x).orient(this.orientation);i.tickFormat(t.tickFormat||function(e){return e}),this.tickValues&&i.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var n,r=Math.floor(.1*this.width/2)||0,s="bar"==this.graph.renderer.name&&Math.ceil(.95*this.graph.width/this.graph.series[0].data.length/2)||0;if("top"==this.orientation){n="translate("+(r+s)+","+(this.height||this.graph.height)+")"}else n="translate("+(r+s)+", 0)";this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3v3",this.ticksTreatment].join(" ")).attr("transform",n).call(i.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var a=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3v3").call(i.ticks(this.ticks).tickSubdivide(0).tickSize(a)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(e,t){if("undefined"!=typeof window){var i=window.getComputedStyle(e,null),n=parseInt(i.getPropertyValue("height"),10);if(!t.auto)var r=parseInt(i.getPropertyValue("width"),10)}this.width=1.1*(t.width||r||this.graph.width),this.height=t.height||n||40},this.initialize(t)},t.namespace("Rickshaw.Graph.Axis.Y"),t.Graph.Axis.Y=t.Class.create({initialize:function(t){this.graph=t.graph,this.orientation=t.orientation||"right",this.pixelsPerTick=t.pixelsPerTick||75,t.ticks&&(this.staticTicks=t.ticks),t.tickValues&&(this.tickValues=t.tickValues),this.tickSize=t.tickSize||4,this.ticksTreatment=t.ticksTreatment||"plain",this.tickFormat=t.tickFormat||function(e){return e},this.berthRate=.1,t.element?(this.element=t.element,this.vis=e.select(t.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:t.width,height:t.height})):this.vis=this.graph.vis;var i=this;this.graph.onUpdate(function(){i.render()})},setSize:function(e){if(e=e||{},this.element){if("undefined"!=typeof window){var t=window.getComputedStyle(this.element.parentNode,null),i=parseInt(t.getPropertyValue("width"),10);if(!e.auto)var n=parseInt(t.getPropertyValue("height"),10)}this.width=e.width||i||this.graph.width*this.berthRate,this.height=e.height||n||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var r=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*r+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var e=this._drawAxis(this.graph.y);this._drawGrid(e),this._renderHeight=this.graph.height},_drawAxis:function(t){var i=e.svg.axis().scale(t).orient(this.orientation);if(i.tickFormat(this.tickFormat),this.tickValues&&i.tickValues(this.tickValues),"left"==this.orientation)var n=this.height*this.berthRate,r="translate("+this.width+", "+n+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",r).call(i.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),i},_drawGrid:function(e){var t=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(e.ticks(this.ticks).tickSubdivide(0).tickSize(t)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),t.namespace("Rickshaw.Graph.Axis.Y.Scaled"),t.Graph.Axis.Y.Scaled=t.Class.create(t.Graph.Axis.Y,{initialize:function(e,t){if(void 0===t.scale)throw new Error("Scaled requires scale");this.scale=t.scale,void 0===t.grid?this.grid=!0:this.grid=t.grid,e(t)},_drawAxis:function(t,i){var n=this.scale.domain(),r=this.graph.renderer.domain().y,s=[Math.min.apply(Math,n),Math.max.apply(Math,n)],a=e.scale.linear().domain([0,1]).range(s),h=[a(r[0]),a(r[1])],o=e.scale.linear().domain(s).range(h);return t(this.scale.copy().domain(n.map(o)).range(i.range()))},_drawGrid:function(e,t){this.grid&&e(t)}}),t.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),t.Graph.Behavior.Series.Highlight=function(t){this.graph=t.graph,this.legend=t.legend;var i=this,n={},r=null,s=t.disabledColor||function(t){return e.interpolateRgb(t,e.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(e){e.element.addEventListener("mouseover",function(t){r||(r=e,i.legend.lines.forEach(function(t){if(e!==t)n[t.series.name]=n[t.series.name]||t.series.color,t.series.color=s(t.series.color);else if(i.graph.renderer.unstack&&(!t.series.renderer||t.series.renderer.unstack)){var r=i.graph.series.indexOf(t.series);t.originalIndex=r;var a=i.graph.series.splice(r,1)[0];i.graph.series.push(a)}}),i.graph.update())},!1),e.element.addEventListener("mouseout",function(t){r&&(r=null,i.legend.lines.forEach(function(t){if(e===t&&t.hasOwnProperty("originalIndex")){var r=i.graph.series.pop();i.graph.series.splice(t.originalIndex,0,r),delete t.originalIndex}n[t.series.name]&&(t.series.color=n[t.series.name])}),i.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(e){i.addHighlightEvents(e)})},t.namespace("Rickshaw.Graph.Behavior.Series.Order"),t.Graph.Behavior.Series.Order=function(e){this.graph=e.graph,this.legend=e.legend;var t=this;if(void 0===window.jQuery)throw"couldn't find jQuery at window.jQuery";if(void 0===window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";jQuery(function(){jQuery(t.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(e,i){var n=[];jQuery(t.legend.list).find("li").each(function(e,t){t.series&&n.push(t.series)});for(var r=t.graph.series.length-1;r>=0;r--)t.graph.series[r]=n.shift();t.graph.update()}}),jQuery(t.legend.list).disableSelection()}),this.graph.onUpdate(function(){var e=window.getComputedStyle(t.legend.element).height;t.legend.element.style.height=e})},t.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),t.Graph.Behavior.Series.Toggle=function(e){this.graph=e.graph,this.legend=e.legend;var t=this;this.addAnchor=function(e){var i=document.createElement("a");i.innerHTML="&#10004;",i.classList.add("action"),e.element.insertBefore(i,e.element.firstChild),i.onclick=function(i){if(e.series.disabled)e.series.enable(),e.element.classList.remove("disabled");else{if(this.graph.series.filter(function(e){return!e.disabled}).length<=1)return;e.series.disable(),e.element.classList.add("disabled")}t.graph.update()}.bind(this);e.element.getElementsByTagName("span")[0].onclick=function(i){var n=e.series.disabled;if(!n)for(var r=0;r<t.legend.lines.length;r++){var s=t.legend.lines[r];if(e.series===s.series);else if(!s.series.disabled){n=!0;break}}n?(e.series.enable(),e.element.classList.remove("disabled"),t.legend.lines.forEach(function(t){e.series===t.series||(t.series.disable(),t.element.classList.add("disabled"))})):t.legend.lines.forEach(function(e){e.series.enable(),e.element.classList.remove("disabled")}),t.graph.update()}},this.legend&&("undefined"!=typeof jQuery&&jQuery(this.legend.list).sortable&&jQuery(this.legend.list).sortable({start:function(e,t){t.item.bind("no.onclick",function(e){e.preventDefault()})},stop:function(e,t){setTimeout(function(){t.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(e){t.addAnchor(e)})),this._addBehavior=function(){this.graph.series.forEach(function(e){e.disable=function(){if(t.graph.series.length<=1)throw"only one series left";e.disabled=!0},e.enable=function(){e.disabled=!1}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},t.namespace("Rickshaw.Graph.DragZoom"),t.Graph.DragZoom=t.Class.create({initialize:function(t){if(!t||!t.graph)throw new Error("Rickshaw.Graph.DragZoom needs a reference to a graph");var i={opacity:.5,fill:"steelblue",minimumTimeSelection:60,callback:function(){}};this.graph=t.graph,this.svg=e.select(this.graph.element).select("svg"),this.svgWidth=parseInt(this.svg.attr("width"),10),this.opacity=t.opacity||i.opacity,this.fill=t.fill||i.fill,this.minimumTimeSelection=t.minimumTimeSelection||i.minimumTimeSelection,this.callback=t.callback||i.callback,this.registerMouseEvents()},registerMouseEvents:function(){var t,i=this,n=27,r={startDt:null,stopDt:null,startPX:null,stopPX:null};this.svg.on("mousedown",function(){var o=e.select(this);t=o.append("rect").style("opacity",i.opacity).attr("y",0).attr("height","100%"),e.event.preventDefault?e.event.preventDefault():e.event.returnValue=!1;r.target=e.event.target,r.startDt=c(e.event),r.startPX=e.event.offsetX||e.event.layerX,o.on("mousemove",a),e.select(document).on("mouseup",s),e.select(document).on("keyup",function(){e.event.keyCode===n&&h(this)})});function s(t,n){r.stopDt=c(e.event);var s=[r.startDt,r.stopDt].sort(o);i.graph.window.xMin=s[0],i.graph.window.xMax=s[1];var a=i.graph.window.xMax,l=i.graph.window.xMax-i.graph.window.xMin;h(this),l<i.minimumTimeSelection||isNaN(l)||(i.graph.update(),i.callback({range:l,endTime:a}))}function a(){var n=r.stopPX=e.event.offsetX||e.event.layerX;if(!(n>i.svgWidth-1||n<1)){var s=[r.startPX,n].sort(o),a=s[1]-s[0];if(isNaN(a))return h(this);t.attr("fill",i.fill).attr("x",s[0]).attr("width",a)}}function h(i){e.select(i).on("mousemove",null),e.select(document).on("mouseup",null),r={},t.remove()}function o(e,t){return e-t}function c(e){return Math.floor(i.graph.x.invert(e.offsetX||e.layerX))}}}),t.namespace("Rickshaw.Graph.HoverDetail"),t.Graph.HoverDetail=t.Class.create({initialize:function(e){var t=this.graph=e.graph;this.xFormatter=e.xFormatter||function(e){return new Date(1e3*e).toUTCString()},this.yFormatter=e.yFormatter||function(e){return null===e?e:e.toFixed(2)};var i=this.element=document.createElement("div");i.className="detail inactive",this.visible=!0,t.element.appendChild(i),this.lastEvent=null,this._addListeners(),this.onShow=e.onShow,this.onHide=e.onHide,this.onRender=e.onRender,this.formatter=e.formatter||this.formatter},formatter:function(e,t,i,n,r,s){return e.name+":&nbsp;"+r},update:function(t){if((t=t||this.lastEvent)&&(this.lastEvent=t,t.target.nodeName.match(/^(path|svg|rect|circle)$/))){var i,n=this.graph,r=t.layerX||t.offsetX,s=t.layerY||t.offsetY,a=0,h=[];if(this.graph.series.active().forEach(function(t){var o=this.graph.stackedData[a++];if(o.length){var c=n.x.invert(r),l=e.scale.linear().domain([o[0].x,o.slice(-1)[0].x]).range([0,o.length-1]),d=Math.round(l(c));d==o.length-1&&d--;for(var u=Math.min(d||0,o.length-1),f=d;f<o.length-1&&(o[f]&&o[f+1]);){if(o[f].x<=c&&o[f+1].x>c){u=Math.abs(c-o[f].x)<Math.abs(c-o[f+1].x)?f:f+1;break}o[f+1].x<=c?f++:f--}u<0&&(u=0);var p=o[u],m=Math.sqrt(Math.pow(Math.abs(n.x(p.x)-r),2)+Math.pow(Math.abs(n.y(p.y+p.y0)-s),2)),g=t.xFormatter||this.xFormatter,v=t.yFormatter||this.yFormatter,w={formattedXValue:g(p.x),formattedYValue:v(t.scale?t.scale.invert(p.y):p.y),series:t,value:p,distance:m,order:a,name:t.name};(!i||m<i.distance)&&(i=w),h.push(w)}},this),i){i.active=!0;var o=i.value.x,c=i.formattedXValue;this.element.innerHTML="",this.element.style.left=n.x(o)+"px",this.visible&&this.render({points:h,detail:h,mouseX:r,mouseY:s,formattedXValue:c,domainX:o})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(e){var t=this.graph,i=e.points.filter(function(e){return e.active}).shift();if(null!==i.value.y){var n=i.formattedXValue,r=i.formattedYValue;this.element.innerHTML="",this.element.style.left=t.x(i.value.x)+"px";var s=document.createElement("div");s.className="x_label",s.innerHTML=n,this.element.appendChild(s);var a=document.createElement("div");a.className="item";var h=i.series,o=h.scale?h.scale.invert(i.value.y):i.value.y;a.innerHTML=this.formatter(h,i.value.x,o,n,r,i),a.style.top=this.graph.y(i.value.y0+i.value.y)+"px",this.element.appendChild(a);var c=document.createElement("div");c.className="dot",c.style.top=a.style.top,c.style.borderColor=h.color,this.element.appendChild(c),i.active&&(a.classList.add("active"),c.classList.add("active"));var l=[s,a];l.forEach(function(e){e.classList.add("left")}),this.show();var d=this._calcLayoutError(l);if(d>0){l.forEach(function(e){e.classList.remove("left"),e.classList.add("right")});this._calcLayoutError(l)>d&&l.forEach(function(e){e.classList.remove("right"),e.classList.add("left")})}"function"==typeof this.onRender&&this.onRender(e)}},_calcLayoutError:function(e){var t=this.element.parentNode.getBoundingClientRect(),i=0;e.forEach(function(e){var n=e.getBoundingClientRect();n.width&&(n.right>t.right&&(i+=n.right-t.right),n.left<t.left&&(i+=t.left-n.left))});return i},_addListeners:function(){this.mousemoveListener=function(e){this.visible=!0,this.update(e)}.bind(this),this.graph.element.addEventListener("mousemove",this.mousemoveListener,!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.mouseoutListener=function(e){!e.relatedTarget||e.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),this.graph.element.addEventListener("mouseout",this.mouseoutListener,!1)},_removeListeners:function(){this.mousemoveListener&&this.graph.element.removeEventListener("mousemove",this.mousemoveListener,!1),this.mouseoutListener&&this.graph.element.removeEventListener("mouseout",this.mouseoutListener,!1)}}),t.namespace("Rickshaw.Graph.JSONP"),t.Graph.JSONP=t.Class.create(t.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),t.namespace("Rickshaw.Graph.Legend"),t.Graph.Legend=t.Class.create({className:"rickshaw_legend",initialize:function(e){this.element=e.element,this.graph=e.graph,this.naturalOrder=e.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var e=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var t=this.graph.series.map(function(e){return e});this.naturalOrder||(t=t.reverse()),t.forEach(function(t){e.addLine(t)})},addLine:function(t){var i=document.createElement("li");i.className="line",t.disabled&&(i.className+=" disabled"),t.className&&e.select(i).classed(t.className,!0);var n=document.createElement("div");n.className="swatch",n.style.backgroundColor=t.color,i.appendChild(n);var r=document.createElement("span");r.className="label",r.innerHTML=t.name,i.appendChild(r),this.list.appendChild(i),i.series=t,t.noLegend&&(i.style.display="none");var s={element:i,series:t};return this.shelving&&(this.shelving.addAnchor(s),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(s),this.lines.push(s),i}}),t.namespace("Rickshaw.Graph.RangeSlider"),t.Graph.RangeSlider=t.Class.create({initialize:function(e){var t=jQuery,i=this,n=(this.element=e.element,this.graphs=e.graphs);n||(n=this.graph=e.graph),n.constructor!==Array&&(n=[n]),this.graph=n[0],this.slideCallbacks=[],this.build();for(var r=0;r<n.length;r++)n[r].onUpdate(function(){i.update()}.bind(i)),function(e){n[e].onConfigure(function(){t(this.element)[0].style.width=n[e].width+"px"}.bind(i))}(r)},build:function(){var e,t=this.element,i=jQuery,n=this,r=this.graphs||this.graph;r.constructor!==Array&&(r=[r]),this.graph=r[0],e=r[0].dataDomain(),i(function(){i(t).slider({range:!0,min:e[0],max:e[1],values:[e[0],e[1]],start:function(e,t){n.slideStarted({event:e,ui:t})},stop:function(e,t){n.slideFinished({event:e,ui:t})},slide:function(e,t){if(n.slideShouldUpdate(e,t)&&!(t.values[1]<=t.values[0]))for(var i=0;i<r.length;i++)n.processSlideChange({event:e,ui:t,graph:r[i]})}})}),r[0].onConfigure(function(){i(this.element)[0].style.width=r[0].width+"px"}.bind(this))},update:function(){var e=this.element,t=this.graph,i=jQuery,n=i(e).slider("option","values"),r=t.dataDomain();i(e).slider("option","min",r[0]),i(e).slider("option","max",r[1]),null==t.window.xMin&&(n[0]=r[0]),null==t.window.xMax&&(n[1]=r[1]),i(e).slider("option","values",n)},onSlide:function(e){this.slideCallbacks.push(e)},processSlideChange:function(e){e.event;var t=e.ui,i=e.graph;i.window.xMin=t.values[0],i.window.xMax=t.values[1],i.update();var n=i.dataDomain();n[0]==t.values[0]&&(i.window.xMin=void 0),n[1]==t.values[1]&&(i.window.xMax=void 0),this.slideCallbacks.forEach(function(e){e(i,i.window.xMin,i.window.xMax)})},slideShouldUpdate:function(){return!0},slideStarted:function(){},slideFinished:function(){}}),t.namespace("Rickshaw.Graph.RangeSlider.Preview"),t.Graph.RangeSlider.Preview=t.Class.create({initialize:function(t){if(!t.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!t.graph&&!t.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=t.element,this.element.style.position="relative",this.graphs=t.graph?[t.graph]:t.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=t.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=e.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],t.width||(this.widthFromGraph=!0),t.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(t),this.render()}.bind(this)),t.width=t.width||this.graphs[0].width||this.defaults.width,t.height=t.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(t),this.render()},onSlide:function(e){this.slideCallbacks.push(e)},onConfigure:function(e){this.configureCallbacks.push(e)},configure:function(e){this.config=this.config||{},this.configureCallbacks.forEach(function(t){t(e)}),t.keys(this.defaults).forEach(function(t){this.config[t]=t in e?e[t]:t in this.config?this.config[t]:this.defaults[t]},this),("width"in e||"height"in e)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(e){var t=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,i=this.config.width-2*this.config.frameHandleThickness;if(e.setSize({width:i,height:t}),this.svg){var n=t+2*this.config.frameHandleThickness,r=i+2*this.config.frameHandleThickness;this.svg.style("width",r+"px"),this.svg.style("height",n+"px")}},this))},render:function(){var i=this;this.svg=e.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var n=e.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),r="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";n.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",r).style("-moz-transform",r).style("-ms-transform",r).style("transform",r).each(function(e,n){var r=t.extend({},e.config),s=i.previewHeight/i.graphs.length,a=e.renderer.name;t.extend(r,{element:this.appendChild(document.createElement("div")),height:s,width:i.previewWidth,series:e.series,renderer:a});var h=new t.Graph(r);i.previews.push(h),e.onUpdate(function(){h.render(),i.render()}),e.onConfigure(function(e){delete e.height,e.width=e.width-2*i.config.frameHandleThickness,h.configure(e),h.render()}),h.render()}),n.exit().remove();var s=this.graphs[0],a=e.scale.linear().domain([0,this.previewWidth]).range(s.dataDomain()),h=[s.window.xMin,s.window.xMax];this.currentFrame[0]=void 0===h[0]?0:Math.round(a.invert(h[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===h[1]?this.previewWidth:a.invert(h[1]),this.currentFrame[1]-this.currentFrame[0]<i.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+i.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var e=this.svg.selectAll("path.dimming").data([null]);e.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var t="";t+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,t+=" h "+this.previewWidth,t+=" v "+this.previewHeight,t+=" h "+-this.previewWidth,t+=" z ",t+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,t+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),t+=" v "+this.previewHeight,t+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),t+=" z",e.attr("d",t)},_renderFrame:function(){var e=this.svg.selectAll("path.frame").data([null]);e.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var t="";t+=" M "+this.currentFrame[0]+" 0",t+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),t+=" V "+this.config.height,t+=" H "+this.currentFrame[0],t+=" z",t+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,t+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),t+=" v "+this.previewHeight,t+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),t+=" z",e.attr("d",t)},_renderGrippers:function(){var e=this.svg.selectAll("path.gripper").data([null]);e.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var t="";[.4,.6].forEach(function(e){t+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*e)+" "+Math.round(.3*this.config.height),t+=" V "+Math.round(.7*this.config.height),t+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+e))+" "+Math.round(.3*this.config.height),t+=" V "+Math.round(.7*this.config.height)}.bind(this)),e.attr("d",t)},_renderHandles:function(){var e=this.svg.selectAll("rect.left_handle").data([null]);e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),e.attr("x",this.currentFrame[0]).attr("height",this.config.height);var t=this.svg.selectAll("rect.right_handle").data([null]);t.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),t.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var e=this.svg.selectAll("rect.middle_handle").data([null]);e.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),e.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){var t=e.select(this.element),i={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},n=this;function r(t,r){i.stop=n._getClientXFromEvent(e.event,i);var s=i.stop-i.start,a=n.frameBeforeDrag.slice(0),h=n.config.minimumFrameWidth;i.rigid&&(h=n.frameBeforeDrag[1]-n.frameBeforeDrag[0]),i.left&&(a[0]=Math.max(a[0]+s,0)),i.right&&(a[1]=Math.min(a[1]+s,n.previewWidth));a[1]-a[0]<=h&&(i.left&&(a[0]=a[1]-h),i.right&&(a[1]=a[0]+h),a[0]<=0&&(a[1]-=a[0],a[0]=0),a[1]>=n.previewWidth&&(a[0]-=a[1]-n.previewWidth,a[1]=n.previewWidth)),n.graphs.forEach(function(t){var i=e.scale.linear().interpolate(e.interpolateNumber).domain([0,n.previewWidth]).range(t.dataDomain()),r=[i(a[0]),i(a[1])];n.slideCallbacks.forEach(function(e){e(t,r[0],r[1])}),0===a[0]&&(r[0]=void 0),a[1]===n.previewWidth&&(r[1]=void 0),t.window.xMin=r[0],t.window.xMax=r[1],t.update()})}function s(){i.target=e.event.target,i.start=n._getClientXFromEvent(e.event,i),n.frameBeforeDrag=n.currentFrame.slice(),e.event.preventDefault?e.event.preventDefault():e.event.returnValue=!1,e.select(document).on("mousemove.rickshaw_range_slider_preview",r),e.select(document).on("mouseup.rickshaw_range_slider_preview",c),e.select(document).on("touchmove.rickshaw_range_slider_preview",r),e.select(document).on("touchend.rickshaw_range_slider_preview",c),e.select(document).on("touchcancel.rickshaw_range_slider_preview",c)}function a(e,t){i.left=!0,s()}function h(e,t){i.right=!0,s()}function o(e,t){i.left=!0,i.right=!0,i.rigid=!0,s()}function c(t,r){e.select(document).on("mousemove.rickshaw_range_slider_preview",null),e.select(document).on("mouseup.rickshaw_range_slider_preview",null),e.select(document).on("touchmove.rickshaw_range_slider_preview",null),e.select(document).on("touchend.rickshaw_range_slider_preview",null),e.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete n.frameBeforeDrag,i.left=!1,i.right=!1,i.rigid=!1}t.select("rect.left_handle").on("mousedown",a),t.select("rect.right_handle").on("mousedown",h),t.select("rect.middle_handle").on("mousedown",o),t.select("rect.left_handle").on("touchstart",a),t.select("rect.right_handle").on("touchstart",h),t.select("rect.middle_handle").on("touchstart",o)},_getClientXFromEvent:function(e,t){switch(e.type){case"touchstart":case"touchmove":for(var i=e.changedTouches,n=null,r=0;r<i.length;r++)if(i[r].target===t.target){n=i[r];break}return null!==n?n.clientX:void 0;default:return e.clientX}}}),t.namespace("Rickshaw.Graph.Renderer"),t.Graph.Renderer=t.Class.create({initialize:function(e){this.graph=e.graph,this.tension=e.tension||this.tension,this.configure(e)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1,opacity:1}},domain:function(e){var t=e||this.graph.stackedData||this.graph.stackData(),i=1/0,n=-1/0,r=1/0,s=-1/0;return(t=t.filter(function(e){return e&&0!==e.length})).forEach(function(e){e.forEach(function(e){if(null!=e.y){var t=e.y+e.y0;t<r&&(r=t),t>s&&(s=t)}}),e.length&&(e[0].x<i&&(i=e[0].x),e[e.length-1].x>n&&(n=e[e.length-1].x))}),i-=(n-i)*this.padding.left,n+=(n-i)*this.padding.right,r="auto"===this.graph.min?r:this.graph.min||0,s=void 0===this.graph.max?s:this.graph.max,("auto"===this.graph.min||r<0)&&(r-=(s-r)*this.padding.bottom),void 0===this.graph.max&&(s+=(s-r)*this.padding.top),{x:[i,n],y:[r,s]}},render:function(e){e=e||{};var t=this.graph,i=e.series||t.series,n=e.vis||t.vis;n.selectAll("*").remove();var r=i.filter(function(e){return!e.disabled}).map(function(e){return e.stack}),s=n.selectAll("path.path").data(r).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var a=n.selectAll("path.stroke").data(r).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var h=0;i.forEach(function(e){e.disabled||(e.path=s[0][h],this.stroke&&(e.stroke=a[0][h]),this._styleSeries(e),h++)},this)},_styleSeries:function(t){var i=this.fill?t.color:"none",n=this.stroke?t.color:"none",r=t.strokeWidth?t.strokeWidth:this.strokeWidth,s=t.opacity?t.opacity:this.opacity;t.path.setAttribute("fill",i),t.path.setAttribute("stroke",n),t.path.setAttribute("stroke-width",r),t.path.setAttribute("opacity",s),t.className&&e.select(t.path).classed(t.className,!0),t.className&&this.stroke&&e.select(t.stroke).classed(t.className,!0)},configure:function(e){e=e||{},t.keys(this.defaults()).forEach(function(i){e.hasOwnProperty(i)?"object"==typeof this.defaults()[i]?t.keys(this.defaults()[i]).forEach(function(t){this[i][t]=void 0!==e[i][t]?e[i][t]:void 0!==this[i][t]?this[i][t]:this.defaults()[i][t]},this):this[i]=void 0!==e[i]?e[i]:void 0!==this[i]?this[i]:void 0!==this.graph[i]?this.graph[i]:this.defaults()[i]:this[i]=this[i]||this.graph[i]||this.defaults()[i]},this)},setStrokeWidth:function(e){void 0!==e&&(this.strokeWidth=e)},setTension:function(e){void 0!==e&&(this.tension=e)}}),t.namespace("Rickshaw.Graph.Renderer.Line"),t.Graph.Renderer.Line=t.Class.create(t.Graph.Renderer,{name:"line",defaults:function(e){return t.extend(e(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var t=this.graph,i=e.svg.line().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y)}).interpolate(this.graph.interpolation).tension(this.tension);return i.defined&&i.defined(function(e){return null!==e.y}),i}}),t.namespace("Rickshaw.Graph.Renderer.Stack"),t.Graph.Renderer.Stack=t.Class.create(t.Graph.Renderer,{name:"stack",defaults:function(e){return t.extend(e(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var t=this.graph,i=e.svg.area().x(function(e){return t.x(e.x)}).y0(function(e){return t.y(e.y0)}).y1(function(e){return t.y(e.y+e.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return i.defined&&i.defined(function(e){return null!==e.y}),i}}),t.namespace("Rickshaw.Graph.Renderer.Bar"),t.Graph.Renderer.Bar=t.Class.create(t.Graph.Renderer,{name:"bar",defaults:function(e){var i=t.extend(e(),{gapSize:.05,unstack:!1,opacity:1});return delete i.tension,i},initialize:function(e,t){t=t||{},this.gapSize=t.gapSize||this.gapSize,e(t)},domain:function(e){var t=e(),i=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return t.x[1]+=Number(i.magnitude),t},barWidth:function(e){var t=this._frequentInterval(e.stack);return this.graph.x.magnitude(t.magnitude)*(1-this.gapSize)},render:function(e){e=e||{};var t=this.graph,i=e.series||t.series,n=e.vis||t.vis;n.selectAll("*").remove();var r=this.barWidth(i.active()[0]),s=0,a=i.filter(function(e){return!e.disabled}).length,h=this.unstack?r/a:r,o=function(e){return"matrix("+[1,0,0,e.y<0?-1:1,0,e.y<0?2*t.y.magnitude(Math.abs(e.y)):0].join(",")+")"};i.forEach(function(e){if(!e.disabled){this.barWidth(e);var i=n.selectAll("path").data(e.stack.filter(function(e){return null!==e.y})).enter().append("svg:rect").attr("x",function(e){return t.x(e.x)+s}).attr("y",function(e){return t.y(e.y0+Math.abs(e.y))*(e.y<0?-1:1)}).attr("width",h).attr("height",function(e){return t.y.magnitude(Math.abs(e.y))}).attr("opacity",e.opacity).attr("transform",o);Array.prototype.forEach.call(i[0],function(t){t.setAttribute("fill",e.color)}),this.unstack&&(s+=h)}},this)},_frequentInterval:function(e){for(var i={},n=0;n<e.length-1;n++){var r=e[n+1].x-e[n].x;i[r]=i[r]||0,i[r]++}var s={count:0,magnitude:1};return t.keys(i).sort(function(e,t){return Number(e)-Number(t)}).forEach(function(e){s.count<i[e]&&(s={count:i[e],magnitude:e})}),s}}),t.namespace("Rickshaw.Graph.Renderer.Area"),t.Graph.Renderer.Area=t.Class.create(t.Graph.Renderer,{name:"area",defaults:function(e){return t.extend(e(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var t=this.graph,i=e.svg.area().x(function(e){return t.x(e.x)}).y0(function(e){return t.y(e.y0)}).y1(function(e){return t.y(e.y+e.y0)}).interpolate(t.interpolation).tension(this.tension);return i.defined&&i.defined(function(e){return null!==e.y}),i},seriesStrokeFactory:function(){var t=this.graph,i=e.svg.line().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y+e.y0)}).interpolate(t.interpolation).tension(this.tension);return i.defined&&i.defined(function(e){return null!==e.y}),i},render:function(e){e=e||{};var t=this.graph,i=e.series||t.series,n=e.vis||t.vis;n.selectAll("*").remove();var r=this.unstack?"append":"insert",s=i.filter(function(e){return!e.disabled}).map(function(e){return e.stack}),a=n.selectAll("path").data(s).enter()[r]("svg:g","g");a.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&a.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var h=0;i.forEach(function(e){e.disabled||(e.path=a[0][h++],this._styleSeries(e))},this)},_styleSeries:function(t){t.path&&(e.select(t.path).select(".area").attr("fill",t.color),this.stroke&&e.select(t.path).select(".line").attr("fill","none").attr("stroke",t.stroke||e.interpolateRgb(t.color,"black")(.125)).attr("stroke-width",this.strokeWidth),t.className&&t.path.setAttribute("class",t.className))}}),t.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),t.Graph.Renderer.ScatterPlot=t.Class.create(t.Graph.Renderer,{name:"scatterplot",defaults:function(e){return t.extend(e(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function(e,t){e(t)},render:function(e){e=e||{};var t=this.graph,i=e.series||t.series,n=e.vis||t.vis,r=this.dotSize;n.selectAll("*").remove(),i.forEach(function(e){if(!e.disabled){var i=e.opacity?e.opacity:1,s=n.selectAll("path").data(e.stack.filter(function(e){return null!==e.y})).enter().append("svg:circle").attr("cx",function(e){return t.x(e.x)}).attr("cy",function(e){return t.y(e.y)}).attr("r",function(e){return"r"in e?e.r:r}).attr("opacity",function(e){return"opacity"in e?e.opacity:i});e.className&&s.classed(e.className,!0),Array.prototype.forEach.call(s[0],function(t){t.setAttribute("fill",e.color)})}},this)}}),t.namespace("Rickshaw.Graph.Renderer.Multi"),t.Graph.Renderer.Multi=t.Class.create(t.Graph.Renderer,{name:"multi",initialize:function(e,t){e(t)},defaults:function(e){return t.extend(e(),{unstack:!0,fill:!1,stroke:!0})},configure:function(e,t){t=t||{},this.config=t,e(t)},domain:function(t){this.graph.stackData();var i=[],n=this._groups();this._stack(n),n.forEach(function(e){var n=e.series.filter(function(e){return!e.disabled}).map(function(e){return e.stack});if(n.length){var r=null;r=e.renderer&&e.renderer.domain?e.renderer.domain(n):t(n),i.push(r)}});return{x:[e.min(i.map(function(e){return e.x[0]})),e.max(i.map(function(e){return e.x[1]}))],y:[e.min(i.map(function(e){return e.y[0]})),e.max(i.map(function(e){return e.y[1]}))]}},_groups:function(){var i=this.graph,n={};i.series.forEach(function(r){if(!r.disabled){if(!n[r.renderer]){var s=document.createElementNS("http://www.w3.org/2000/svg","g");i.vis[0][0].appendChild(s);var a=i._renderers[r.renderer],h={};[this.defaults(),a.defaults(),this.config,this.graph].forEach(function(e){t.extend(h,e)}),a.configure(h),n[r.renderer]={renderer:a,series:[],vis:e.select(s)}}n[r.renderer].series.push(r)}},this);var r=[];return Object.keys(n).forEach(function(e){var t=n[e];r.push(t)}),r},_stack:function(i){return i.forEach(function(i){var n=i.series.filter(function(e){return!e.disabled}),r=n.map(function(e){return e.stack});if(!i.renderer.unstack){var s=e.layout.stack(),a=t.clone(s(r));n.forEach(function(e,i){e._stack=t.clone(a[i])})}},this),i},render:function(){this.graph.series.forEach(function(e){if(!e.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var e=this._groups();(e=this._stack(e)).forEach(function(e){var t=e.series.filter(function(e){return!e.disabled});t.active=function(){return t},e.renderer.render({series:t,vis:e.vis}),t.forEach(function(e){e.stack=e._stack||e.stack||e.data})})}}),t.namespace("Rickshaw.Graph.Renderer.LinePlot"),t.Graph.Renderer.LinePlot=t.Class.create(t.Graph.Renderer,{name:"lineplot",defaults:function(e){return t.extend(e(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var t=this.graph,i=e.svg.line().x(function(e){return t.x(e.x)}).y(function(e){return t.y(e.y)}).interpolate(this.graph.interpolation).tension(this.tension);return i.defined&&i.defined(function(e){return null!==e.y}),i},render:function(e){e=e||{};var t=this.graph,i=e.series||t.series,n=e.vis||t.vis,r=this.dotSize;n.selectAll("*").remove();var s=i.filter(function(e){return!e.disabled}).map(function(e){return e.stack}),a=n.selectAll("path").data(s).enter().append("svg:path").attr("d",this.seriesPathFactory()),h=0;i.forEach(function(e){e.disabled||(e.path=a[0][h++],this._styleSeries(e))},this),i.forEach(function(e){if(!e.disabled){var i=n.selectAll("x").data(e.stack.filter(function(e){return null!==e.y})).enter().append("svg:circle").attr("cx",function(e){return t.x(e.x)}).attr("cy",function(e){return t.y(e.y)}).attr("r",function(e){return"r"in e?e.r:r});Array.prototype.forEach.call(i[0],function(t){t&&(t.setAttribute("data-color",e.color),t.setAttribute("fill","white"),t.setAttribute("stroke",e.color),t.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),t.namespace("Rickshaw.Graph.Smoother"),t.Graph.Smoother=t.Class.create({initialize:function(e){this.graph=e.graph,this.element=e.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var e=this,t=jQuery;this.element&&t(function(){t(e.element).slider({min:1,max:100,slide:function(t,i){e.setScale(i.value)}})})},setScale:function(e){if(e<1)throw"scale out of range: "+e;this.aggregationScale=e,this.graph.update()},transformer:function(e){if(1==this.aggregationScale)return e;var t=[];return e.forEach(function(e){for(var i=[];e.length;){var n=0,r=0,s=e.splice(0,this.aggregationScale);s.forEach(function(e){n+=e.x/s.length,r+=e.y/s.length}),i.push({x:n,y:r})}t.push(i)}.bind(this)),t}}),t.namespace("Rickshaw.Graph.Socketio"),t.Graph.Socketio=t.Class.create(t.Graph.Ajax,{request:function(){var e=this;io.connect(this.dataURL).on("rickshaw",function(t){e.success(t)})}}),t.namespace("Rickshaw.Series"),t.Series=t.Class.create(Array,{initialize:function(e,i,n){n=n||{},this.palette=new t.Color.Palette(i),this.timeBase=void 0===n.timeBase?Math.floor((new Date).getTime()/1e3):n.timeBase;var r=void 0===n.timeInterval?1e3:n.timeInterval;this.setTimeInterval(r),e&&"object"==typeof e&&Array.isArray(e)&&e.forEach(function(e){this.addItem(e)},this)},addItem:function(e){if(void 0===e.name)throw"addItem() needs a name";e.color=e.color||this.palette.color(e.name),e.data=e.data||[],0===e.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(t){e.data.push({x:t.x,y:0})}):0===e.data.length&&e.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(e),this.legend&&this.legend.addLine(this.itemByName(e.name))},addData:function(e,i){var n=this.getIndex();t.keys(e).forEach(function(e){this.itemByName(e)||this.addItem({name:e})},this),this.forEach(function(t){t.data.push({x:i||(n*this.timeInterval||1)+this.timeBase,y:e[t.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(e){for(var t=0;t<this.length;t++)if(this[t].name==e)return this[t]},setTimeInterval:function(e){this.timeInterval=e/1e3},setTimeBase:function(e){this.timeBase=e},dump:function(){var e={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(t){var i={color:t.color,name:t.name,data:[]};t.data.forEach(function(e){i.data.push({x:e.x,y:e.y})}),e.items.push(i)}),e},load:function(e){e.timeInterval&&(this.timeInterval=e.timeInterval),e.timeBase&&(this.timeBase=e.timeBase),e.items&&e.items.forEach(function(e){this.push(e),this.legend&&this.legend.addLine(this.itemByName(e.name))},this)}}),t.Series.zeroFill=function(e){t.Series.fill(e,0)},t.Series.fill=function(e,t){for(var i,n=0,r=e.map(function(e){return e.data});n<Math.max.apply(null,r.map(function(e){return e.length}));)i=Math.min.apply(null,r.filter(function(e){return e[n]}).map(function(e){return e[n].x})),r.forEach(function(e){e[n]&&e[n].x==i||e.splice(n,0,{x:i,y:t})}),n++},t.namespace("Rickshaw.Series.FixedDuration"),t.Series.FixedDuration=t.Class.create(t.Series,{initialize:function(e,i,n){if(void 0===(n=n||{}).timeInterval)throw new Error("FixedDuration series requires timeInterval");if(void 0===n.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new t.Color.Palette(i),this.timeBase=void 0===n.timeBase?Math.floor((new Date).getTime()/1e3):n.timeBase,this.setTimeInterval(n.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=n.maxDataPoints,e&&"object"==typeof e&&Array.isArray(e)&&(e.forEach(function(e){this.addItem(e)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,void 0!==this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var r=this.maxDataPoints-this.currentSize-1;r>1;r--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(e){e.data.unshift({x:((r-1)*this.timeInterval||1)+this.timeBase,y:0,i:r})},this)},addData:function(e,t,i){if(e(t,i),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(e){e.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),t});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});return setTimeout(function(){i||t(o).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function o(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===s?[]:s);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o())};var o=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var o=t(this),n=o.data("bs.alert");n||o.data("bs.alert",n=new i(this)),"string"==typeof e&&n[e].call(o)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target).closest(".btn");e.call(o,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),o.is("input,button")?o.trigger("focus"):o.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):a?n[a]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var o=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(o)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.7",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),a=s.data("bs.collapse")?"toggle":n.data();i.call(s,a)})}(jQuery),function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function i(i){i&&3===i.which||(t(o).remove(),t(n).each(function(){var o=t(this),n=e(o),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(o.attr("aria-expanded","false"),n.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}var o=".dropdown-backdrop",n='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.7",s.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},s.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=t(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var s=e(o),a=s.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&s.find(n).trigger("focus"),o.trigger("click");var r=s.find(".dropdown-menu li:not(.disabled):visible a");if(r.length){var l=r.index(i.target);38==i.which&&l>0&&l--,40==i.which&&l<r.length-1&&l++,~l||(l=0),r.eq(l).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new s(this)),"string"==typeof e&&o[e].call(i)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,s.prototype.toggle).on("keydown.bs.dropdown.data-api",n,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](o):a.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,a,this)})}(jQuery),function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(){var i=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(i);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(i.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=r,u=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+c>u.bottom?"top":"top"==r&&d.top-c<u.top?"bottom":"right"==r&&d.right+p>u.width?"left":"left"==r&&d.left-p<u.left?"right":r,s.removeClass(f).addClass(r)}var g=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(g,r);var m=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(e.TRANSITION_DURATION):m()}},e.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-n+l:2*d.top-s+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(i){function o(){"in"!=n.hoverState&&s.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),i&&i()}var n=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(e.TRANSITION_DURATION):o(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var i=(e=e||this.$element)[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=window.SVGElement&&i instanceof window.SVGElement,a=o?{top:0,left:0}:s?null:e.offset(),r={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,r,l,a)},e.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof i&&i;!n&&/destroy|hide/.test(i)||(n||o.data("bs.tooltip",n=new e(this,s)),"string"==typeof i&&n[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.7",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof i&&i;!n&&/destroy|hide/.test(i)||(n||o.data("bs.popover",n=new e(this,s)),"string"==typeof i&&n[i]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+o,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=o.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return n<i&&"top";if("bottom"==this.affixed)return null!=i?!(n+this.unpin<=s.top)&&"bottom":!(n+a<=t-o)&&"bottom";var r=null==this.affixed,l=r?n:s.top;return null!=i&&n<=i?"top":null!=o&&l+(r?a:e)>=t-o&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var r=this.getState(a,e,n,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery);!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t,n){return[t,n]}function e(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ka?10:o>=Sa?5:o>=Ea?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ka?10:o>=Sa?5:o>=Ea?2:1)}function r(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ka?i*=10:o>=Sa?i*=5:o>=Ea&&(i*=2),n<t?-i:i}function i(t){return t.length}function o(t){return"translate("+(t+.5)+",0)"}function u(t){return"translate(0,"+(t+.5)+")"}function a(){return!this.__axis}function c(t,n){function e(e){var o=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,u=null==c?n.tickFormat?n.tickFormat.apply(n,r):Ua:c,v=Math.max(s,0)+l,_=n.range(),g=+_[0]+.5,y=+_[_.length-1]+.5,m=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),x=e.selection?e.selection():e,b=x.selectAll(".domain").data([null]),w=x.selectAll(".tick").data(o,n).order(),M=w.exit(),T=w.enter().append("g").attr("class","tick"),N=w.select("line"),k=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(T),N=N.merge(T.append("line").attr("stroke","#000").attr(p+"2",h*s)),k=k.merge(T.append("text").attr("fill","#000").attr(p,h*v).attr("dy",t===Da?"0em":t===Fa?"0.71em":"0.32em")),e!==x&&(b=b.transition(e),w=w.transition(e),N=N.transition(e),k=k.transition(e),M=M.transition(e).attr("opacity",Ya).attr("transform",function(t){return isFinite(t=m(t))?d(t):this.getAttribute("transform")}),T.attr("opacity",Ya).attr("transform",function(t){var n=this.parentNode.__axis;return d(n&&isFinite(n=n(t))?n:m(t))})),M.remove(),b.attr("d",t===Ia||t==Oa?"M"+h*f+","+g+"H0.5V"+y+"H"+h*f:"M"+g+","+h*f+"V0.5H"+y+"V"+h*f),w.attr("opacity",1).attr("transform",function(t){return d(m(t))}),N.attr(p+"2",h*s),k.attr(p,h*v).text(u),x.filter(a).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Oa?"start":t===Ia?"end":"middle"),x.each(function(){this.__axis=m})}var r=[],i=null,c=null,s=6,f=6,l=3,h=t===Da||t===Ia?-1:1,p=t===Ia||t===Oa?"x":"y",d=t===Da||t===Fa?o:u;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=qa.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:qa.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:qa.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(c=t,e):c},e.tickSize=function(t){return arguments.length?(s=f=+t,e):s},e.tickSizeInner=function(t){return arguments.length?(s=+t,e):s},e.tickSizeOuter=function(t){return arguments.length?(f=+t,e):f},e.tickPadding=function(t){return arguments.length?(l=+t,e):l},e}function s(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new f(r)}function f(t){this._=t}function l(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function h(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ba,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function p(){return new d}function d(){this._="@"+(++Va).toString(36)}function v(t,n,e){return t=_(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function _(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function g(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function y(t,n,e){var r=Qa.hasOwnProperty(t.type)?v:_;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function m(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function x(){}function b(){return[]}function w(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function M(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new w(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function T(t,n,e,r,i,o,u){var a,c,s,f={},l=n.length,h=o.length,p=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(p[a]=s=oc+u.call(c,c.__data__,a,n),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)(c=f[s=oc+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],f[s]=null):e[a]=new w(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&f[p[a]]===c&&(i[a]=c)}function N(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function k(t,n){return t.style.getPropertyValue(n)||uc(t).getComputedStyle(t,null).getPropertyValue(n)}function S(t){return t.trim().split(/^|\s+/)}function E(t){return t.classList||new A(t)}function A(t){this._node=t,this._names=S(t.getAttribute("class")||"")}function C(t,n){for(var e=E(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function z(t,n){for(var e=E(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function P(){this.textContent=""}function R(){this.innerHTML=""}function L(){this.nextSibling&&this.parentNode.appendChild(this)}function q(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U(){return null}function D(){var t=this.parentNode;t&&t.removeChild(this)}function O(t,n,e){var r=uc(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function F(t,n){this._groups=t,this._parents=n}function I(){return new F([[document.documentElement]],ac)}function Y(){t.event.stopImmediatePropagation()}function B(t,n){var e=t.document.documentElement,r=cc(t).on("dragstart.drag",null);n&&(r.on("click.drag",fc,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function j(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function H(){return!t.event.button}function X(){return this.parentNode}function $(n){return null==n?{x:t.event.x,y:t.event.y}:n}function V(){return"ontouchstart"in this}function W(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Z(){}function G(t){var n;return t=(t+"").trim().toLowerCase(),(n=gc.exec(t))?new nt((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=yc.exec(t))?J(parseInt(n[1],16)):(n=mc.exec(t))?new nt(n[1],n[2],n[3],1):(n=xc.exec(t))?new nt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=bc.exec(t))?Q(n[1],n[2],n[3],n[4]):(n=wc.exec(t))?Q(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Mc.exec(t))?et(n[1],n[2]/100,n[3]/100,1):(n=Tc.exec(t))?et(n[1],n[2]/100,n[3]/100,n[4]):Nc.hasOwnProperty(t)?J(Nc[t]):"transparent"===t?new nt(NaN,NaN,NaN,0):null}function J(t){return new nt(t>>16&255,t>>8&255,255&t,1)}function Q(t,n,e,r){return r<=0&&(t=n=e=NaN),new nt(t,n,e,r)}function K(t){return t instanceof Z||(t=G(t)),t?new nt((t=t.rgb()).r,t.g,t.b,t.opacity):new nt}function tt(t,n,e,r){return 1===arguments.length?K(t):new nt(t,n,e,null==r?1:r)}function nt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function et(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new it(t,n,e,r)}function rt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof it)return new it(t.h,t.s,t.l,t.opacity);if(t instanceof Z||(t=G(t)),!t)return new it;if(t instanceof it)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new it(u,a,c,t.opacity)}(t):new it(t,n,e,null==r?1:r)}function it(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ot(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function ut(t){if(t instanceof ct)return new ct(t.l,t.a,t.b,t.opacity);if(t instanceof dt){var n=t.h*kc;return new ct(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof nt||(t=K(t));var e=ht(t.r),r=ht(t.g),i=ht(t.b),o=st((.4124564*e+.3575761*r+.1804375*i)/Ec),u=st((.2126729*e+.7151522*r+.072175*i)/Ac);return new ct(116*u-16,500*(o-u),200*(u-st((.0193339*e+.119192*r+.9503041*i)/Cc)),t.opacity)}function at(t,n,e,r){return 1===arguments.length?ut(t):new ct(t,n,e,null==r?1:r)}function ct(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function st(t){return t>Lc?Math.pow(t,1/3):t/Rc+zc}function ft(t){return t>Pc?t*t*t:Rc*(t-zc)}function lt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ht(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof dt)return new dt(t.h,t.c,t.l,t.opacity);t instanceof ct||(t=ut(t));var n=Math.atan2(t.b,t.a)*Sc;return new dt(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new dt(t,n,e,null==r?1:r)}function dt(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function vt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof _t)return new _t(t.h,t.s,t.l,t.opacity);t instanceof nt||(t=K(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ic*r+Oc*n-Fc*e)/(Ic+Oc-Fc),o=r-i,u=(Dc*(e-i)-qc*o)/Uc,a=Math.sqrt(u*u+o*o)/(Dc*i*(1-i)),c=a?Math.atan2(u,o)*Sc-120:NaN;return new _t(c<0?c+360:c,a,i,t.opacity)}(t):new _t(t,n,e,null==r?1:r)}function _t(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function gt(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function yt(t,n){return function(e){return t+e*n}}function mt(t,n){var e=n-t;return e?yt(t,e>180||e<-180?e-360*Math.round(e/360):e):Zc(isNaN(t)?n:t)}function xt(t){return 1==(t=+t)?bt:function(n,e){return e-n?(r=n,i=e,o=t,r=Math.pow(r,o),i=Math.pow(i,o)-r,o=1/o,function(t){return Math.pow(r+t*i,o)}):Zc(isNaN(n)?e:n);var r,i,o}}function bt(t,n){var e=n-t;return e?yt(t,e):Zc(isNaN(t)?n:t)}function wt(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=tt(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}function Mt(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:ns(t,i)},{i:c-2,x:ns(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),h=o.rotate,p=u.rotate,d=a,h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),c.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ns(h,p)})):p&&d.push(i(d)+"rotate("+p+r),s=o.skewX,f=u.skewX,l=a,s!==f?c.push({i:l.push(i(l)+"skewX(",null,r)-2,x:ns(s,f)}):f&&l.push(i(l)+"skewX("+f+r),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:ns(t,e)},{i:a-2,x:ns(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")};var s,f,l,h,p,d}}function Tt(t){return((t=Math.exp(t))+1/t)/2}function Nt(t){return function(n,e){var r=t((n=rt(n)).h,(e=rt(e)).h),i=bt(n.s,e.s),o=bt(n.l,e.l),u=bt(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function kt(t){return function(n,e){var r=t((n=pt(n)).h,(e=pt(e)).h),i=bt(n.c,e.c),o=bt(n.l,e.l),u=bt(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function St(t){return function n(e){function r(n,r){var i=t((n=vt(n)).h,(r=vt(r)).h),o=bt(n.s,r.s),u=bt(n.l,r.l),a=bt(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}function Et(){return ks||(As(At),ks=Es.now()+Ss)}function At(){ks=0}function Ct(){this._call=this._time=this._next=null}function zt(t,n,e){var r=new Ct;return r.restart(t,n,e),r}function Pt(){Et(),++bs;for(var t,n=Xc;n;)(t=ks-n._time)>=0&&n._call.call(null,t),n=n._next;--bs}function Rt(){ks=(Ns=Es.now())+Ss,bs=ws=0;try{Pt()}finally{bs=0,function(){for(var t,n,e=Xc,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Xc=n);$c=t,qt(r)}(),ks=0}}function Lt(){var t=Es.now(),n=t-Ns;n>Ts&&(Ss-=n,Ns=t)}function qt(t){bs||(ws&&(ws=clearTimeout(ws)),t-ks>24?(t<1/0&&(ws=setTimeout(Rt,t-Es.now()-Ss)),Ms&&(Ms=clearInterval(Ms))):(Ms||(Ns=Es.now(),Ms=setInterval(Lt,Ts)),bs=1,As(Rt)))}function Ut(t,n){var e=t.__transition;if(!e||!(e=e[n])||e.state>Rs)throw new Error("too late");return e}function Dt(t,n){var e=t.__transition;if(!e||!(e=e[n])||e.state>qs)throw new Error("too late");return e}function Ot(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("too late");return e}function Ft(t,n,e){var r=t._id;return t.each(function(){var t=Dt(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Ot(t,r).value[n]}}function It(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Yt(t){return I().transition(t)}function Bt(){return++Hs}function jt(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ht(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function Xt(t){return(1-Math.cos(Zs*t))/2}function $t(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Vt(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Wt(t){return(t=+t)<Js?af*t*t:t<Ks?af*(t-=Qs)*t+tf:t<ef?af*(t-=nf)*t+rf:af*(t-=of)*t+uf}function Zt(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return vf.time=Et(),vf;return e}function Gt(){t.event.stopImmediatePropagation()}function Jt(t){return{type:t}}function Qt(){return!t.event.button}function Kt(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function tn(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function nn(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function en(n){function e(t){var e=t.property("__brush",a).selectAll(".overlay").data([Jt("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Sf.overlay).merge(e).each(function(){var t=tn(this).extent;cc(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Jt("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Sf.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(n.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Sf[t.type]}),t.each(r).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function r(){var t=cc(this),n=tn(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-p/2:n[0][0]-p/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-p/2:n[0][1]-p/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+p:p}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+p:p})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,n){return t.__brush.emitter||new o(t,n)}function o(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function u(){function e(){var t=nc(w);!L||x||b||(Math.abs(t[0]-U[0])>Math.abs(t[1]-U[1])?b=!0:x=!0),U=t,m=!0,mf(),o()}function o(){var t;switch(g=U[0]-q[0],y=U[1]-q[1],T){case bf:case xf:N&&(g=Math.max(C-a,Math.min(P-p,g)),s=a+g,d=p+g),k&&(y=Math.max(z-f,Math.min(R-v,y)),h=f+y,_=v+y);break;case wf:N<0?(g=Math.max(C-a,Math.min(P-a,g)),s=a+g,d=p):N>0&&(g=Math.max(C-p,Math.min(P-p,g)),s=a,d=p+g),k<0?(y=Math.max(z-f,Math.min(R-f,y)),h=f+y,_=v):k>0&&(y=Math.max(z-v,Math.min(R-v,y)),h=f,_=v+y);break;case Mf:N&&(s=Math.max(C,Math.min(P,a-g*N)),d=Math.max(C,Math.min(P,p+g*N))),k&&(h=Math.max(z,Math.min(R,f-y*k)),_=Math.max(z,Math.min(R,v+y*k)))}d<s&&(N*=-1,t=a,a=p,p=t,t=s,s=d,d=t,M in Ef&&F.attr("cursor",Sf[M=Ef[M]])),_<h&&(k*=-1,t=f,f=v,v=t,t=h,h=_,_=t,M in Af&&F.attr("cursor",Sf[M=Af[M]])),S.selection&&(A=S.selection),x&&(s=A[0][0],d=A[1][0]),b&&(h=A[0][1],_=A[1][1]),A[0][0]===s&&A[0][1]===h&&A[1][0]===d&&A[1][1]===_||(S.selection=[[s,h],[d,_]],r.call(w),D.brush())}function u(){if(Gt(),t.event.touches){if(t.event.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500),O.on("touchmove.brush touchend.brush touchcancel.brush",null)}else B(t.event.view,m),I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),F.attr("cursor",Sf.overlay),S.selection&&(A=S.selection),nn(A)&&(S.selection=null,r.call(w)),D.end()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return mf()}else if(c)return;if(l.apply(this,arguments)){var a,s,f,h,p,d,v,_,g,y,m,x,b,w=this,M=t.event.target.__data__.type,T="selection"===(t.event.metaKey?M="overlay":M)?xf:t.event.altKey?Mf:wf,N=n===Nf?null:Cf[M],k=n===Tf?null:zf[M],S=tn(w),E=S.extent,A=S.selection,C=E[0][0],z=E[0][1],P=E[1][0],R=E[1][1],L=N&&k&&t.event.shiftKey,q=nc(w),U=q,D=i(w,arguments).beforestart();"overlay"===M?S.selection=A=[[a=n===Nf?C:q[0],f=n===Tf?z:q[1]],[p=n===Nf?P:a,v=n===Tf?R:f]]:(a=A[0][0],f=A[0][1],p=A[1][0],v=A[1][1]),s=a,h=f,d=p,_=v;var O=cc(w).attr("pointer-events","none"),F=O.selectAll(".overlay").attr("cursor",Sf[M]);if(t.event.touches)O.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",u,!0);else{var I=cc(t.event.view).on("keydown.brush",function(){switch(t.event.keyCode){case 16:L=N&&k;break;case 18:T===wf&&(N&&(p=d-g*N,a=s+g*N),k&&(v=_-y*k,f=h+y*k),T=Mf,o());break;case 32:T!==wf&&T!==Mf||(N<0?p=d-g:N>0&&(a=s-g),k<0?v=_-y:k>0&&(f=h-y),T=bf,F.attr("cursor",Sf.selection),o());break;default:return}mf()},!0).on("keyup.brush",function(){switch(t.event.keyCode){case 16:L&&(x=b=L=!1,o());break;case 18:T===Mf&&(N<0?p=d:N>0&&(a=s),k<0?v=_:k>0&&(f=h),T=wf,o());break;case 32:T===bf&&(t.event.altKey?(N&&(p=d-g*N,a=s+g*N),k&&(v=_-y*k,f=h+y*k),T=Mf):(N<0?p=d:N>0&&(a=s),k<0?v=_:k>0&&(f=h),T=wf),F.attr("cursor",Sf[M]),o());break;default:return}mf()},!0).on("mousemove.brush",e,!0).on("mouseup.brush",u,!0);lc(t.event.view)}Gt(),Ys(w),r.call(w),D.start()}}function a(){var t=this.__brush||{selection:null};return t.extent=f.apply(this,arguments),t.dim=n,t}var c,f=Kt,l=Qt,h=s(e,"start","brush","end"),p=6;return e.move=function(t,e){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){u.selection=1===t&&nn(s)?null:f(t),r.call(o),a.brush()}var o=this,u=o.__brush,a=i(o,arguments),c=u.selection,s=n.input("function"==typeof e?e.apply(this,arguments):e,u.extent),f=us(c,s);return c&&s?t:t(1)}):t.each(function(){var t=arguments,o=this.__brush,u=n.input("function"==typeof e?e.apply(this,t):e,o.extent),a=i(this,t).beforestart();Ys(this),o.selection=null==u||nn(u)?null:u,r.call(this),a.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){m(new yf(e,t,n.output(this.state.selection)),h.apply,h,[t,this.that,this.args])}},e.extent=function(t){return arguments.length?(f="function"==typeof t?t:gf([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):f},e.filter=function(t){return arguments.length?(l="function"==typeof t?t:gf(!!t),e):l},e.handleSize=function(t){return arguments.length?(p=+t,e):p},e.on=function(){var t=h.on.apply(h,arguments);return t===h?e:t},e}function rn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function on(){return new rn}function un(t){return t.source}function an(t){return t.target}function cn(t){return t.radius}function sn(t){return t.startAngle}function fn(t){return t.endAngle}function ln(){}function hn(t,n){var e=new ln;if(t instanceof ln)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function pn(){return{}}function dn(t,n,e){t[n]=e}function vn(){return hn()}function _n(t,n,e){t.set(n,e)}function gn(){}function yn(t,n){var e=new gn;if(t instanceof gn)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function mn(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function xn(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,s,f,l,h,p=t._root,d={data:r},v=t._x0,_=t._y0,g=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((s=n>=(o=(v+g)/2))?v=o:g=o,(f=e>=(u=(_+y)/2))?_=u:y=u,i=p,!(p=p[l=f<<1|s]))return i[l]=d,t;if(a=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===a&&e===c)return d.next=p,i?i[l]=d:t._root=d,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(s=n>=(o=(v+g)/2))?v=o:g=o,(f=e>=(u=(_+y)/2))?_=u:y=u}while((l=f<<1|s)==(h=(c>=u)<<1|a>=o));return i[h]=p,i[l]=d,t}function bn(t){return t[0]}function wn(t){return t[1]}function Mn(t,n,e){var r=new Tn(null==n?bn:n,null==e?wn:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Tn(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Nn(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}function kn(t){return t.x+t.vx}function Sn(t){return t.y+t.vy}function En(t){return t.index}function An(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function Cn(t){return t.x}function zn(t){return t.y}function Pn(t){return new Rn(t)}function Rn(t){if(!(n=gl.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],c=!!n[7],s=n[8]&&+n[8].slice(1),f=n[9]||"";"n"===f?(c=!0,f="g"):_l[f]||(f=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=s,this.type=f}function Ln(n){return yl=bl(n),t.format=yl.format,t.formatPrefix=yl.formatPrefix,yl}function qn(){this.reset()}function Un(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}function Dn(t){return t>1?0:t<-1?oh:Math.acos(t)}function On(t){return t>1?uh:t<-1?-uh:Math.asin(t)}function Fn(t){return(t=mh(t/2))*t}function In(){}function Yn(t,n){t&&Th.hasOwnProperty(t.type)&&Th[t.type](t,n)}function Bn(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function jn(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Bn(t[e],n,1);n.polygonEnd()}function Hn(){Eh.point=$n}function Xn(){Vn(kl,Sl)}function $n(t,n){Eh.point=Vn,kl=t,Sl=n,El=t*=fh,Al=dh(n=(n*=fh)/2+ah),Cl=mh(n)}function Vn(t,n){n=(n*=fh)/2+ah;var e=(t*=fh)-El,r=e>=0?1:-1,i=r*e,o=dh(n),u=mh(n),a=Cl*u,c=Al*o+a*dh(i),s=a*r*mh(i);kh.add(ph(s,c)),El=t,Al=o,Cl=u}function Wn(t){return[ph(t[1],t[0]),On(t[2])]}function Zn(t){var n=t[0],e=t[1],r=dh(e);return[r*dh(n),r*mh(n),mh(e)]}function Gn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Jn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Qn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Kn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function te(t){var n=bh(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function ne(t,n){Fl.push(Il=[zl=t,Rl=t]),n<Pl&&(Pl=n),n>Ll&&(Ll=n)}function ee(t,n){var e=Zn([t*fh,n*fh]);if(Ol){var r=Jn(Ol,e),i=Jn([r[1],-r[0],0],r);te(i),i=Wn(i);var o,u=t-ql,a=u>0?1:-1,c=i[0]*sh*a,s=lh(u)>180;s^(a*ql<c&&c<a*t)?(o=i[1]*sh)>Ll&&(Ll=o):s^(a*ql<(c=(c+360)%360-180)&&c<a*t)?(o=-i[1]*sh)<Pl&&(Pl=o):(n<Pl&&(Pl=n),n>Ll&&(Ll=n)),s?t<ql?ce(zl,t)>ce(zl,Rl)&&(Rl=t):ce(t,Rl)>ce(zl,Rl)&&(zl=t):Rl>=zl?(t<zl&&(zl=t),t>Rl&&(Rl=t)):t>ql?ce(zl,t)>ce(zl,Rl)&&(Rl=t):ce(t,Rl)>ce(zl,Rl)&&(zl=t)}else Fl.push(Il=[zl=t,Rl=t]);n<Pl&&(Pl=n),n>Ll&&(Ll=n),Ol=e,ql=t}function re(){Ch.point=ee}function ie(){Il[0]=zl,Il[1]=Rl,Ch.point=ne,Ol=null}function oe(t,n){if(Ol){var e=t-ql;Ah.add(lh(e)>180?e+(e>0?360:-360):e)}else Ul=t,Dl=n;Eh.point(t,n),ee(t,n)}function ue(){Eh.lineStart()}function ae(){oe(Ul,Dl),Eh.lineEnd(),lh(Ah)>ih&&(zl=-(Rl=180)),Il[0]=zl,Il[1]=Rl,Ol=null}function ce(t,n){return(n-=t)<0?n+360:n}function se(t,n){return t[0]-n[0]}function fe(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function le(t,n){t*=fh;var e=dh(n*=fh);he(e*dh(t),e*mh(t),mh(n))}function he(t,n,e){jl+=(t-jl)/++Yl,Hl+=(n-Hl)/Yl,Xl+=(e-Xl)/Yl}function pe(){zh.point=de}function de(t,n){t*=fh;var e=dh(n*=fh);th=e*dh(t),nh=e*mh(t),eh=mh(n),zh.point=ve,he(th,nh,eh)}function ve(t,n){t*=fh;var e=dh(n*=fh),r=e*dh(t),i=e*mh(t),o=mh(n),u=ph(bh((u=nh*o-eh*i)*u+(u=eh*r-th*o)*u+(u=th*i-nh*r)*u),th*r+nh*i+eh*o);Bl+=u,$l+=u*(th+(th=r)),Vl+=u*(nh+(nh=i)),Wl+=u*(eh+(eh=o)),he(th,nh,eh)}function _e(){zh.point=le}function ge(){zh.point=me}function ye(){xe(Ql,Kl),zh.point=le}function me(t,n){Ql=t,Kl=n,t*=fh,n*=fh,zh.point=xe;var e=dh(n);th=e*dh(t),nh=e*mh(t),eh=mh(n),he(th,nh,eh)}function xe(t,n){t*=fh;var e=dh(n*=fh),r=e*dh(t),i=e*mh(t),o=mh(n),u=nh*o-eh*i,a=eh*r-th*o,c=th*i-nh*r,s=bh(u*u+a*a+c*c),f=On(s),l=s&&-f/s;Zl+=l*u,Gl+=l*a,Jl+=l*c,Bl+=f,$l+=f*(th+(th=r)),Vl+=f*(nh+(nh=i)),Wl+=f*(eh+(eh=o)),he(th,nh,eh)}function be(t,n){return[t>oh?t-ch:t<-oh?t+ch:t,n]}function we(t,n,e){return(t%=ch)?n||e?Rh(Te(t),Ne(n,e)):Te(t):n||e?Ne(n,e):be}function Me(t){return function(n,e){return[(n+=t)>oh?n-ch:n<-oh?n+ch:n,e]}}function Te(t){var n=Me(t);return n.invert=Me(-t),n}function Ne(t,n){function e(t,n){var e=dh(n),a=dh(t)*e,c=mh(t)*e,s=mh(n),f=s*r+a*i;return[ph(c*o-f*u,a*r-s*i),On(f*o+c*u)]}var r=dh(t),i=mh(t),o=dh(n),u=mh(n);return e.invert=function(t,n){var e=dh(n),a=dh(t)*e,c=mh(t)*e,s=mh(n),f=s*o-c*u;return[ph(c*o+s*u,a*r+f*i),On(f*r-a*i)]},e}function ke(t,n,e,r,i,o){if(e){var u=dh(n),a=mh(n),c=r*e;null==i?(i=n+r*ch,o=n-c/2):(i=Se(u,i),o=Se(u,o),(r>0?i<o:i>o)&&(i+=r*ch));for(var s,f=i;r>0?f>o:f<o;f-=c)s=Wn([u,-a*dh(f),-a*mh(f)]),t.point(s[0],s[1])}}function Se(t,n){(n=Zn(n))[0]-=t,te(n);var e=Dn(-n[1]);return((-n[2]<0?-e:e)+ch-ih)%ch}function Ee(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Ae(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Ce(t){return t.length>1}function ze(t,n){return((t=t.x)[0]<0?t[1]-uh-ih:uh-t[1])-((n=n.x)[0]<0?n[1]-uh-ih:uh-n[1])}function Pe(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,s){var f=0,l=0;if(null==i||(f=u(i,a))!==(l=u(o,a))||c(i,o)<0^a>0)do{s.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+a+4)%4)!==l);else s.point(o[0],o[1])}function u(r,i){return lh(r[0]-t)<ih?i>0?0:3:lh(r[0]-e)<ih?i>0?2:1:lh(r[1]-n)<ih?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){function c(t,n){i(t,n)&&b.point(t,n)}function s(o,u){var a=i(o,u);if(l&&h.push([o,u]),m)p=o,d=u,v=a,m=!1,a&&(b.lineStart(),b.point(o,u));else if(a&&y)b.point(o,u);else{var c=[_=Math.max(ep,Math.min(np,_)),g=Math.max(ep,Math.min(np,g))],s=[o=Math.max(ep,Math.min(np,o)),u=Math.max(ep,Math.min(np,u))];tp(c,s,t,n,e,r)?(y||(b.lineStart(),b.point(c[0],c[1])),b.point(s[0],s[1]),a||b.lineEnd(),x=!1):a&&(b.lineStart(),b.point(o,u),x=!1)}_=o,g=u,y=a}var f,l,h,p,d,v,_,g,y,m,x,b=u,w=$h(),M={point:c,lineStart:function(){M.point=s,l&&l.push(h=[]),m=!0,y=!1,_=g=NaN},lineEnd:function(){f&&(s(p,d),v&&y&&w.rejoin(),f.push(w.result())),M.point=c,y&&b.lineEnd()},polygonStart:function(){b=w,f=[],l=[],x=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,u,a=l[e],c=1,s=a.length,f=a[0],h=f[0],p=f[1];c<s;++c)o=h,u=p,h=(f=a[c])[0],p=f[1],u<=r?p>r&&(h-o)*(r-u)>(p-u)*(t-o)&&++n:p<=r&&(h-o)*(r-u)<(p-u)*(t-o)&&--n;return n}(),e=x&&n,i=(f=Pa(f)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&Wh(f,a,n,o,u),u.polygonEnd()),b=u,f=l=h=null}};return M}}function Re(){ip.point=ip.lineEnd=In}function Le(t,n){Lh=t*=fh,qh=mh(n*=fh),Uh=dh(n),ip.point=qe}function qe(t,n){t*=fh;var e=mh(n*=fh),r=dh(n),i=lh(t-Lh),o=dh(i),u=r*mh(i),a=Uh*e-qh*r*o,c=qh*e+Uh*r*o;rp.add(ph(bh(u*u+a*a),c)),Lh=t,qh=e,Uh=r}function Ue(t,n){return!(!t||!fp.hasOwnProperty(t.type))&&fp[t.type](t,n)}function De(t,n){return 0===cp(t,n)}function Oe(t,n){var e=cp(t[0],t[1]);return cp(t[0],n)+cp(n,t[1])<=e+ih}function Fe(t,n){return!!Gh(t.map(Ie),Ye(n))}function Ie(t){return(t=t.map(Ye)).pop(),t}function Ye(t){return[t[0]*fh,t[1]*fh]}function Be(t,n,e){var r=Na(t,n-ih,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function je(t,n,e){var r=Na(t,n-ih,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function He(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return Na(vh(o/_)*_,i,_).map(h).concat(Na(vh(s/g)*g,c,g).map(p)).concat(Na(vh(r/d)*d,e,d).filter(function(t){return lh(t%_)>ih}).map(f)).concat(Na(vh(a/v)*v,u,v).filter(function(t){return lh(t%g)>ih}).map(l))}var e,r,i,o,u,a,c,s,f,l,h,p,d=10,v=d,_=90,g=360,y=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(c).slice(1),h(i).reverse().slice(1),p(s).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.extentMajor(n).extentMinor(n):t.extentMinor()},t.extentMajor=function(n){return arguments.length?(o=+n[0][0],i=+n[1][0],s=+n[0][1],c=+n[1][1],o>i&&(n=o,o=i,i=n),s>c&&(n=s,s=c,c=n),t.precision(y)):[[o,s],[i,c]]},t.extentMinor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),t.precision(y)):[[r,a],[e,u]]},t.step=function(n){return arguments.length?t.stepMajor(n).stepMinor(n):t.stepMinor()},t.stepMajor=function(n){return arguments.length?(_=+n[0],g=+n[1],t):[_,g]},t.stepMinor=function(n){return arguments.length?(d=+n[0],v=+n[1],t):[d,v]},t.precision=function(n){return arguments.length?(y=+n,f=Be(a,u,90),l=je(r,e,y),h=Be(s,c,90),p=je(o,i,y),t):y},t.extentMajor([[-180,-90+ih],[180,90-ih]]).extentMinor([[-180,-80-ih],[180,80+ih]])}function Xe(){dp.point=$e}function $e(t,n){dp.point=Ve,Dh=Fh=t,Oh=Ih=n}function Ve(t,n){pp.add(Ih*t-Fh*n),Fh=t,Ih=n}function We(){Ve(Dh,Oh)}function Ze(t,n){xp+=t,bp+=n,++wp}function Ge(){Ap.point=Je}function Je(t,n){Ap.point=Qe,Ze(jh=t,Hh=n)}function Qe(t,n){var e=t-jh,r=n-Hh,i=bh(e*e+r*r);Mp+=i*(jh+t)/2,Tp+=i*(Hh+n)/2,Np+=i,Ze(jh=t,Hh=n)}function Ke(){Ap.point=Ze}function tr(){Ap.point=er}function nr(){rr(Yh,Bh)}function er(t,n){Ap.point=rr,Ze(Yh=jh=t,Bh=Hh=n)}function rr(t,n){var e=t-jh,r=n-Hh,i=bh(e*e+r*r);Mp+=i*(jh+t)/2,Tp+=i*(Hh+n)/2,Np+=i,kp+=(i=Hh*t-jh*n)*(jh+t),Sp+=i*(Hh+n),Ep+=3*i,Ze(jh=t,Hh=n)}function ir(t){this._context=t}function or(t,n){Up.point=ur,zp=Rp=t,Pp=Lp=n}function ur(t,n){Rp-=t,Lp-=n,qp.add(bh(Rp*Rp+Lp*Lp)),Rp=t,Lp=n}function ar(){this._string=[]}function cr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function sr(t){return function(n){var e=new fr;for(var r in t)e[r]=t[r];return e.stream=n,e}}function fr(){}function lr(t,n,e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Nh(e,t.stream(mp));var u=mp.result(),a=Math.min(r/(u[1][0]-u[0][0]),i/(u[1][1]-u[0][1])),c=+n[0][0]+(r-a*(u[1][0]+u[0][0]))/2,s=+n[0][1]+(i-a*(u[1][1]+u[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([c,s])}function hr(t,n,e){return lr(t,[[0,0],n],e)}function pr(t){return dr(function(){return t})()}function dr(t){function n(t){return[(t=f(t[0]*fh,t[1]*fh))[0]*_+a,c-t[1]*_]}function e(t){return(t=f.invert((t[0]-a)/_,(c-t[1])/_))&&[t[0]*sh,t[1]*sh]}function r(t,n){return[(t=u(t,n))[0]*_+a,c-t[1]*_]}function i(){f=Rh(s=we(b,w,M),u);var t=u(m,x);return a=g-t[0]*_,c=y+t[1]*_,o()}function o(){return d=v=null,n}var u,a,c,s,f,l,h,p,d,v,_=150,g=480,y=250,m=0,x=0,b=0,w=0,M=0,T=null,N=Qh,k=null,S=lp,E=.5,A=Fp(r,E);return n.stream=function(t){return d&&v===t?d:d=Ip((n=s,sr({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}}))(N(A(S(v=t)))));var n},n.preclip=function(t){return arguments.length?(N=t,T=void 0,o()):N},n.postclip=function(t){return arguments.length?(S=t,k=l=h=p=null,o()):S},n.clipAngle=function(t){return arguments.length?(N=+t?Kh(T=t*fh):(T=null,Qh),o()):T*sh},n.clipExtent=function(t){return arguments.length?(S=null==t?(k=l=h=p=null,lp):Pe(k=+t[0][0],l=+t[0][1],h=+t[1][0],p=+t[1][1]),o()):null==k?null:[[k,l],[h,p]]},n.scale=function(t){return arguments.length?(_=+t,i()):_},n.translate=function(t){return arguments.length?(g=+t[0],y=+t[1],i()):[g,y]},n.center=function(t){return arguments.length?(m=t[0]%360*fh,x=t[1]%360*fh,i()):[m*sh,x*sh]},n.rotate=function(t){return arguments.length?(b=t[0]%360*fh,w=t[1]%360*fh,M=t.length>2?t[2]%360*fh:0,i()):[b*sh,w*sh,M*sh]},n.precision=function(t){return arguments.length?(A=Fp(r,E=t*t),o()):bh(E)},n.fitExtent=function(t,e){return lr(n,t,e)},n.fitSize=function(t,e){return hr(n,t,e)},function(){return u=t.apply(this,arguments),n.invert=u.invert&&e,i()}}function vr(t){var n=0,e=oh/3,r=dr(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*fh,e=t[1]*fh):[n*sh,e*sh]},i}function _r(t,n){function e(t,n){var e=bh(o-2*i*mh(n))/i;return[e*mh(t*=i),u-e*dh(t)]}var r=mh(t),i=(r+mh(n))/2;if(lh(i)<ih)return function(t){function n(t,n){return[t*e,mh(n)/e]}var e=dh(t);return n.invert=function(t,n){return[t/e,On(n*e)]},n}(t);var o=1+r*(2*i-r),u=bh(o)/i;return e.invert=function(t,n){var e=u-n;return[ph(t,lh(e))/i*xh(e),On((o-(t*t+e*e)*i*i)/(2*i))]},e}function gr(t){return function(n,e){var r=dh(n),i=dh(e),o=t(r*i);return[o*i*mh(n),o*mh(e)]}}function yr(t){return function(n,e){var r=bh(n*n+e*e),i=t(r),o=mh(i),u=dh(i);return[ph(n*o,r*u),On(r&&e*o/r)]}}function mr(t,n){return[t,gh(wh((uh+n)/2))]}function xr(t){function n(){var n=oh*a(),u=o(Xh(o.rotate()).invert([0,0]));return s(null==f?[[u[0]-n,u[1]-n],[u[0]+n,u[1]+n]]:t===mr?[[Math.max(u[0]-n,f),e],[Math.min(u[0]+n,r),i]]:[[f,Math.max(u[1]-n,e)],[r,Math.min(u[1]+n,i)]])}var e,r,i,o=pr(t),u=o.center,a=o.scale,c=o.translate,s=o.clipExtent,f=null;return o.scale=function(t){return arguments.length?(a(t),n()):a()},o.translate=function(t){return arguments.length?(c(t),n()):c()},o.center=function(t){return arguments.length?(u(t),n()):u()},o.clipExtent=function(t){return arguments.length?(null==t?f=e=r=i=null:(f=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),n()):null==f?null:[[f,e],[r,i]]},n()}function br(t){return wh((uh+t)/2)}function wr(t,n){function e(t,n){o>0?n<-uh+ih&&(n=-uh+ih):n>uh-ih&&(n=uh-ih);var e=o/yh(br(n),i);return[e*mh(i*t),o-e*dh(i*t)]}var r=dh(t),i=t===n?mh(t):gh(r/dh(n))/gh(br(n)/br(t)),o=r*yh(br(t),i)/i;return i?(e.invert=function(t,n){var e=o-n,r=xh(i)*bh(t*t+e*e);return[ph(t,lh(e))/i*xh(e),2*hh(yh(o/r,1/i))-uh]},e):mr}function Mr(t,n){return[t,n]}function Tr(t,n){function e(t,n){var e=o-n,r=i*t;return[e*mh(r),o-e*dh(r)]}var r=dh(t),i=t===n?mh(t):(r-dh(n))/(n-t),o=r/i+t;return lh(i)<ih?Mr:(e.invert=function(t,n){var e=o-n;return[ph(t,lh(e))/i*xh(e),o-xh(i)*bh(t*t+e*e)]},e)}function Nr(t,n){var e=dh(n),r=dh(t)*e;return[e*mh(t)/r,mh(n)/r]}function kr(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?lp:sr({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}function Sr(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}function Er(t,n){return[dh(n)*mh(t),mh(n)]}function Ar(t,n){var e=dh(n),r=1+dh(t)*e;return[e*mh(t)/r,mh(n)/r]}function Cr(t,n){return[gh(wh((uh+n)/2)),-t]}function zr(t,n){return t.parent===n.parent?1:2}function Pr(t,n){return t+n.x}function Rr(t,n){return Math.max(t,n.y)}function Lr(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function qr(t,n){var e,r,i,o,u,a=new Fr(t),c=+t.value&&(a.value=t.value),s=[a];for(null==n&&(n=Ur);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)s.push(r=e.children[o]=new Fr(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(Or)}function Ur(t){return t.children}function Dr(t){t.data=t.data.data}function Or(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Fr(t){this.data=t,this.depth=this.height=0,this.parent=null}function Ir(t,n){var e,r;if(jr(n,t))return[n];for(e=0;e<t.length;++e)if(Yr(n,t[e])&&jr(Xr(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Yr(Xr(t[e],t[r]),n)&&Yr(Xr(t[e],n),t[r])&&Yr(Xr(t[r],n),t[e])&&jr($r(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Yr(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Br(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function jr(t,n){for(var e=0;e<n.length;++e)if(!Br(t,n[e]))return!1;return!0}function Hr(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return Xr(t[0],t[1]);case 3:return $r(t[0],t[1],t[2])}var n}function Xr(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,s=u-r,f=a-i,l=Math.sqrt(c*c+s*s);return{x:(e+o+c/l*f)/2,y:(r+u+s/l*f)/2,r:(l+i+a)/2}}function $r(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,s=e.x,f=e.y,l=e.r,h=r-u,p=r-s,d=i-a,v=i-f,_=c-o,g=l-o,y=r*r+i*i-o*o,m=y-u*u-a*a+c*c,x=y-s*s-f*f+l*l,b=p*d-h*v,w=(d*x-v*m)/(2*b)-r,M=(v*_-d*g)/b,T=(p*m-h*x)/(2*b)-i,N=(h*g-p*_)/b,k=M*M+N*N-1,S=2*(o+w*M+T*N),E=w*w+T*T-o*o,A=-(k?(S+Math.sqrt(S*S-4*k*E))/(2*k):E/S);return{x:r+w+M*A,y:i+T+N*A,r:A}}function Vr(t,n,e){var r=t.x,i=t.y,o=n.r+e.r,u=t.r+e.r,a=n.x-r,c=n.y-i,s=a*a+c*c;if(s){var f=.5+((u*=u)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(u+s)-(u-=s)*u-o*o))/(2*s);e.x=r+f*a+l*c,e.y=i+f*c-l*a}else e.x=r+u,e.y=i}function Wr(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return i*i-1e-6>e*e+r*r}function Zr(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function Gr(t){this._=t,this.next=null,this.previous=null}function Jr(t){if(!(i=t.length))return 0;var n,e,r,i,o,u,a,c,s,f,l;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Vr(e,n,r=t[2]),n=new Gr(n),e=new Gr(e),r=new Gr(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){Vr(n._,e._,r=t[a]),r=new Gr(r),c=e.next,s=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(Wr(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}f+=c._.r,c=c.next}else{if(Wr(s._,r._)){(n=s).next=e,e.previous=n,--a;continue t}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=Zr(n);(r=r.next)!==e;)(u=Zr(r))<o&&(n=r,o=u);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=$p(n),a=0;a<i;++a)n=t[a],n.x-=r.x,n.y-=r.y;return r.r}function Qr(t){if("function"!=typeof t)throw new Error;return t}function Kr(){return 0}function ti(t){return Math.sqrt(t.value)}function ni(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function ei(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=Jr(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function ri(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function ii(t){return t.id}function oi(t){return t.parentId}function ui(t,n){return t.parent===n.parent?1:2}function ai(t){var n=t.children;return n?n[0]:t.t}function ci(t){var n=t.children;return n?n[n.length-1]:t.t}function si(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function fi(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function li(t,n,e,r,i,o){for(var u,a,c,s,f,l,h,p,d,v,_,g=[],y=n.children,m=0,x=0,b=y.length,w=n.value;m<b;){c=i-e,s=o-r;do{f=y[x++].value}while(!f&&x<b);for(l=h=f,_=f*f*(v=Math.max(s/c,c/s)/(w*t)),d=Math.max(h/_,_/l);x<b;++x){if(f+=a=y[x].value,a<l&&(l=a),a>h&&(h=a),_=f*f*v,(p=Math.max(h/_,_/l))>d){f-=a;break}d=p}g.push(u={value:f,dice:c<s,children:y.slice(m,x)}),u.dice?Zp(u,e,r,i,w?r+=s*f/w:o):Kp(u,e,r,w?e+=c*f/w:i,o),w-=f,m=x}return g}function hi(t,n){return t[0]-n[0]||t[1]-n[1]}function pi(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&rd(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function di(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function vi(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=_i(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||od)}}(t)}catch(n){if(t._tasks[t._ended+t._active-1])gi(t,n);else if(!t._data)throw n}}function _i(t,n){return function(e,r){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?gi(t,e):(t._data[n]=r,t._waiting?vi(t):yi(t))))}}function gi(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--r>=0;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,yi(t)}function yi(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function mi(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new di(t)}function xi(t){function n(n){var o=n+"",u=e.get(o);if(!u){if(i!==Nd)return i;e.set(o,u=r.push(n))}return t[(u-1)%t.length]}var e=hn(),r=[],i=Nd;return t=null==t?[]:Td.call(t),n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=hn();for(var i,o,u=-1,a=t.length;++u<a;)e.has(o=(i=t[u])+"")||e.set(o,r.push(i));return n},n.range=function(e){return arguments.length?(t=Td.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return xi().domain(r).range(t).unknown(i)},n}function bi(){function t(){var t=i().length,r=u[1]<u[0],l=u[r-0],h=u[1-r];n=(h-l)/Math.max(1,t-c+2*s),a&&(n=Math.floor(n)),l+=(h-l-n*(t-c))*f,e=n*(1-c),a&&(l=Math.round(l),e=Math.round(e));var p=Na(t).map(function(t){return l+n*t});return o(r?p.reverse():p)}var n,e,r=xi().unknown(void 0),i=r.domain,o=r.range,u=[0,1],a=!1,c=0,s=0,f=.5;return delete r.unknown,r.domain=function(n){return arguments.length?(i(n),t()):i()},r.range=function(n){return arguments.length?(u=[+n[0],+n[1]],t()):u.slice()},r.rangeRound=function(n){return u=[+n[0],+n[1]],a=!0,t()},r.bandwidth=function(){return e},r.step=function(){return n},r.round=function(n){return arguments.length?(a=!!n,t()):a},r.padding=function(n){return arguments.length?(c=s=Math.max(0,Math.min(1,n)),t()):c},r.paddingInner=function(n){return arguments.length?(c=Math.max(0,Math.min(1,n)),t()):c},r.paddingOuter=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),t()):s},r.align=function(n){return arguments.length?(f=Math.max(0,Math.min(1,n)),t()):f},r.copy=function(){return bi().domain(i()).range(u).round(a).paddingInner(c).paddingOuter(s).align(f)},t()}function wi(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:kd(n)}function Mi(t,n,e,r){var i=t[0],o=t[1],u=n[0],a=n[1];return o<i?(i=e(o,i),u=r(a,u)):(i=e(i,o),u=r(u,a)),function(t){return u(i(t))}}function Ti(t,n,e,r){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)o[a]=e(t[a],t[a+1]),u[a]=r(n[a],n[a+1]);return function(n){var e=da(t,n,1,i)-1;return u[e](o[e](n))}}function Ni(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ki(t,n){function e(){return i=Math.min(a.length,c.length)>2?Ti:Mi,o=u=null,r}function r(n){return(o||(o=i(a,c,f?(e=t,function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}):t,s)))(+n);var e}var i,o,u,a=Ed,c=Ed,s=us,f=!1;return r.invert=function(t){return(u||(u=i(c,a,wi,f?(e=n,function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}):n)))(+t);var e},r.domain=function(t){return arguments.length?(a=Md.call(t,Sd),e()):a.slice()},r.range=function(t){return arguments.length?(c=Td.call(t),e()):c.slice()},r.rangeRound=function(t){return c=Td.call(t),s=as,e()},r.clamp=function(t){return arguments.length?(f=!!t,e()):f},r.interpolate=function(t){return arguments.length?(s=t,e()):s},e()}function Si(t){var n=t.domain;return t.ticks=function(t){var e=n();return Aa(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return Ad(n(),t,e)},t.nice=function(r){null==r&&(r=10);var i,o=n(),u=0,a=o.length-1,c=o[u],s=o[a];return s<c&&(i=c,c=s,s=i,i=u,u=a,a=i),(i=e(c,s,r))>0?i=e(c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i,r):i<0&&(i=e(c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i,r)),i>0?(o[u]=Math.floor(c/i)*i,o[a]=Math.ceil(s/i)*i,n(o)):i<0&&(o[u]=Math.ceil(c*i)/i,o[a]=Math.floor(s*i)/i,n(o)),t},t}function Ei(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:kd(n)}function Ai(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function Ci(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zi(t){return 10===t?Ci:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Pi(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Ri(t){return function(n){return-t(-n)}}function Li(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function qi(){var t=1,n=ki(function(n,e){return(e=Li(e,t)-(n=Li(n,t)))?function(r){return(Li(r,t)-n)/e}:kd(e)},function(n,e){return e=Li(e,t)-(n=Li(n,t)),function(r){return Li(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return Ni(n,qi().exponent(t))},Si(n)}function Ui(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(new Date(+e))}while(n(e,o),t(e),e<r);return u},i.filter=function(e){return Ui(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return zd.setTime(+n),Pd.setTime(+r),t(zd),t(Pd),Math.floor(e(zd,Pd))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}function Di(t){return Ui(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qd)/Ud})}function Oi(t){return Ui(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Ud})}function Fi(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ii(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yi(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Bi(t){function n(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Lv[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function e(t,n){return function(e){var i=Yi(1900);if(r(i,t,e+="",0)!=e.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var o="Z"in i?Ii(Yi(i.y)).getUTCDay():n(Yi(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Ii(i)):n(i)}}function r(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=T[i in Lv?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,u=t.time,a=t.periods,c=t.days,s=t.shortDays,f=t.months,l=t.shortMonths,h=Xi(a),p=$i(a),d=Xi(c),v=$i(c),_=Xi(s),g=$i(s),y=Xi(f),m=$i(f),x=Xi(l),b=$i(l),w={a:function(t){return s[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:ao,e:ao,H:co,I:so,j:fo,L:lo,m:ho,M:po,p:function(t){return a[+(t.getHours()>=12)]},S:vo,U:_o,w:go,W:yo,x:null,X:null,y:mo,Y:xo,Z:bo,"%":Uo},M={a:function(t){return s[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:wo,e:wo,H:Mo,I:To,j:No,L:ko,m:So,M:Eo,p:function(t){return a[+(t.getUTCHours()>=12)]},S:Ao,U:Co,w:zo,W:Po,x:null,X:null,y:Ro,Y:Lo,Z:qo,"%":Uo},T={a:function(t,n,e){var r=_.exec(n.slice(e));return r?(t.w=g[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=v[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=x.exec(n.slice(e));return r?(t.m=b[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return r(t,i,n,e)},d:to,e:to,H:eo,I:eo,j:no,L:oo,m:Ki,M:ro,p:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.p=p[r[0].toLowerCase()],e+r[0].length):-1},S:io,U:Wi,w:Vi,W:Zi,x:function(t,n,e){return r(t,o,n,e)},X:function(t,n,e){return r(t,u,n,e)},y:Ji,Y:Gi,Z:Qi,"%":uo};return w.x=n(o,w),w.X=n(u,w),w.c=n(i,w),M.x=n(o,M),M.X=n(u,M),M.c=n(i,M),{format:function(t){var e=n(t+="",w);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",Fi);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,Ii);return n.toString=function(){return t},n}}}function ji(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Hi(t){return t.replace(Dv,"\\$&")}function Xi(t){return new RegExp("^(?:"+t.map(Hi).join("|")+")","i")}function $i(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Vi(t,n,e){var r=qv.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Wi(t,n,e){var r=qv.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function Zi(t,n,e){var r=qv.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function Gi(t,n,e){var r=qv.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ji(t,n,e){var r=qv.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Qi(t,n,e){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Ki(t,n,e){var r=qv.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function to(t,n,e){var r=qv.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function no(t,n,e){var r=qv.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function eo(t,n,e){var r=qv.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ro(t,n,e){var r=qv.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function io(t,n,e){var r=qv.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function oo(t,n,e){var r=qv.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function uo(t,n,e){var r=Uv.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ao(t,n){return ji(t.getDate(),n,2)}function co(t,n){return ji(t.getHours(),n,2)}function so(t,n){return ji(t.getHours()%12||12,n,2)}function fo(t,n){return ji(1+jd.count(av(t),t),n,3)}function lo(t,n){return ji(t.getMilliseconds(),n,3)}function ho(t,n){return ji(t.getMonth()+1,n,2)}function po(t,n){return ji(t.getMinutes(),n,2)}function vo(t,n){return ji(t.getSeconds(),n,2)}function _o(t,n){return ji(Xd.count(av(t),t),n,2)}function go(t){return t.getDay()}function yo(t,n){return ji($d.count(av(t),t),n,2)}function mo(t,n){return ji(t.getFullYear()%100,n,2)}function xo(t,n){return ji(t.getFullYear()%1e4,n,4)}function bo(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ji(n/60|0,"0",2)+ji(n%60,"0",2)}function wo(t,n){return ji(t.getUTCDate(),n,2)}function Mo(t,n){return ji(t.getUTCHours(),n,2)}function To(t,n){return ji(t.getUTCHours()%12||12,n,2)}function No(t,n){return ji(1+pv.count(zv(t),t),n,3)}function ko(t,n){return ji(t.getUTCMilliseconds(),n,3)}function So(t,n){return ji(t.getUTCMonth()+1,n,2)}function Eo(t,n){return ji(t.getUTCMinutes(),n,2)}function Ao(t,n){return ji(t.getUTCSeconds(),n,2)}function Co(t,n){return ji(vv.count(zv(t),t),n,2)}function zo(t){return t.getUTCDay()}function Po(t,n){return ji(_v.count(zv(t),t),n,2)}function Ro(t,n){return ji(t.getUTCFullYear()%100,n,2)}function Lo(t,n){return ji(t.getUTCFullYear()%1e4,n,4)}function qo(){return"+0000"}function Uo(){return"%"}function Do(n){return Pv=Bi(n),t.timeFormat=Pv.format,t.timeParse=Pv.parse,t.utcFormat=Pv.utcFormat,t.utcParse=Pv.utcParse,Pv}function Oo(t){return new Date(t)}function Fo(t){return t instanceof Date?+t:+new Date(+t)}function Io(t,n,e,i,o,u,a,c,s){function f(r){return(a(r)<r?v:u(r)<r?_:o(r)<r?g:i(r)<r?y:n(r)<r?e(r)<r?m:x:t(r)<r?b:w)(r)}function l(n,e,i,o){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(i-e)/n,a=ha(function(t){return t[2]}).right(M,u);a===M.length?(o=r(e/$v,i/$v,n),n=t):a?(o=(a=M[u/M[a-1][2]<M[a][2]/u?a-1:a])[1],n=a[0]):(o=r(e,i,n),n=c)}return null==o?n:n.every(o)}var h=ki(wi,ns),p=h.invert,d=h.domain,v=s(".%L"),_=s(":%S"),g=s("%I:%M"),y=s("%I %p"),m=s("%a %d"),x=s("%b %d"),b=s("%B"),w=s("%Y"),M=[[a,1,Iv],[a,5,5*Iv],[a,15,15*Iv],[a,30,30*Iv],[u,1,Yv],[u,5,5*Yv],[u,15,15*Yv],[u,30,30*Yv],[o,1,Bv],[o,3,3*Bv],[o,6,6*Bv],[o,12,12*Bv],[i,1,jv],[i,2,2*jv],[e,1,Hv],[n,1,Xv],[n,3,3*Xv],[t,1,$v]];return h.invert=function(t){return new Date(p(t))},h.domain=function(t){return arguments.length?d(Md.call(t,Fo)):d().map(Oo)},h.ticks=function(t,n){var e,r=d(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=(e=l(t,i,o,n))?e.range(i,o+1):[],u?e.reverse():e},h.tickFormat=function(t,n){return null==n?f:s(n)},h.nice=function(t,n){var e=d();return(t=l(t,e[0],e[e.length-1],n))?d(Cd(e,t)):h},h.copy=function(){return Ni(h,Io(t,n,e,i,o,u,a,c,s))},h}function Yo(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function Bo(t){return t>=1?__:t<=-1?-__:Math.asin(t)}function jo(t){return t.innerRadius}function Ho(t){return t.outerRadius}function Xo(t){return t.startAngle}function $o(t){return t.endAngle}function Vo(t){return t&&t.padAngle}function Wo(t,n,e,r,i,o,u){var a=t-e,c=n-r,s=(u?o:-o)/p_(a*a+c*c),f=s*c,l=-s*a,h=t+f,p=n+l,d=e+f,v=r+l,_=(h+d)/2,g=(p+v)/2,y=d-h,m=v-p,x=y*y+m*m,b=i-o,w=h*v-d*p,M=(m<0?-1:1)*p_(f_(0,b*b*x-w*w)),T=(w*m-y*M)/x,N=(-w*y-m*M)/x,k=(w*m+y*M)/x,S=(-w*y+m*M)/x,E=T-_,A=N-g,C=k-_,z=S-g;return E*E+A*A>C*C+z*z&&(T=k,N=S),{cx:T,cy:N,x01:-f,y01:-l,x11:T*(i/b-1),y11:N*(i/b-1)}}function Zo(t){this._context=t}function Go(t){return t[0]}function Jo(t){return t[1]}function Qo(t){this._curve=t}function Ko(t){function n(n){return new Qo(t(n))}return n._curve=t,n}function tu(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(Ko(t)):n()._curve},t}function nu(t){return t.source}function eu(t){return t.target}function ru(t){function n(){var n,a=S_.call(arguments),c=e.apply(this,a),s=r.apply(this,a);if(u||(u=n=on()),t(u,+i.apply(this,(a[0]=c,a)),+o.apply(this,a),+i.apply(this,(a[0]=s,a)),+o.apply(this,a)),n)return u=null,n+""||null}var e=nu,r=eu,i=Go,o=Jo,u=null;return n.source=function(t){return arguments.length?(e=t,n):e},n.target=function(t){return arguments.length?(r=t,n):r},n.x=function(t){return arguments.length?(i="function"==typeof t?t:u_(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:u_(+t),n):o},n.context=function(t){return arguments.length?(u=null==t?null:t,n):u},n}function iu(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function ou(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function uu(t,n,e,r,i){var o=k_(n,e),u=k_(n,e=(e+i)/2),a=k_(r,e),c=k_(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function au(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function cu(t){this._context=t}function su(t){this._context=t}function fu(t){this._context=t}function lu(t,n){this._basis=new cu(t),this._beta=n}function hu(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function pu(t,n){this._context=t,this._k=(1-n)/6}function du(t,n){this._context=t,this._k=(1-n)/6}function vu(t,n){this._context=t,this._k=(1-n)/6}function _u(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>d_){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>d_){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*s+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function gu(t,n){this._context=t,this._alpha=n}function yu(t,n){this._context=t,this._alpha=n}function mu(t,n){this._context=t,this._alpha=n}function xu(t){this._context=t}function bu(t){return t<0?-1:1}function wu(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(bu(o)+bu(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function Mu(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Tu(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Nu(t){this._context=t}function ku(t){this._context=new Su(t)}function Su(t){this._context=t}function Eu(t){this._context=t}function Au(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Cu(t,n){this._context=t,this._t=n}function zu(t,n){return t[n]}function Pu(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function Ru(t){return t[0]}function Lu(t){return t[1]}function qu(){this._=null}function Uu(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Du(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Ou(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Fu(t){for(;t.L;)t=t.L;return t}function Iu(t,n,e,r){var i=[null,null],o=ag.push(i)-1;return i.left=t,i.right=n,e&&Bu(i,t,n,e),r&&Bu(i,n,t,r),og[t.index].halfedges.push(o),og[n.index].halfedges.push(o),i}function Yu(t,n,e){var r=[n,e];return r.left=t,r}function Bu(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function ju(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],s=u[1],f=0,l=1,h=a[0]-c,p=a[1]-s;if(o=n-c,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>f&&(f=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<l&&(l=o)}if(o=e-s,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<l&&(l=o)}else if(p>0){if(o>l)return;o>f&&(f=o)}if(o=i-s,p||!(o<0)){if(o/=p,p<0){if(o>l)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<l&&(l=o)}return!(f>0||l<1)||(f>0&&(t[0]=[c+f*h,s+f*p]),l<1&&(t[1]=[c+l*h,s+l*p]),!0)}}}}}function Hu(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],s=t.left,f=t.right,l=s[0],h=s[1],p=f[0],d=f[1],v=(l+p)/2,_=(h+d)/2;if(d===h){if(v<n||v>=r)return;if(l>p){if(c){if(c[1]>=i)return}else c=[v,e];o=[v,i]}else{if(c){if(c[1]<e)return}else c=[v,i];o=[v,e]}}else if(u=(l-p)/(d-h),a=_-u*v,u<-1||u>1)if(l>p){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<d){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}function Xu(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function $u(t,n){return n[+(n.left!==t.site)]}function Vu(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],c=r[0]-u,s=r[1]-a,f=o[0]-u,l=o[1]-a,h=2*(c*l-s*f);if(!(h>=-lg)){var p=c*c+s*s,d=f*f+l*l,v=(l*p-s*d)/h,_=(c*d-f*p)/h,g=cg.pop()||new function(){Uu(this),this.x=this.y=this.arc=this.site=this.cy=null};g.arc=t,g.site=i,g.x=v+u,g.y=(g.cy=_+a)+Math.sqrt(v*v+_*_),t.circle=g;for(var y=null,m=ug._;m;)if(g.y<m.y||g.y===m.y&&g.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}ug.insert(y,g),y||(rg=g)}}}}function Wu(t){var n=t.circle;n&&(n.P||(rg=n.N),ug.remove(n),cg.push(n),Uu(n),t.circle=null)}function Zu(t){var n=sg.pop()||new function(){Uu(this),this.edge=this.site=this.circle=null};return n.site=t,n}function Gu(t){Wu(t),ig.remove(t),sg.push(t),Uu(t)}function Ju(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];Gu(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<fg&&Math.abs(r-c.circle.cy)<fg;)o=c.P,a.unshift(c),Gu(c),c=o;a.unshift(c),Wu(c);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<fg&&Math.abs(r-s.circle.cy)<fg;)u=s.N,a.push(s),Gu(s),s=u;a.push(s),Wu(s);var f,l=a.length;for(f=1;f<l;++f)s=a[f],c=a[f-1],Bu(s.edge,c.site,s.site,i);c=a[0],(s=a[l-1]).edge=Iu(c.site,s.site,null,i),Vu(c),Vu(s)}function Qu(t){for(var n,e,r,i,o=t[0],u=t[1],a=ig._;a;)if((r=Ku(a,u)-o)>fg)a=a.L;else{if(!((i=o-ta(a,u))>fg)){r>-fg?(n=a.P,e=a):i>-fg?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}og[(c=t).index]={site:c,halfedges:[]};var c,s=Zu(t);if(ig.insert(n,s),n||e){if(n===e)return Wu(n),e=Zu(n.site),ig.insert(s,e),s.edge=e.edge=Iu(n.site,s.site),Vu(n),void Vu(e);if(e){Wu(n),Wu(e);var f=n.site,l=f[0],h=f[1],p=t[0]-l,d=t[1]-h,v=e.site,_=v[0]-l,g=v[1]-h,y=2*(p*g-d*_),m=p*p+d*d,x=_*_+g*g,b=[(g*m-d*x)/y+l,(p*x-_*m)/y+h];Bu(e.edge,f,v,b),s.edge=Iu(f,t,null,b),e.edge=Iu(t,v,null,b),Vu(n),Vu(e)}else s.edge=Iu(n.site,s.site)}}function Ku(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],c=e[1],s=c-n;if(!s)return a;var f=a-r,l=1/o-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+i-o/2)))/l+r:(r+a)/2}function ta(t,n){var e=t.N;if(e)return Ku(e,n);var r=t.site;return r[1]===n?r[0]:1/0}function na(t,n){return n[1]-t[1]||n[0]-t[0]}function ea(t,n){var e,r,i,o=t.sort(na).pop();for(ag=[],og=new Array(t.length),ig=new qu,ug=new qu;;)if(i=rg,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(Qu(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Ju(i.arc)}if(function(){for(var t,n,e,r,i=0,o=og.length;i<o;++i)if((t=og[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=Xu(t,ag[n[e]]);for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}(),n){var u=+n[0][0],a=+n[0][1],c=+n[1][0],s=+n[1][1];(function(t,n,e,r){for(var i,o=ag.length;o--;)Hu(i=ag[o],t,n,e,r)&&ju(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>fg||Math.abs(i[0][1]-i[1][1])>fg)||delete ag[o]})(u,a,c,s),function(t,n,e,r){var i,o,u,a,c,s,f,l,h,p,d,v,_=og.length,g=!0;for(i=0;i<_;++i)if(o=og[i]){for(u=o.site,a=(c=o.halfedges).length;a--;)ag[c[a]]||c.splice(a,1);for(a=0,s=c.length;a<s;)d=(y=o,m=ag[c[a]],p=m[+(m.left===y.site)])[0],v=p[1],l=(f=$u(o,ag[c[++a%s]]))[0],h=f[1],(Math.abs(d-l)>fg||Math.abs(v-h)>fg)&&(c.splice(a,0,ag.push(Yu(u,p,Math.abs(d-t)<fg&&r-v>fg?[t,Math.abs(l-t)<fg?h:r]:Math.abs(v-r)<fg&&e-d>fg?[Math.abs(h-r)<fg?l:e,r]:Math.abs(d-e)<fg&&v-n>fg?[e,Math.abs(l-e)<fg?h:n]:Math.abs(v-n)<fg&&d-t>fg?[Math.abs(h-n)<fg?l:t,n]:null))-1),++s);s&&(g=!1)}var y,m;if(g){var x,b,w,M=1/0;for(i=0,g=null;i<_;++i)(o=og[i])&&(w=(x=(u=o.site)[0]-t)*x+(b=u[1]-n)*b)<M&&(M=w,g=o);if(g){var T=[t,n],N=[t,r],k=[e,r],S=[e,n];g.halfedges.push(ag.push(Yu(u=g.site,T,N))-1,ag.push(Yu(u,N,k))-1,ag.push(Yu(u,k,S))-1,ag.push(Yu(u,S,T))-1)}}for(i=0;i<_;++i)(o=og[i])&&(o.halfedges.length||delete og[i])}(u,a,c,s)}this.edges=ag,this.cells=og,ig=ug=ag=og=null}function ra(t,n,e){this.k=t,this.x=n,this.y=e}function ia(t){return t.__zoom||pg}function oa(){t.event.stopImmediatePropagation()}function ua(){return!t.event.button}function aa(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function ca(){return this.__zoom||pg}function sa(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function fa(){return"ontouchstart"in this}var la=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},ha=function(t){return 1===t.length&&(n=t,t=function(t,e){return la(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}};var n},pa=ha(la),da=pa.right,va=pa.left,_a=function(t){return null===t?NaN:+t},ga=function(t,n){var e,r,i=t.length,o=0,u=-1,a=0,c=0;if(null==n)for(;++u<i;)isNaN(e=_a(t[u]))||(c+=(r=e-a)*(e-(a+=r/++o)));else for(;++u<i;)isNaN(e=_a(n(t[u],u,t)))||(c+=(r=e-a)*(e-(a+=r/++o)));if(o>1)return c/(o-1)},ya=function(t,n){var e=ga(t,n);return e?Math.sqrt(e):e},ma=function(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},xa=Array.prototype,ba=xa.slice,wa=xa.map,Ma=function(t){return function(){return t}},Ta=function(t){return t},Na=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o},ka=Math.sqrt(50),Sa=Math.sqrt(10),Ea=Math.sqrt(2),Aa=function(t,n,r){var i,o,u,a,c=-1;if(r=+r,(t=+t)===(n=+n)&&r>0)return[t];if((i=n<t)&&(o=t,t=n,n=o),0===(a=e(t,n,r))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),u=new Array(o=Math.ceil(n-t+1));++c<o;)u[c]=(t+c)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),u=new Array(o=Math.ceil(t-n+1));++c<o;)u[c]=(t-c)/a;return i&&u.reverse(),u},Ca=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},za=function(t,n,e){if(null==e&&(e=_a),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+e(t[o],o,t);return u+(+e(t[o+1],o+1,t)-u)*(i-o)}},Pa=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e},Ra=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r},La=function(t){if(!(o=t.length))return[];for(var n=-1,e=Ra(t,i),r=new Array(e);++n<e;)for(var o,u=-1,a=r[n]=new Array(o);++u<o;)a[u]=t[u][n];return r},qa=Array.prototype.slice,Ua=function(t){return t},Da=1,Oa=2,Fa=3,Ia=4,Ya=1e-6,Ba={value:function(){}};f.prototype=s.prototype={constructor:f,on:function(t,n){var e,r,i,o=this._,u=(r=t+"",i=o,r.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,c=u.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<c;)if(e=(t=u[a]).type)o[e]=h(o[e],t.name,n);else if(null==n)for(e in o)o[e]=h(o[e],t.name,null);return this}for(;++a<c;)if((e=(t=u[a]).type)&&(e=l(o[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new f(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var ja="http://www.w3.org/1999/xhtml",Ha={svg:"http://www.w3.org/2000/svg",xhtml:ja,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xa=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Ha.hasOwnProperty(n)?{space:Ha[n],local:t}:t},$a=function(t){var n=Xa(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ja&&n.documentElement.namespaceURI===ja?n.createElement(t):n.createElementNS(e,t)}})(n)},Va=0;d.prototype=p.prototype={constructor:d,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Wa=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Za=document.documentElement;if(!Za.matches){var Ga=Za.webkitMatchesSelector||Za.msMatchesSelector||Za.mozMatchesSelector||Za.oMatchesSelector;Wa=function(t){return function(){return Ga.call(this,t)}}}}var Ja=Wa,Qa={};t.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Qa={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ka=function(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e},tc=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},nc=function(t){var n=Ka();return n.changedTouches&&(n=n.changedTouches[0]),tc(t,n)},ec=function(t){return null==t?x:function(){return this.querySelector(t)}},rc=function(t){return null==t?b:function(){return this.querySelectorAll(t)}},ic=function(t){return new Array(t.length)};w.prototype={constructor:w,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var oc="$",uc=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};A.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ac=[null];F.prototype=I.prototype={constructor:F,select:function(t){"function"!=typeof t&&(t=ec(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new F(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=rc(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new F(r,i)},filter:function(t){"function"!=typeof t&&(t=Ja(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new F(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),f=-1,this.each(function(t){d[++f]=t}),d;var e=n?T:M,r=this._parents,i=this._groups;"function"!=typeof t&&(o=t,t=function(){return o});for(var o,u=i.length,a=new Array(u),c=new Array(u),s=new Array(u),f=0;f<u;++f){var l=r[f],h=i[f],p=h.length,d=t.call(l,l&&l.__data__,f,r),v=d.length,_=c[f]=new Array(v),g=a[f]=new Array(v);e(l,h,_,g,s[f]=new Array(p),d,n);for(var y,m,x=0,b=0;x<v;++x)if(y=_[x]){for(x>=b&&(b=x+1);!(m=g[b])&&++b<v;);y._next=m||null}}return(a=new F(a,r))._enter=c,a._exit=s,a},enter:function(){return new F(this._enter||this._groups.map(ic),this._parents)},exit:function(){return new F(this._exit||this._groups.map(ic),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new F(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){t||(t=N);for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i){for(var o,u=n[i],a=u.length,c=r[i]=new Array(a),s=0;s<a;++s)(o=u[s])&&(c[s]=o);c.sort(function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e})}return new F(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=Xa(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):k(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=S(t+"");if(arguments.length<2){for(var r=E(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?C:z)(this,t)}}:n?function(t){return function(){C(this,t)}}:function(t){return function(){z(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?P:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?R:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(L)},lower:function(){return this.each(q)},append:function(t){var n="function"==typeof t?t:$a(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:$a(t),r=null==n?U:"function"==typeof n?n:ec(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(D)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o,u=(o=t+"",o.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})),a=u.length;if(!(arguments.length<2)){for(c=n?y:g,null==e&&(e=!1),r=0;r<a;++r)this.each(c(u[r],n,e));return this}var c=this.node().__on;if(c)for(var s,f=0,l=c.length;f<l;++f)for(r=0,s=c[f];r<a;++r)if((i=u[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return O(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return O(this,t,n)}})(t,n))}};var cc=function(t){return"string"==typeof t?new F([[document.querySelector(t)]],[document.documentElement]):new F([[t]],ac)},sc=function(t,n,e){arguments.length<3&&(e=n,n=Ka().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return tc(t,r);return null},fc=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},lc=function(t){var n=t.document.documentElement,e=cc(t).on("dragstart.drag",fc,!0);"onselectstart"in n?e.on("selectstart.drag",fc,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")},hc=function(t){return function(){return t}};j.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var pc=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t},dc="\\s*([+-]?\\d+)\\s*",vc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gc=/^#([0-9a-f]{3})$/,yc=/^#([0-9a-f]{6})$/,mc=new RegExp("^rgb\\("+[dc,dc,dc]+"\\)$"),xc=new RegExp("^rgb\\("+[_c,_c,_c]+"\\)$"),bc=new RegExp("^rgba\\("+[dc,dc,dc,vc]+"\\)$"),wc=new RegExp("^rgba\\("+[_c,_c,_c,vc]+"\\)$"),Mc=new RegExp("^hsl\\("+[vc,_c,_c]+"\\)$"),Tc=new RegExp("^hsla\\("+[vc,_c,_c,vc]+"\\)$"),Nc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pc(Z,G,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),pc(nt,tt,W(Z,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),pc(it,rt,W(Z,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new it(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new it(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new nt(ot(t>=240?t-240:t+120,i,r),ot(t,i,r),ot(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var kc=Math.PI/180,Sc=180/Math.PI,Ec=.95047,Ac=1,Cc=1.08883,zc=4/29,Pc=6/29,Rc=3*Pc*Pc,Lc=Pc*Pc*Pc;pc(ct,at,W(Z,{brighter:function(t){return new ct(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ct(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=Ac*ft(t),new nt(lt(3.2404542*(n=Ec*ft(n))-1.5371385*t-.4985314*(e=Cc*ft(e))),lt(-.969266*n+1.8760108*t+.041556*e),lt(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),pc(dt,pt,W(Z,{brighter:function(t){return new dt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new dt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ut(this).rgb()}}));var qc=-.29227,Uc=-.90649,Dc=1.97294,Oc=Dc*Uc,Fc=1.78277*Dc,Ic=1.78277*qc- -.14861*Uc;pc(_t,vt,W(Z,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new _t(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new _t(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*kc,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new nt(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(qc*r+Uc*i)),255*(n+e*(Dc*r)),this.opacity)}}));var Yc,Bc,jc,Hc,Xc,$c,Vc=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return gt((e-r/n)*n,u,i,o,a)}},Wc=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return gt((e-r/n)*n,i,o,u,a)}},Zc=function(t){return function(){return t}},Gc=function t(n){function e(t,n){var e=r((t=tt(t)).r,(n=tt(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),u=bt(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}var r=xt(n);return e.gamma=t,e}(1),Jc=wt(Vc),Qc=wt(Wc),Kc=function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),u=new Array(r);for(e=0;e<i;++e)o[e]=us(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}},ts=function(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}},ns=function(t,n){return n-=t=+t,function(e){return t+n*e}},es=function(t,n){var e,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?r[e]=us(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},rs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,is=new RegExp(rs.source,"g"),os=function(t,n){var e,r,i,o=rs.lastIndex=is.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=rs.exec(t))&&(r=is.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:ns(e,r)})),o=is.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?(f=c[0].x,function(t){return f(t)+""}):(s=n,function(){return s}):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")});var s,f},us=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Zc(n):("number"===r?ns:"string"===r?(e=G(n))?(n=e,Gc):os:n instanceof G?Gc:n instanceof Date?ts:Array.isArray(n)?Kc:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?es:ns)(t,n)},as=function(t,n){return n-=t=+t,function(e){return Math.round(t+n*e)}},cs=180/Math.PI,ss={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},fs=function(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*cs,skewX:Math.atan(c)*cs,scaleX:u,scaleY:a}},ls=Mt(function(t){return"none"===t?ss:(Yc||(Yc=document.createElement("DIV"),Bc=document.documentElement,jc=document.defaultView),Yc.style.transform=t,t=jc.getComputedStyle(Bc.appendChild(Yc),null).getPropertyValue("transform"),Bc.removeChild(Yc),t=t.slice(7,-1).split(","),fs(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),hs=Mt(function(t){return null==t?ss:(Hc||(Hc=document.createElementNS("http://www.w3.org/2000/svg","g")),Hc.setAttribute("transform",t),(t=Hc.transform.baseVal.consolidate())?(t=t.matrix,fs(t.a,t.b,t.c,t.d,t.e,t.f)):ss)},", ",")",")"),ps=Math.SQRT2,ds=function(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],c=n[1],s=n[2],f=a-i,l=c-o,h=f*f+l*l;if(h<1e-12)r=Math.log(s/u)/ps,e=function(t){return[i+t*f,o+t*l,u*Math.exp(ps*t*r)]};else{var p=Math.sqrt(h),d=(s*s-u*u+4*h)/(2*u*2*p),v=(s*s-u*u-4*h)/(2*s*2*p),_=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(v*v+1)-v);r=(g-_)/ps,e=function(t){var n,e,a=t*r,c=Tt(_),s=u/(2*p)*(c*(e=ps*a+_,((e=Math.exp(2*e))-1)/(e+1))-(n=_,((n=Math.exp(n))-1/n)/2));return[i+s*f,o+s*l,u*c/Tt(ps*a+_)]}}return e.duration=1e3*r,e},vs=Nt(mt),_s=Nt(bt),gs=kt(mt),ys=kt(bt),ms=St(mt),xs=St(bt),bs=0,ws=0,Ms=0,Ts=1e3,Ns=0,ks=0,Ss=0,Es="object"==typeof performance&&performance.now?performance:Date,As="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};Ct.prototype=zt.prototype={constructor:Ct,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Et():+e)+(null==n?0:+n),this._next||$c===this||($c?$c._next=this:Xc=this,$c=this),this._call=t,this._time=e,qt()},stop:function(){this._call&&(this._call=null,this._time=1/0,qt())}};var Cs=function(t,n,e){var r=new Ct;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r},zs=s("start","end","interrupt"),Ps=[],Rs=0,Ls=1,qs=2,Us=3,Ds=4,Os=5,Fs=6,Is=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){function r(c){var s,f,l,h;if(e.state!==Ls)return o();for(s in a)if((h=a[s]).name===e.name){if(h.state===Us)return Cs(r);h.state===Ds?(h.state=Fs,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[s]):+s<n&&(h.state=Fs,h.timer.stop(),delete a[s])}if(Cs(function(){e.state===Us&&(e.state=Ds,e.timer.restart(i,e.delay,e.time),i(c))}),e.state=qs,e.on.call("start",t,t.__data__,e.index,e.group),e.state===qs){for(e.state=Us,u=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(u[++f]=h);u.length=f+1}}function i(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(o),e.state=Os,1),i=-1,a=u.length;++i<a;)u[i].call(null,r);e.state===Os&&(e.on.call("end",t,t.__data__,e.index,e.group),o())}function o(){e.state=Fs,e.timer.stop(),delete a[n];for(var r in a)return;delete t.__transition}var u,a=t.__transition;a[n]=e,e.timer=zt(function(t){e.state=Ls,e.timer.restart(r,e.delay,e.time),e.delay<=t&&r(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:zs,tween:Ps,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Rs})},Ys=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){n=null==n?null:n+"";for(i in o)(e=o[i]).name===n?(r=e.state>qs&&e.state<Os,e.state=Fs,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}},Bs=function(t,n){var e;return("number"==typeof n?ns:n instanceof G?Gc:(e=G(n))?(n=e,Gc):os)(t,n)},js=I.prototype.constructor,Hs=0,Xs=I.prototype;It.prototype=Yt.prototype={constructor:It,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ec(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],f=s.length,l=o[u]=new Array(f),h=0;h<f;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,Is(l[h],n,e,h,l,Ot(a,e)));return new It(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=rc(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,p=t.call(c,c.__data__,l,s),d=Ot(c,e),v=0,_=p.length;v<_;++v)(h=p[v])&&Is(h,n,e,v,p,d);o.push(p),u.push(c)}return new It(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=Ja(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new It(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new It(u,this._parents,this._name,this._id)},selection:function(){return new js(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Bt(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)if(u=a[s]){var f=Ot(u,n);Is(u,t,e,s,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new It(r,this._parents,t,e)},call:Xs.call,nodes:Xs.nodes,node:Xs.node,size:Xs.size,empty:Xs.empty,each:Xs.each,on:function(t,n){var e=this._id;return arguments.length<2?Ot(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o,u=(o=n,(o+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})?Ut:Dt);return function(){var o=u(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(n,e),o.on=i}}(e,t,n))},attr:function(t,n){var e=Xa(t),r="transform"===e?hs:Bs;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttributeNS(t.space,t.local))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttribute(t))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttribute(t)}})(e,r,Ft(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Xa(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?ls:Bs;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=k(this,t),u=(this.style.removeProperty(t),k(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,(i=t,function(){this.style.removeProperty(i)})):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var u=k(this,t),a=e(this);return null==a&&(this.style.removeProperty(t),a=k(this,t)),u===a?null:u===r&&a===i?o:o=n(r=u,i=a)}}(t,r,Ft(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=k(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e);var i},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?(e=Ft(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}));var n,e},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ot(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Dt(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Dt(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Ut(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Ut(this,t).delay=n}})(n,t)):Ot(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Dt(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Dt(this,t).duration=n}})(n,t)):Ot(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Dt(this,t).ease=n}}(n,t)):Ot(this.node(),n).ease}};var $s=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Vs=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Ws=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),Zs=Math.PI,Gs=Zs/2,Js=4/11,Qs=6/11,Ks=8/11,tf=.75,nf=9/11,ef=10/11,rf=.9375,of=21/22,uf=63/64,af=1/Js/Js,cf=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),sf=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),ff=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),lf=2*Math.PI,hf=function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=lf);return r.amplitude=function(n){return t(n,e*lf)},r.period=function(e){return t(n,e)},r}(1,.3),pf=function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=lf);return r.amplitude=function(n){return t(n,e*lf)},r.period=function(e){return t(n,e)},r}(1,.3),df=function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/e))/2}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=lf);return r.amplitude=function(n){return t(n,e*lf)},r.period=function(e){return t(n,e)},r}(1,.3),vf={time:null,delay:0,duration:250,ease:Ht};I.prototype.interrupt=function(t){return this.each(function(){Ys(this,t)})},I.prototype.transition=function(t){var n,e;t instanceof It?(n=t._id,t=t._name):(n=Bt(),(e=vf).time=Et(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)(u=a[s])&&Is(u,t,n,s,a,e||Zt(u,n));return new It(r,this._parents,t,n)};var _f=[null],gf=function(t){return function(){return t}},yf=function(t,n,e){this.target=t,this.type=n,this.selection=e},mf=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},xf={name:"drag"},bf={name:"space"},wf={name:"handle"},Mf={name:"center"},Tf={name:"x",handles:["e","w"].map(Jt),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Nf={name:"y",handles:["n","s"].map(Jt),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},kf={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Jt),input:function(t){return t},output:function(t){return t}},Sf={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ef={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Af={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Cf={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},zf={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Pf=Math.cos,Rf=Math.sin,Lf=Math.PI,qf=Lf/2,Uf=2*Lf,Df=Math.max,Of=Array.prototype.slice,Ff=function(t){return function(){return t}},If=Math.PI,Yf=2*If,Bf=Yf-1e-6;rn.prototype=on.prototype={constructor:rn,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,f=u-n,l=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(f*a-c*s)>1e-6&&i){var h=e-o,p=r-u,d=a*a+c*c,v=h*h+p*p,_=Math.sqrt(d),g=Math.sqrt(l),y=i*Math.tan((If-Math.acos((d+l-v)/(2*_*g)))/2),m=y/g,x=y/_;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>s*p)+","+(this._x1=t+x*a)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n)},arc:function(t,n,e,r,i,o){t=+t,n=+n;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%Yf+Yf),l>Bf?this._+="A"+e+","+e+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=If)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}},ln.prototype=hn.prototype={constructor:ln,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var jf=hn.prototype;gn.prototype=yn.prototype={constructor:gn,has:jf.has,add:function(t){return this["$"+(t+="")]=t,this},remove:jf.remove,clear:jf.clear,values:jf.keys,size:jf.size,empty:jf.empty,each:jf.each};var Hf={},Xf={},$f=34,Vf=10,Wf=13,Zf=function(t){function n(t,n){function e(){if(s)return Xf;if(f)return f=!1,Hf;var n,e,r=a;if(t.charCodeAt(r)===$f){for(;a++<u&&t.charCodeAt(a)!==$f||t.charCodeAt(++a)===$f;);return(n=a)>=u?s=!0:(e=t.charCodeAt(a++))===Vf?f=!0:e===Wf&&(f=!0,t.charCodeAt(a)===Vf&&++a),t.slice(r+1,n-1).replace(/""/g,'"')}for(;a<u;){if((e=t.charCodeAt(n=a++))===Vf)f=!0;else if(e===Wf)f=!0,t.charCodeAt(a)===Vf&&++a;else if(e!==o)continue;return t.slice(r,n)}return s=!0,t.slice(r,u)}var r,i=[],u=t.length,a=0,c=0,s=u<=0,f=!1;for(t.charCodeAt(u-1)===Vf&&--u,t.charCodeAt(u-1)===Wf&&--u;(r=e())!==Xf;){for(var l=[];r!==Hf&&r!==Xf;)l.push(r),r=e();n&&null==(l=n(l,c++))||i.push(l)}return i}function e(n){return n.map(r).join(t)}function r(t){return null==t?"":i.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var i=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,e){var r,i,o=n(t,function(t,n){if(r)return r(t,n-1);i=t,r=e?function(t,n){var e=mn(t);return function(r,i){return n(e(r),i,t)}}(t,e):mn(t)});return o.columns=i,o},parseRows:n,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(r).join(t)].concat(n.map(function(n){return e.map(function(t){return r(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(e).join("\n")}}},Gf=Zf(","),Jf=Gf.parse,Qf=Gf.parseRows,Kf=Gf.format,tl=Gf.formatRows,nl=Zf("\t"),el=nl.parse,rl=nl.parseRows,il=nl.format,ol=nl.formatRows,ul=function(t){return function(){return t}},al=function(){return 1e-6*(Math.random()-.5)},cl=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i},sl=Mn.prototype=Tn.prototype;sl.copy=function(){var t,n,e=new Tn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Nn(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Nn(n));return e},sl.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return xn(this.cover(n,e),n,e,t)},sl.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,s=1/0,f=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>f&&(f=r),i<s&&(s=i),i>l&&(l=i));for(f<c&&(c=this._x0,f=this._x1),l<s&&(s=this._y0,l=this._y1),this.cover(c,s).cover(f,l),e=0;e<o;++e)xn(this,u[e],a[e],t[e]);return this},sl.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var u,a,c=i-e,s=this._root;switch(a=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{(u=new Array(4))[a]=s,s=u}while(c*=2,i=e+c,o=r+c,t>i||n>o);break;case 1:do{(u=new Array(4))[a]=s,s=u}while(c*=2,e=i-c,o=r+c,e>t||n>o);break;case 2:do{(u=new Array(4))[a]=s,s=u}while(c*=2,i=e+c,r=o-c,t>i||r>n);break;case 3:do{(u=new Array(4))[a]=s,s=u}while(c*=2,e=i-c,r=o-c,e>t||r>n)}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},sl.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},sl.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},sl.find=function(t,n,e){var r,i,o,u,a,c,s,f=this._x0,l=this._y0,h=this._x1,p=this._y1,d=[],v=this._root;for(v&&d.push(new cl(v,f,l,h,p)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>p||(u=c.x1)<f||(a=c.y1)<l))if(v.length){var _=(i+u)/2,g=(o+a)/2;d.push(new cl(v[3],_,g,u,a),new cl(v[2],i,g,_,a),new cl(v[1],_,o,u,g),new cl(v[0],i,o,_,g)),(s=(n>=g)<<1|t>=_)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-s],d[d.length-1-s]=c)}else{var y=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),x=y*y+m*m;if(x<e){var b=Math.sqrt(e=x);f=t-b,l=n-b,h=t+b,p=n+b,r=v.data}}return r},sl.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,s,f,l,h,p=this._root,d=this._x0,v=this._y0,_=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((s=o>=(a=(d+_)/2))?d=a:_=a,(f=u>=(c=(v+g)/2))?v=c:g=c,n=p,!(p=p[l=f<<1|s]))return this;if(!p.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},sl.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},sl.root=function(){return this._root},sl.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},sl.visit=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new cl(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var s=(r+o)/2,f=(i+u)/2;(e=c[3])&&a.push(new cl(e,s,f,o,u)),(e=c[2])&&a.push(new cl(e,r,f,s,u)),(e=c[1])&&a.push(new cl(e,s,i,o,f)),(e=c[0])&&a.push(new cl(e,r,i,s,f))}return this},sl.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new cl(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,s=n.y1,f=(u+c)/2,l=(a+s)/2;(o=i[0])&&e.push(new cl(o,u,a,f,l)),(o=i[1])&&e.push(new cl(o,f,a,c,l)),(o=i[2])&&e.push(new cl(o,u,l,f,s)),(o=i[3])&&e.push(new cl(o,f,l,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},sl.x=function(t){return arguments.length?(this._x=t,this):this._x},sl.y=function(t){return arguments.length?(this._y=t,this):this._y};var fl,ll=10,hl=Math.PI*(3-Math.sqrt(5)),pl=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},dl=function(t){return(t=pl(Math.abs(t)))?t[1]:NaN},vl=function(t,n){var e=pl(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},_l={"":function(t,n){t:for(var e,r=(t=t.toPrecision(n)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return vl(100*t,n)},r:vl,s:function(t,n){var e=pl(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(fl=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pl(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},gl=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;Pn.prototype=Rn.prototype,Rn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var yl,ml=function(t){return t},xl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],bl=function(t){function n(t){function n(t){var n,u,s,f=_,x=g;if("c"===v)x=y(t)+x,t="";else{var b=(t=+t)<0;if(t=y(Math.abs(t),d),b&&0==+t&&(b=!1),f=(b?"("===i?i:"-":"-"===i||"("===i?"":i)+f,x=x+("s"===v?xl[8+fl/3]:"")+(b&&"("===i?")":""),m)for(n=-1,u=t.length;++n<u;)if(48>(s=t.charCodeAt(n))||s>57){x=(46===s?a+t.slice(n+1):t.slice(n))+x,t=t.slice(0,n);break}}p&&!l&&(t=o(t,1/0));var w=f.length+t.length+x.length,M=w<h?new Array(h-w+1).join(e):"";switch(p&&l&&(t=o(M+t,M.length?h-x.length:1/0),M=""),r){case"<":t=f+t+x+M;break;case"=":t=f+M+t+x;break;case"^":t=M.slice(0,w=M.length>>1)+f+t+x+M.slice(w);break;default:t=M+f+t+x}return c(t)}var e=(t=Pn(t)).fill,r=t.align,i=t.sign,f=t.symbol,l=t.zero,h=t.width,p=t.comma,d=t.precision,v=t.type,_="$"===f?u[0]:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",g="$"===f?u[1]:/[%p]/.test(v)?s:"",y=_l[v],m=!v||/[defgprs%]/.test(v);return d=null==d?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),n.toString=function(){return t+""},n}var e,r,i,o=t.grouping&&t.thousands?(r=t.grouping,i=t.thousands,function(t,n){for(var e=t.length,o=[],u=0,a=r[0],c=0;e>0&&a>0&&(c+a+1>n&&(a=Math.max(1,n-c)),o.push(t.substring(e-=a,e+a)),!((c+=a+1)>n));)a=r[u=(u+1)%r.length];return o.reverse().join(i)}):ml,u=t.currency,a=t.decimal,c=t.numerals?(e=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}):ml,s=t.percent||"%";return{format:n,formatPrefix:function(t,e){var r=n((t=Pn(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(dl(e)/3))),o=Math.pow(10,-i),u=xl[8+i/3];return function(t){return r(o*t)+u}}}};Ln({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var wl=function(t){return Math.max(0,-dl(Math.abs(t)))},Ml=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(dl(n)/3)))-dl(Math.abs(t)))},Tl=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,dl(n)-dl(t))+1},Nl=function(){return new qn};qn.prototype={constructor:qn,reset:function(){this.s=this.t=0},add:function(t){Un(rh,t,this.t),Un(this,rh.s,this.s),this.s?this.t+=rh.t:this.s=rh.t},valueOf:function(){return this.s}};var kl,Sl,El,Al,Cl,zl,Pl,Rl,Ll,ql,Ul,Dl,Ol,Fl,Il,Yl,Bl,jl,Hl,Xl,$l,Vl,Wl,Zl,Gl,Jl,Ql,Kl,th,nh,eh,rh=new qn,ih=1e-6,oh=Math.PI,uh=oh/2,ah=oh/4,ch=2*oh,sh=180/oh,fh=oh/180,lh=Math.abs,hh=Math.atan,ph=Math.atan2,dh=Math.cos,vh=Math.ceil,_h=Math.exp,gh=Math.log,yh=Math.pow,mh=Math.sin,xh=Math.sign||function(t){return t>0?1:t<0?-1:0},bh=Math.sqrt,wh=Math.tan,Mh={Feature:function(t,n){Yn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Yn(e[r].geometry,n)}},Th={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Bn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Bn(e[r],n,0)},Polygon:function(t,n){jn(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)jn(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Yn(e[r],n)}},Nh=function(t,n){t&&Mh.hasOwnProperty(t.type)?Mh[t.type](t,n):Yn(t,n)},kh=Nl(),Sh=Nl(),Eh={point:In,lineStart:In,lineEnd:In,polygonStart:function(){kh.reset(),Eh.lineStart=Hn,Eh.lineEnd=Xn},polygonEnd:function(){var t=+kh;Sh.add(t<0?ch+t:t),this.lineStart=this.lineEnd=this.point=In},sphere:function(){Sh.add(ch)}},Ah=Nl(),Ch={point:ne,lineStart:re,lineEnd:ie,polygonStart:function(){Ch.point=oe,Ch.lineStart=ue,Ch.lineEnd=ae,Ah.reset(),Eh.polygonStart()},polygonEnd:function(){Eh.polygonEnd(),Ch.point=ne,Ch.lineStart=re,Ch.lineEnd=ie,kh<0?(zl=-(Rl=180),Pl=-(Ll=90)):Ah>ih?Ll=90:Ah<-ih&&(Pl=-90),Il[0]=zl,Il[1]=Rl}},zh={sphere:In,point:le,lineStart:pe,lineEnd:_e,polygonStart:function(){zh.lineStart=ge,zh.lineEnd=ye},polygonEnd:function(){zh.lineStart=pe,zh.lineEnd=_e}},Ph=function(t){return function(){return t}},Rh=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};be.invert=be;var Lh,qh,Uh,Dh,Oh,Fh,Ih,Yh,Bh,jh,Hh,Xh=function(t){function n(n){return(n=t(n[0]*fh,n[1]*fh))[0]*=sh,n[1]*=sh,n}return t=we(t[0]*fh,t[1]*fh,t.length>2?t[2]*fh:0),n.invert=function(n){return(n=t.invert(n[0]*fh,n[1]*fh))[0]*=sh,n[1]*=sh,n},n},$h=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:In,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},Vh=function(t,n){return lh(t[0]-n[0])<ih&&lh(t[1]-n[1])<ih},Wh=function(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(Vh(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(e=new Ee(r,t,null,!0)),c.push(e.o=new Ee(r,null,e,!1)),a.push(e=new Ee(u,t,null,!1)),c.push(e.o=new Ee(u,null,e,!0))}}),a.length){for(c.sort(n),Ae(a),Ae(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var s,f,l=a[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=s.length;o<u;++o)i.point((f=s[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((f=s[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}s=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}},Zh=Nl(),Gh=function(t,n){var e=n[0],r=n[1],i=[mh(e),-dh(e),0],o=0,u=0;Zh.reset();for(var a=0,c=t.length;a<c;++a)if(f=(s=t[a]).length)for(var s,f,l=s[f-1],h=l[0],p=l[1]/2+ah,d=mh(p),v=dh(p),_=0;_<f;++_,h=y,d=x,v=b,l=g){var g=s[_],y=g[0],m=g[1]/2+ah,x=mh(m),b=dh(m),w=y-h,M=w>=0?1:-1,T=M*w,N=T>oh,k=d*x;if(Zh.add(ph(k*M*mh(T),v*b+k*dh(T))),o+=N?w+M*ch:w,N^h>=e^y>=e){var S=Jn(Zn(l),Zn(g));te(S);var E=Jn(i,S);te(E);var A=(N^w>=0?-1:1)*On(E[2]);(r>A||r===A&&(S[0]||S[1]))&&(u+=N^w>=0?1:-1)}}return(o<-ih||o<ih&&Zh<-ih)^1&u},Jh=function(t,n,e,r){return function(i){function o(n,e){t(n,e)&&i.point(n,e)}function u(t,n){v.point(t,n)}function a(){m.point=u,v.lineStart()}function c(){m.point=o,v.lineEnd()}function s(t,n){d.push([t,n]),g.point(t,n)}function f(){g.lineStart(),d=[]}function l(){s(d[0][0],d[0][1]),g.lineEnd();var t,n,e,r,o=g.clean(),u=_.result(),a=u.length;if(d.pop(),h.push(d),d=null,a)if(1&o){if((n=(e=u[0]).length-1)>0){for(y||(i.polygonStart(),y=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),p.push(u.filter(Ce))}var h,p,d,v=n(i),_=$h(),g=n(_),y=!1,m={point:o,lineStart:a,lineEnd:c,polygonStart:function(){m.point=s,m.lineStart=f,m.lineEnd=l,p=[],h=[]},polygonEnd:function(){m.point=o,m.lineStart=a,m.lineEnd=c,p=Pa(p);var t=Gh(h,r);p.length?(y||(i.polygonStart(),y=!0),Wh(p,ze,t,e,i)):t&&(y||(i.polygonStart(),y=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),y&&(i.polygonEnd(),y=!1),p=h=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return m}},Qh=Jh(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?oh:-oh,c=lh(o-e);lh(c-oh)<ih?(t.point(e,r=(r+u)/2>0?uh:-uh),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=oh&&(lh(e-i)<ih&&(e-=i*ih),lh(o-a)<ih&&(o-=a*ih),r=function(t,n,e,r){var i,o,u=mh(t-e);return lh(u)>ih?hh((mh(n)*(o=dh(r))*mh(e)-mh(r)*(i=dh(n))*mh(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*uh,r.point(-oh,i),r.point(0,i),r.point(oh,i),r.point(oh,0),r.point(oh,-i),r.point(0,-i),r.point(-oh,-i),r.point(-oh,0),r.point(-oh,i);else if(lh(t[0]-n[0])>ih){var o=t[0]<n[0]?oh:-oh;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-oh,-uh]),Kh=function(t){function n(t,n){return dh(t)*dh(n)>i}function e(t,n,e){var r=[1,0,0],o=Jn(Zn(t),Zn(n)),u=Gn(o,o),a=o[0],c=u-a*a;if(!c)return!e&&t;var s=i*u/c,f=-i*a/c,l=Jn(r,o),h=Kn(r,s);Qn(h,Kn(o,f));var p=l,d=Gn(h,p),v=Gn(p,p),_=d*d-v*(Gn(h,h)-1);if(!(_<0)){var g=bh(_),y=Kn(p,(-d-g)/v);if(Qn(y,h),y=Wn(y),!e)return y;var m,x=t[0],b=n[0],w=t[1],M=n[1];b<x&&(m=x,x=b,b=m);var T=b-x,N=lh(T-oh)<ih;if(!N&&M<w&&(m=w,w=M,M=m),N||T<ih?N?w+M>0^y[1]<(lh(y[0]-x)<ih?w:M):w<=y[1]&&y[1]<=M:T>oh^(x<=y[0]&&y[0]<=b)){var k=Kn(p,(-d+g)/v);return Qn(k,h),[y,Wn(k)]}}}function r(n,e){var r=u?t:oh-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var i=dh(t),o=6*fh,u=i>0,a=lh(i)>ih;return Jh(n,function(t){var i,o,c,s,f;return{lineStart:function(){s=c=!1,f=1},point:function(l,h){var p,d=[l,h],v=n(l,h),_=u?v?0:r(l,h):v?r(l+(l<0?oh:-oh),h):0;if(!i&&(s=c=v)&&t.lineStart(),v!==c&&(!(p=e(i,d))||Vh(i,p)||Vh(d,p))&&(d[0]+=ih,d[1]+=ih,v=n(d[0],d[1])),v!==c)f=0,v?(t.lineStart(),p=e(d,i),t.point(p[0],p[1])):(p=e(i,d),t.point(p[0],p[1]),t.lineEnd()),i=p;else if(a&&i&&u^v){var g;_&o||!(g=e(d,i,!0))||(f=0,u?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!v||i&&Vh(i,d)||t.point(d[0],d[1]),i=d,c=v,o=_},lineEnd:function(){c&&t.lineEnd(),i=null},clean:function(){return f|(s&&c)<<1}}},function(n,e,r,i){ke(i,t,o,r,n,e)},u?[0,-t]:[-oh,t-oh])},tp=function(t,n,e,r,i,o){var u,a=t[0],c=t[1],s=0,f=1,l=n[0]-a,h=n[1]-c;if(u=e-a,l||!(u>0)){if(u/=l,l<0){if(u<s)return;u<f&&(f=u)}else if(l>0){if(u>f)return;u>s&&(s=u)}if(u=i-a,l||!(u<0)){if(u/=l,l<0){if(u>f)return;u>s&&(s=u)}else if(l>0){if(u<s)return;u<f&&(f=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<s)return;u<f&&(f=u)}else if(h>0){if(u>f)return;u>s&&(s=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>f)return;u>s&&(s=u)}else if(h>0){if(u<s)return;u<f&&(f=u)}return s>0&&(t[0]=a+s*l,t[1]=c+s*h),f<1&&(n[0]=a+f*l,n[1]=c+f*h),!0}}}}},np=1e9,ep=-np,rp=Nl(),ip={sphere:In,point:In,lineStart:function(){ip.point=Le,ip.lineEnd=Re},lineEnd:In,polygonStart:In,polygonEnd:In},op=function(t){return rp.reset(),Nh(t,ip),+rp},up=[null,null],ap={type:"LineString",coordinates:up},cp=function(t,n){return up[0]=t,up[1]=n,op(ap)},sp={Feature:function(t,n){return Ue(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Ue(e[r].geometry,n))return!0;return!1}},fp={Sphere:function(){return!0},Point:function(t,n){return De(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(De(e[r],n))return!0;return!1},LineString:function(t,n){return Oe(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Oe(e[r],n))return!0;return!1},Polygon:function(t,n){return Fe(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Fe(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Ue(e[r],n))return!0;return!1}},lp=function(t){return t},hp=Nl(),pp=Nl(),dp={point:In,lineStart:In,lineEnd:In,polygonStart:function(){dp.lineStart=Xe,dp.lineEnd=We},polygonEnd:function(){dp.lineStart=dp.lineEnd=dp.point=In,hp.add(lh(pp)),pp.reset()},result:function(){var t=hp/2;return hp.reset(),t}},vp=1/0,_p=vp,gp=-vp,yp=gp,mp={point:function(t,n){t<vp&&(vp=t),t>gp&&(gp=t),n<_p&&(_p=n),n>yp&&(yp=n)},lineStart:In,lineEnd:In,polygonStart:In,polygonEnd:In,result:function(){var t=[[vp,_p],[gp,yp]];return gp=yp=-(_p=vp=1/0),t}},xp=0,bp=0,wp=0,Mp=0,Tp=0,Np=0,kp=0,Sp=0,Ep=0,Ap={point:Ze,lineStart:Ge,lineEnd:Ke,polygonStart:function(){Ap.lineStart=tr,Ap.lineEnd=nr},polygonEnd:function(){Ap.point=Ze,Ap.lineStart=Ge,Ap.lineEnd=Ke},result:function(){var t=Ep?[kp/Ep,Sp/Ep]:Np?[Mp/Np,Tp/Np]:wp?[xp/wp,bp/wp]:[NaN,NaN];return xp=bp=wp=Mp=Tp=Np=kp=Sp=Ep=0,t}};ir.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,ch)}},result:In};var Cp,zp,Pp,Rp,Lp,qp=Nl(),Up={point:In,lineStart:function(){Up.point=or},lineEnd:function(){Cp&&ur(zp,Pp),Up.point=In},polygonStart:function(){Cp=!0},polygonEnd:function(){Cp=null},result:function(){var t=+qp;return qp.reset(),t}};ar.prototype={_radius:4.5,_circle:cr(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=cr(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},fr.prototype={constructor:fr,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Dp=16,Op=dh(30*fh),Fp=function(t,n){return+n?function(t,n){function e(r,i,o,u,a,c,s,f,l,h,p,d,v,_){var g=s-r,y=f-i,m=g*g+y*y;if(m>4*n&&v--){var x=u+h,b=a+p,w=c+d,M=bh(x*x+b*b+w*w),T=On(w/=M),N=lh(lh(w)-1)<ih||lh(o-l)<ih?(o+l)/2:ph(b,x),k=t(N,T),S=k[0],E=k[1],A=S-r,C=E-i,z=y*A-g*C;(z*z/m>n||lh((g*A+y*C)/m-.5)>.3||u*h+a*p+c*d<Op)&&(e(r,i,o,u,a,c,S,E,N,x/=M,b/=M,w,v,_),_.point(S,E),e(S,E,N,x,b,w,s,f,l,h,p,d,v,_))}}return function(n){function r(e,r){e=t(e,r),n.point(e[0],e[1])}function i(){g=NaN,w.point=o,n.lineStart()}function o(r,i){var o=Zn([r,i]),u=t(r,i);e(g,y,_,m,x,b,g=u[0],y=u[1],_=r,m=o[0],x=o[1],b=o[2],Dp,n),n.point(g,y)}function u(){w.point=r,n.lineEnd()}function a(){i(),w.point=c,w.lineEnd=s}function c(t,n){o(f=t,n),l=g,h=y,p=m,d=x,v=b,w.point=o}function s(){e(g,y,_,m,x,b,l,h,f,p,d,v,Dp,n),w.lineEnd=u,u()}var f,l,h,p,d,v,_,g,y,m,x,b,w={point:r,lineStart:i,lineEnd:u,polygonStart:function(){n.polygonStart(),w.lineStart=a},polygonEnd:function(){n.polygonEnd(),w.lineStart=i}};return w}}(t,n):(e=t,sr({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}}));var e},Ip=sr({point:function(t,n){this.stream.point(t*fh,n*fh)}}),Yp=function(){return vr(_r).scale(155.424).center([0,33.6442])},Bp=function(){return Yp().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},jp=gr(function(t){return bh(2/(1+t))});jp.invert=yr(function(t){return 2*On(t/2)});var Hp=gr(function(t){return(t=Dn(t))&&t/mh(t)});Hp.invert=yr(function(t){return t}),mr.invert=function(t,n){return[t,2*hh(_h(n))-uh]},Mr.invert=Mr,Nr.invert=yr(hh),Sr.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-n)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(lh(e)>ih&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Er.invert=yr(On),Ar.invert=yr(function(t){return 2*hh(t)}),Cr.invert=function(t,n){return[-n,2*hh(_h(t))-uh]},Fr.prototype=qr.prototype={constructor:Fr,count:function(){return this.eachAfter(Lr)},each:function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return qr(this).eachBefore(Dr)}};var Xp=Array.prototype.slice,$p=function(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Xp.call(t))).length,o=[];r<i;)n=t[r],e&&Br(e,n)?++r:(e=Hr(o=Ir(o,n)),r=0);return e},Vp=function(t){return function(){return t}},Wp=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Zp=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(r-n)/t.value;++a<c;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s},Gp="$",Jp={depth:-1},Qp={};fi.prototype=Object.create(Fr.prototype);var Kp=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(i-e)/t.value;++a<c;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s},td=(1+Math.sqrt(5))/2,nd=function t(n){function e(t,e,r,i,o){li(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(td),ed=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,s,f,l=-1,h=u.length,p=t.value;++l<h;){for(c=(a=u[l]).children,s=a.value=0,f=c.length;s<f;++s)a.value+=c[s].value;a.dice?Zp(a,e,r,i,r+=(o-r)*a.value/p):Kp(a,e,r,e+=(i-e)*a.value/p,o),p-=a.value}else t._squarify=u=li(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(td),rd=function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])},id=[].slice,od={};di.prototype=mi.prototype={constructor:di,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=id.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),vi(this),this},abort:function(){return null==this._error&&gi(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},yi(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,yi(this),this}};var ud=function(){return Math.random()},ad=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(ud),cd=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(ud),sd=function t(n){function e(){var t=cd.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(ud),fd=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(ud),ld=function t(n){function e(t){var e=fd.source(n)(t);return function(){return e()/t}}return e.source=t,e}(ud),hd=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(ud),pd=function(t,n){function e(t){var n,e=f.status;if(!e&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(f)||e>=200&&e<300||304===e){if(o)try{n=o.call(r,f)}catch(t){return void a.call("error",r,t)}else n=f;a.call("load",r,n)}else a.call("error",r,t)}var r,i,o,u,a=s("beforesend","progress","load","error"),c=hn(),f=new XMLHttpRequest,l=null,h=null,p=0;if("undefined"==typeof XDomainRequest||"withCredentials"in f||!/^(http(s)?:)?\/\//.test(t)||(f=new XDomainRequest),"onload"in f?f.onload=f.onerror=f.ontimeout=e:f.onreadystatechange=function(t){f.readyState>3&&e(t)},f.onprogress=function(t){a.call("progress",r,t)},r={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==n?c.remove(t):c.set(t,n+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(p=+t,r):p},user:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",r)},response:function(t){return o=t,r},get:function(t,n){return r.send("GET",t,n)},post:function(t,n){return r.send("POST",t,n)},send:function(n,e,o){return f.open(n,t,!0,l,h),null==i||c.has("accept")||c.set("accept",i+",*/*"),f.setRequestHeader&&c.each(function(t,n){f.setRequestHeader(n,t)}),null!=i&&f.overrideMimeType&&f.overrideMimeType(i),null!=u&&(f.responseType=u),p>0&&(f.timeout=p),null==o&&"function"==typeof e&&(o=e,e=null),null!=o&&1===o.length&&(s=o,o=function(t,n){s(null==t?n:null)}),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",r,f),f.send(null==e?null:e),r;var s},abort:function(){return f.abort(),r},on:function(){var t=a.on.apply(a,arguments);return t===a?r:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return r.get(n)}return r},dd=function(t,n){return function(e,r){var i=pd(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},vd=dd("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),_d=dd("application/json",function(t){return JSON.parse(t.responseText)}),gd=dd("text/plain",function(t){return t.responseText}),yd=dd("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),md=function(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=pd(e).mimeType(t);return o.row=function(t){return arguments.length?o.response((e=n,i=r=t,function(t){return e(t.responseText,i)})):r;var e,i},o.row(r),i?o.get(i):o}},xd=md("text/csv",Jf),bd=md("text/tab-separated-values",el),wd=Array.prototype,Md=wd.map,Td=wd.slice,Nd={name:"implicit"},kd=function(t){return function(){return t}},Sd=function(t){return+t},Ed=[0,1],Ad=function(n,e,i){var o,u=n[0],a=n[n.length-1],c=r(u,a,null==e?10:e);switch((i=Pn(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(u),Math.abs(a));return null!=i.precision||isNaN(o=Ml(c,s))||(i.precision=o),t.formatPrefix(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=Tl(c,Math.max(Math.abs(u),Math.abs(a))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=wl(c))||(i.precision=o-2*("%"===i.type))}return t.format(i)},Cd=function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t},zd=new Date,Pd=new Date,Rd=Ui(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Rd.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ui(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Rd:null};var Ld=Rd.range,qd=6e4,Ud=6048e5,Dd=Ui(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Od=Dd.range,Fd=Ui(function(t){t.setTime(Math.floor(t/qd)*qd)},function(t,n){t.setTime(+t+n*qd)},function(t,n){return(n-t)/qd},function(t){return t.getMinutes()}),Id=Fd.range,Yd=Ui(function(t){var n=t.getTimezoneOffset()*qd%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Bd=Yd.range,jd=Ui(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qd)/864e5},function(t){return t.getDate()-1}),Hd=jd.range,Xd=Di(0),$d=Di(1),Vd=Di(2),Wd=Di(3),Zd=Di(4),Gd=Di(5),Jd=Di(6),Qd=Xd.range,Kd=$d.range,tv=Vd.range,nv=Wd.range,ev=Zd.range,rv=Gd.range,iv=Jd.range,ov=Ui(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),uv=ov.range,av=Ui(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});av.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ui(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var cv=av.range,sv=Ui(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*qd)},function(t,n){return(n-t)/qd},function(t){return t.getUTCMinutes()}),fv=sv.range,lv=Ui(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),hv=lv.range,pv=Ui(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),dv=pv.range,vv=Oi(0),_v=Oi(1),gv=Oi(2),yv=Oi(3),mv=Oi(4),xv=Oi(5),bv=Oi(6),wv=vv.range,Mv=_v.range,Tv=gv.range,Nv=yv.range,kv=mv.range,Sv=xv.range,Ev=bv.range,Av=Ui(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Cv=Av.range,zv=Ui(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});zv.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ui(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Pv,Rv=zv.range,Lv={"-":"",_:" ",0:"0"},qv=/^\s*\d+/,Uv=/^%/,Dv=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Do({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ov=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Fv=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Iv=1e3,Yv=60*Iv,Bv=60*Yv,jv=24*Bv,Hv=7*jv,Xv=30*jv,$v=365*jv,Vv=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},Wv=Vv("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Zv=Vv("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Gv=Vv("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Jv=Vv("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Qv=xs(vt(300,.5,0),vt(-240,.5,1)),Kv=xs(vt(-100,.75,.35),vt(80,1.5,.8)),t_=xs(vt(260,.75,.35),vt(80,1.5,.8)),n_=vt(),e_=Yo(Vv("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),r_=Yo(Vv("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),i_=Yo(Vv("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),o_=Yo(Vv("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),u_=function(t){return function(){return t}},a_=Math.abs,c_=Math.atan2,s_=Math.cos,f_=Math.max,l_=Math.min,h_=Math.sin,p_=Math.sqrt,d_=1e-12,v_=Math.PI,__=v_/2,g_=2*v_;Zo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var y_=function(t){return new Zo(t)},m_=function(){function t(t){var a,c,s,f=t.length,l=!1;for(null==i&&(u=o(s=on())),a=0;a<=f;++a)!(a<f&&r(c=t[a],a,t))===l&&((l=!l)?u.lineStart():u.lineEnd()),l&&u.point(+n(c,a,t),+e(c,a,t));if(s)return u=null,s+""||null}var n=Go,e=Jo,r=u_(!0),i=null,o=y_,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:u_(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:u_(+n),t):e},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:u_(!!n),t):r},t.curve=function(n){return arguments.length?(o=n,null!=i&&(u=o(i)),t):o},t.context=function(n){return arguments.length?(null==n?i=u=null:u=o(i=n),t):i},t},x_=function(){function t(t){var n,f,l,h,p,d=t.length,v=!1,_=new Array(d),g=new Array(d);for(null==a&&(s=c(p=on())),n=0;n<=d;++n){if(!(n<d&&u(h=t[n],n,t))===v)if(v=!v)f=n,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),l=n-1;l>=f;--l)s.point(_[l],g[l]);s.lineEnd(),s.areaEnd()}v&&(_[n]=+e(h,n,t),g[n]=+i(h,n,t),s.point(r?+r(h,n,t):_[n],o?+o(h,n,t):g[n]))}if(p)return s=null,p+""||null}function n(){return m_().defined(u).curve(c).context(a)}var e=Go,r=null,i=u_(0),o=Jo,u=u_(!0),a=null,c=y_,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:u_(+n),r=null,t):e},t.x0=function(n){return arguments.length?(e="function"==typeof n?n:u_(+n),t):e},t.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:u_(+n),t):r},t.y=function(n){return arguments.length?(i="function"==typeof n?n:u_(+n),o=null,t):i},t.y0=function(n){return arguments.length?(i="function"==typeof n?n:u_(+n),t):i},t.y1=function(n){return arguments.length?(o=null==n?null:"function"==typeof n?n:u_(+n),t):o},t.lineX0=t.lineY0=function(){return n().x(e).y(i)},t.lineY1=function(){return n().x(e).y(o)},t.lineX1=function(){return n().x(r).y(i)},t.defined=function(n){return arguments.length?(u="function"==typeof n?n:u_(!!n),t):u},t.curve=function(n){return arguments.length?(c=n,null!=a&&(s=c(a)),t):c},t.context=function(n){return arguments.length?(null==n?a=s=null:s=c(a=n),t):a},t},b_=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},w_=function(t){return t},M_=Ko(y_);Qo.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var T_=function(){return tu(m_().curve(M_))},N_=function(){var t=x_().curve(M_),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return tu(e())},delete t.lineX0,t.lineEndAngle=function(){return tu(r())},delete t.lineX1,t.lineInnerRadius=function(){return tu(i())},delete t.lineY0,t.lineOuterRadius=function(){return tu(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(Ko(t)):n()._curve},t},k_=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]},S_=Array.prototype.slice,E_={draw:function(t,n){var e=Math.sqrt(n/v_);t.moveTo(e,0),t.arc(0,0,e,0,g_)}},A_={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},C_=Math.sqrt(1/3),z_=2*C_,P_={draw:function(t,n){var e=Math.sqrt(n/z_),r=e*C_;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},R_=Math.sin(v_/10)/Math.sin(7*v_/10),L_=Math.sin(g_/10)*R_,q_=-Math.cos(g_/10)*R_,U_={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=L_*e,i=q_*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=g_*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},D_={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},O_=Math.sqrt(3),F_={draw:function(t,n){var e=-Math.sqrt(n/(3*O_));t.moveTo(0,2*e),t.lineTo(-O_*e,-e),t.lineTo(O_*e,-e),t.closePath()}},I_=Math.sqrt(3)/2,Y_=1/Math.sqrt(12),B_=3*(Y_/2+1),j_={draw:function(t,n){var e=Math.sqrt(n/B_),r=e/2,i=e*Y_,o=r,u=e*Y_+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(-.5*r-I_*i,I_*r+-.5*i),t.lineTo(-.5*o-I_*u,I_*o+-.5*u),t.lineTo(-.5*a-I_*c,I_*a+-.5*c),t.lineTo(-.5*r+I_*i,-.5*i-I_*r),t.lineTo(-.5*o+I_*u,-.5*u-I_*o),t.lineTo(-.5*a+I_*c,-.5*c-I_*a),t.closePath()}},H_=[E_,A_,P_,D_,U_,F_,j_],X_=function(){};cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:au(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:au(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},su.prototype={areaStart:X_,areaEnd:X_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:au(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:au(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},lu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var $_=function t(n){function e(t){return 1===n?new cu(t):new lu(t,n)}return e.beta=function(n){return t(+n)},e}(.85);pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:hu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:hu(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var V_=function t(n){function e(t){return new pu(t,n)}return e.tension=function(n){return t(+n)},e}(0);du.prototype={areaStart:X_,areaEnd:X_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:hu(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var W_=function t(n){function e(t){return new du(t,n)}return e.tension=function(n){return t(+n)},e}(0);vu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hu(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Z_=function t(n){function e(t){return new vu(t,n)}return e.tension=function(n){return t(+n)},e}(0);gu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:_u(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var G_=function t(n){function e(t){return n?new gu(t,n):new pu(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);yu.prototype={areaStart:X_,areaEnd:X_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:_u(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var J_=function t(n){function e(t){return n?new yu(t,n):new du(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);mu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_u(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Q_=function t(n){function e(t){return n?new mu(t,n):new vu(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);xu.prototype={areaStart:X_,areaEnd:X_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tu(this,this._t0,Mu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Tu(this,Mu(this,e=wu(this,t,n)),e);break;default:Tu(this,this._t0,e=wu(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(ku.prototype=Object.create(Nu.prototype)).point=function(t,n){Nu.prototype.point.call(this,n,t)},Su.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Eu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Au(t),i=Au(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var K_=function(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]},tg=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e},ng=function(t){var n=t.map(Pu);return tg(t).sort(function(t,e){return n[t]-n[e]})},eg=function(t){return function(){return t}};qu.prototype={constructor:qu,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=Fu(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(Du(this,e),e=(t=e).U),e.C=!1,r.C=!0,Ou(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(Ou(this,e),e=(t=e).U),e.C=!1,r.C=!0,Du(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?Fu(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,Du(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Ou(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,Du(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,Ou(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Du(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,Ou(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var rg,ig,og,ug,ag,cg=[],sg=[],fg=1e-6,lg=1e-12;ea.prototype={constructor:ea,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return $u(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a=e.site,c=-1,s=n[i[o-1]],f=s.left===a?s.right:s.left;++c<o;)u=f,f=(s=n[i[c]]).left===a?s.right:s.left,u&&f&&r<u.index&&r<f.index&&(l=a,h=u,p=f,(l[0]-p[0])*(h[1]-l[1])-(l[0]-h[0])*(p[1]-l[1])<0)&&t.push([a.data,u.data,f.data]);var l,h,p}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var c=t-i.site[0],s=n-i.site[1],f=c*c+s*s;do{i=o.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],s=n-a[1],l=c*c+s*s;l<f&&(f=l,u=a.index)}})}while(null!==u);return o._found=r,null==e||f<=e*e?i.site:null}};var hg=function(t){return function(){return t}};ra.prototype={constructor:ra,scale:function(t){return 1===t?this:new ra(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new ra(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var pg=new ra(1,0,0);ia.prototype=ra.prototype;var dg=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()};t.version="4.11.0",t.bisect=da,t.bisectRight=da,t.bisectLeft=va,t.ascending=la,t.bisector=ha,t.cross=function(t,e,r){var i,o,u,a,c=t.length,s=e.length,f=new Array(c*s);for(null==r&&(r=n),i=u=0;i<c;++i)for(a=t[i],o=0;o<s;++o,++u)f[u]=r(a,e[o]);return f},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=ya,t.extent=ma,t.histogram=function(){function t(t){var o,u,a=t.length,c=new Array(a);for(o=0;o<a;++o)c[o]=n(t[o],o,t);var s=e(c),f=s[0],l=s[1],h=i(c,f,l);Array.isArray(h)||(h=r(f,l,h),h=Na(Math.ceil(f/h)*h,Math.floor(l/h)*h,h));for(var p=h.length;h[0]<=f;)h.shift(),--p;for(;h[p-1]>l;)h.pop(),--p;var d,v=new Array(p+1);for(o=0;o<=p;++o)(d=v[o]=[]).x0=o>0?h[o-1]:f,d.x1=o<p?h[o]:l;for(o=0;o<a;++o)f<=(u=c[o])&&u<=l&&v[da(h,u,0,p)].push(t[o]);return v}var n=Ta,e=ma,i=Ca;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:Ma(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:Ma([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(i="function"==typeof n?n:Ma(Array.isArray(n)?ba.call(n):n),t):i},t},t.thresholdFreedmanDiaconis=function(t,n,e){return t=wa.call(t,_a).sort(la),Math.ceil((e-n)/(2*(za(t,.75)-za(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*ya(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=Ca,t.max=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},t.mean=function(t,n){var e,r=t.length,i=r,o=-1,u=0;if(null==n)for(;++o<r;)isNaN(e=_a(t[o]))?--i:u+=e;else for(;++o<r;)isNaN(e=_a(n(t[o],o,t)))?--i:u+=e;if(i)return u/i},t.median=function(t,n){var e,r=t.length,i=-1,o=[];if(null==n)for(;++i<r;)isNaN(e=_a(t[i]))||o.push(e);else for(;++i<r;)isNaN(e=_a(n(t[i],i,t)))||o.push(e);return za(o.sort(la),.5)},t.merge=Pa,t.min=Ra,t.pairs=function(t,e){null==e&&(e=n);for(var r=0,i=t.length-1,o=t[0],u=new Array(i<0?0:i);r<i;)u[r]=e(o,o=t[++r]);return u},t.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},t.quantile=za,t.range=Na,t.scan=function(t,n){if(e=t.length){var e,r,i=0,o=0,u=t[o];for(null==n&&(n=la);++i<e;)(n(r=t[i],u)<0||0!==n(u,u))&&(u=r,o=i);return 0===n(u,u)?o:void 0}},t.shuffle=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},t.sum=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},t.ticks=Aa,t.tickIncrement=e,t.tickStep=r,t.transpose=La,t.variance=ga,t.zip=function(){return La(arguments)},t.axisTop=function(t){return c(Da,t)},t.axisRight=function(t){return c(Oa,t)},t.axisBottom=function(t){return c(Fa,t)},t.axisLeft=function(t){return c(Ia,t)},t.brush=function(){return en(kf)},t.brushX=function(){return en(Tf)},t.brushY=function(){return en(Nf)},t.brushSelection=function(t){var n=t.__brush;return n?n.dim.output(n.selection):null},t.chord=function(){function t(t){var o,u,a,c,s,f,l=t.length,h=[],p=Na(l),d=[],v=[],_=v.groups=new Array(l),g=new Array(l*l);for(o=0,s=-1;++s<l;){for(u=0,f=-1;++f<l;)u+=t[s][f];h.push(u),d.push(Na(l)),o+=u}for(e&&p.sort(function(t,n){return e(h[t],h[n])}),r&&d.forEach(function(n,e){n.sort(function(n,i){return r(t[e][n],t[e][i])})}),c=(o=Df(0,Uf-n*l)/o)?n:Uf/l,u=0,s=-1;++s<l;){for(a=u,f=-1;++f<l;){var y=p[s],m=d[y][f],x=t[y][m],b=u,w=u+=x*o;g[m*l+y]={index:y,subindex:m,startAngle:b,endAngle:w,value:x}}_[y]={index:y,startAngle:a,endAngle:u,value:h[y]},u+=c}for(s=-1;++s<l;)for(f=s-1;++f<l;){var M=g[f*l+s],T=g[s*l+f];(M.value||T.value)&&v.push(M.value<T.value?{source:T,target:M}:{source:M,target:T})}return i?v.sort(i):v}var n=0,e=null,r=null,i=null;return t.padAngle=function(e){return arguments.length?(n=Df(0,e),t):n},t.sortGroups=function(n){return arguments.length?(e=n,t):e},t.sortSubgroups=function(n){return arguments.length?(r=n,t):r},t.sortChords=function(n){return arguments.length?(null==n?i=null:(e=n,i=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=n,t):i&&i._;var e},t},t.ribbon=function(){function t(){var t,a=Of.call(arguments),c=n.apply(this,a),s=e.apply(this,a),f=+r.apply(this,(a[0]=c,a)),l=i.apply(this,a)-qf,h=o.apply(this,a)-qf,p=f*Pf(l),d=f*Rf(l),v=+r.apply(this,(a[0]=s,a)),_=i.apply(this,a)-qf,g=o.apply(this,a)-qf;if(u||(u=t=on()),u.moveTo(p,d),u.arc(0,0,f,l,h),l===_&&h===g||(u.quadraticCurveTo(0,0,v*Pf(_),v*Rf(_)),u.arc(0,0,v,_,g)),u.quadraticCurveTo(0,0,p,d),u.closePath(),t)return u=null,t+""||null}var n=un,e=an,r=cn,i=sn,o=fn,u=null;return t.radius=function(n){return arguments.length?(r="function"==typeof n?n:Ff(+n),t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:Ff(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ff(+n),t):o},t.source=function(e){return arguments.length?(n=e,t):n},t.target=function(n){return arguments.length?(e=n,t):e},t.context=function(n){return arguments.length?(u=null==n?null:n,t):u},t},t.nest=function(){function t(r,o,u,a){if(o>=i.length)return null!=n&&r.sort(n),null!=e?e(r):r;for(var c,s,f,l=-1,h=r.length,p=i[o++],d=hn(),v=u();++l<h;)(f=d.get(c=p(s=r[l])+""))?f.push(s):d.set(c,[s]);return d.each(function(n,e){a(v,e,t(n,o,u,a))}),v}var n,e,r,i=[],o=[];return r={object:function(n){return t(n,0,pn,dn)},map:function(n){return t(n,0,vn,_n)},entries:function(n){return function t(n,r){if(++r>i.length)return n;var u,a=o[r-1];return null!=e&&r>=i.length?u=n.entries():(u=[],n.each(function(n,e){u.push({key:e,values:t(n,r)})})),null!=a?u.sort(function(t,n){return a(t.key,n.key)}):u}(t(n,0,vn,_n),0)},key:function(t){return i.push(t),r},sortKeys:function(t){return o[i.length-1]=t,r},sortValues:function(t){return n=t,r},rollup:function(t){return e=t,r}}},t.set=yn,t.map=hn,t.keys=function(t){var n=[];for(var e in t)n.push(e);return n},t.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},t.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},t.color=G,t.rgb=tt,t.hsl=rt,t.lab=at,t.hcl=pt,t.cubehelix=vt,t.dispatch=s,t.drag=function(){function n(t){t.on("mousedown.drag",e).filter(g).on("touchstart.drag",o).on("touchmove.drag",u).on("touchend.drag touchcancel.drag",a).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!p&&d.apply(this,arguments)){var n=c("mouse",v.apply(this,arguments),nc,this,arguments);n&&(cc(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),lc(t.event.view),Y(),h=!1,f=t.event.clientX,l=t.event.clientY,n("start"))}}function r(){if(fc(),!h){var n=t.event.clientX-f,e=t.event.clientY-l;h=n*n+e*e>w}y.mouse("drag")}function i(){cc(t.event.view).on("mousemove.drag mouseup.drag",null),B(t.event.view,h),fc(),y.mouse("end")}function o(){if(d.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=v.apply(this,arguments),o=r.length;for(n=0;n<o;++n)(e=c(r[n].identifier,i,sc,this,arguments))&&(Y(),e("start"))}}function u(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=y[r[n].identifier])&&(fc(),e("drag"))}function a(){var n,e,r=t.event.changedTouches,i=r.length;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),n=0;n<i;++n)(e=y[r[n].identifier])&&(Y(),e("end"))}function c(e,r,i,o,u){var a,c,s,f=i(r,e),l=x.copy();if(m(new j(n,"beforestart",a,e,b,f[0],f[1],0,0,l),function(){return null!=(t.event.subject=a=_.apply(o,u))&&(c=a.x-f[0]||0,s=a.y-f[1]||0,!0)}))return function t(h){var p,d=f;switch(h){case"start":y[e]=t,p=b++;break;case"end":delete y[e],--b;case"drag":f=i(r,e),p=b}m(new j(n,h,a,e,p,f[0]+c,f[1]+s,f[0]-d[0],f[1]-d[1],l),l.apply,l,[h,o,u])}}var f,l,h,p,d=H,v=X,_=$,g=V,y={},x=s("start","drag","end"),b=0,w=0;return n.filter=function(t){return arguments.length?(d="function"==typeof t?t:hc(!!t),n):d},n.container=function(t){return arguments.length?(v="function"==typeof t?t:hc(t),n):v},n.subject=function(t){return arguments.length?(_="function"==typeof t?t:hc(t),n):_},n.touchable=function(t){return arguments.length?(g="function"==typeof t?t:hc(!!t),n):g},n.on=function(){var t=x.on.apply(x,arguments);return t===x?n:t},n.clickDistance=function(t){return arguments.length?(w=(t=+t)*t,n):Math.sqrt(w)},n},t.dragDisable=lc,t.dragEnable=B,t.dsvFormat=Zf,t.csvParse=Jf,t.csvParseRows=Qf,t.csvFormat=Kf,t.csvFormatRows=tl,t.tsvParse=el,t.tsvParseRows=rl,t.tsvFormat=il,t.tsvFormatRows=ol,t.easeLinear=function(t){return+t},t.easeQuad=jt,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=jt,t.easeCubic=Ht,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=Ht,t.easePoly=Ws,t.easePolyIn=$s,t.easePolyOut=Vs,t.easePolyInOut=Ws,t.easeSin=Xt,t.easeSinIn=function(t){return 1-Math.cos(t*Gs)},t.easeSinOut=function(t){return Math.sin(t*Gs)},t.easeSinInOut=Xt,t.easeExp=$t,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=$t,t.easeCircle=Vt,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=Vt,t.easeBounce=Wt,t.easeBounceIn=function(t){return 1-Wt(1-t)},t.easeBounceOut=Wt,t.easeBounceInOut=function(t){return((t*=2)<=1?1-Wt(1-t):Wt(t-1)+1)/2},t.easeBack=ff,t.easeBackIn=cf,t.easeBackOut=sf,t.easeBackInOut=ff,t.easeElastic=pf,t.easeElasticIn=hf,t.easeElasticOut=pf,t.easeElasticInOut=df,t.forceCenter=function(t,n){function e(){var e,i,o=r.length,u=0,a=0;for(e=0;e<o;++e)u+=(i=r[e]).x,a+=i.y;for(u=u/o-t,a=a/o-n,e=0;e<o;++e)(i=r[e]).x-=u,i.y-=a}var r;return null==t&&(t=0),null==n&&(n=0),e.initialize=function(t){r=t},e.x=function(n){return arguments.length?(t=+n,e):t},e.y=function(t){return arguments.length?(n=+t,e):n},e},t.forceCollide=function(t){function n(){for(var t,n,r,c,s,f,l,h=i.length,p=0;p<a;++p)for(n=Mn(i,kn,Sn).visitAfter(e),t=0;t<h;++t)r=i[t],f=o[r.index],l=f*f,c=r.x+r.vx,s=r.y+r.vy,n.visit(function(t,n,e,i,o){var a=t.data,h=t.r,p=f+h;if(!a)return n>c+p||i<c-p||e>s+p||o<s-p;if(a.index>r.index){var d=c-a.x-a.vx,v=s-a.y-a.vy,_=d*d+v*v;_<p*p&&(0===d&&(d=al(),_+=d*d),0===v&&(v=al(),_+=v*v),_=(p-(_=Math.sqrt(_)))/_*u,r.vx+=(d*=_)*(p=(h*=h)/(l+h)),r.vy+=(v*=_)*p,a.vx-=d*(p=1-p),a.vy-=v*p)}})}function e(t){if(t.data)return t.r=o[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function r(){if(i){var n,e,r=i.length;for(o=new Array(r),n=0;n<r;++n)e=i[n],o[e.index]=+t(e,n,i)}}var i,o,u=1,a=1;return"function"!=typeof t&&(t=ul(null==t?1:+t)),n.initialize=function(t){i=t,r()},n.iterations=function(t){return arguments.length?(a=+t,n):a},n.strength=function(t){return arguments.length?(u=+t,n):u},n.radius=function(e){return arguments.length?(t="function"==typeof e?e:ul(+e),r(),n):t},n},t.forceLink=function(t){function n(n){for(var e=0,r=t.length;e<p;++e)for(var i,a,c,f,l,h,d,v=0;v<r;++v)a=(i=t[v]).source,f=(c=i.target).x+c.vx-a.x-a.vx||al(),l=c.y+c.vy-a.y-a.vy||al(),f*=h=((h=Math.sqrt(f*f+l*l))-u[v])/h*n*o[v],l*=h,c.vx-=f*(d=s[v]),c.vy-=l*d,a.vx+=f*(d=1-d),a.vy+=l*d}function e(){if(a){var n,e,l=a.length,h=t.length,p=hn(a,f);for(n=0,c=new Array(l);n<h;++n)(e=t[n]).index=n,"object"!=typeof e.source&&(e.source=An(p,e.source)),"object"!=typeof e.target&&(e.target=An(p,e.target)),c[e.source.index]=(c[e.source.index]||0)+1,c[e.target.index]=(c[e.target.index]||0)+1;for(n=0,s=new Array(h);n<h;++n)e=t[n],s[n]=c[e.source.index]/(c[e.source.index]+c[e.target.index]);o=new Array(h),r(),u=new Array(h),i()}}function r(){if(a)for(var n=0,e=t.length;n<e;++n)o[n]=+l(t[n],n,t)}function i(){if(a)for(var n=0,e=t.length;n<e;++n)u[n]=+h(t[n],n,t)}var o,u,a,c,s,f=En,l=function(t){return 1/Math.min(c[t.source.index],c[t.target.index])},h=ul(30),p=1;return null==t&&(t=[]),n.initialize=function(t){a=t,e()},n.links=function(r){return arguments.length?(t=r,e(),n):t},n.id=function(t){return arguments.length?(f=t,n):f},n.iterations=function(t){return arguments.length?(p=+t,n):p},n.strength=function(t){return arguments.length?(l="function"==typeof t?t:ul(+t),r(),n):l},n.distance=function(t){return arguments.length?(h="function"==typeof t?t:ul(+t),i(),n):h},n},t.forceManyBody=function(){function t(t){var n,a=i.length,c=Mn(i,Cn,zn).visitAfter(e);for(u=t,n=0;n<a;++n)o=i[n],c.visit(r)}function n(){if(i){var t,n,e=i.length;for(a=new Array(e),t=0;t<e;++t)n=i[t],a[n.index]=+c(n,t,i)}}function e(t){var n,e,r,i,o,u=0,c=0;if(t.length){for(r=i=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(u+=n.value,c+=e,r+=e*n.x,i+=e*n.y);t.x=r/c,t.y=i/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=a[n.data.index]}while(n=n.next)}t.value=u}function r(t,n,e,r){if(!t.value)return!0;var i=t.x-o.x,c=t.y-o.y,h=r-n,p=i*i+c*c;if(h*h/l<p)return p<f&&(0===i&&(i=al(),p+=i*i),0===c&&(c=al(),p+=c*c),p<s&&(p=Math.sqrt(s*p)),o.vx+=i*t.value*u/p,o.vy+=c*t.value*u/p),!0;if(!(t.length||p>=f)){(t.data!==o||t.next)&&(0===i&&(i=al(),p+=i*i),0===c&&(c=al(),p+=c*c),p<s&&(p=Math.sqrt(s*p)));do{t.data!==o&&(h=a[t.data.index]*u/p,o.vx+=i*h,o.vy+=c*h)}while(t=t.next)}}var i,o,u,a,c=ul(-30),s=1,f=1/0,l=.81;return t.initialize=function(t){i=t,n()},t.strength=function(e){return arguments.length?(c="function"==typeof e?e:ul(+e),n(),t):c},t.distanceMin=function(n){return arguments.length?(s=n*n,t):Math.sqrt(s)},t.distanceMax=function(n){return arguments.length?(f=n*n,t):Math.sqrt(f)},t.theta=function(n){return arguments.length?(l=n*n,t):Math.sqrt(l)},t},t.forceRadial=function(t,n,e){function r(t){for(var r=0,i=o.length;r<i;++r){var c=o[r],s=c.x-n||1e-6,f=c.y-e||1e-6,l=Math.sqrt(s*s+f*f),h=(a[r]-l)*u[r]*t/l;c.vx+=s*h,c.vy+=f*h}}function i(){if(o){var n,e=o.length;for(u=new Array(e),a=new Array(e),n=0;n<e;++n)a[n]=+t(o[n],n,o),u[n]=isNaN(a[n])?0:+c(o[n],n,o)}}var o,u,a,c=ul(.1);return"function"!=typeof t&&(t=ul(+t)),null==n&&(n=0),null==e&&(e=0),r.initialize=function(t){o=t,i()},r.strength=function(t){return arguments.length?(c="function"==typeof t?t:ul(+t),i(),r):c},r.radius=function(n){return arguments.length?(t="function"==typeof n?n:ul(+n),i(),r):t},r.x=function(t){return arguments.length?(n=+t,r):n},r.y=function(t){return arguments.length?(e=+t,r):e},r},t.forceSimulation=function(t){function n(){e(),d.call("tick",o),u<a&&(p.stop(),d.call("end",o))}function e(){var n,e,r=t.length;for(u+=(f-u)*c,h.each(function(t){t(u)}),n=0;n<r;++n)null==(e=t[n]).fx?e.x+=e.vx*=l:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=l:(e.y=e.fy,e.vy=0)}function r(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,isNaN(n.x)||isNaN(n.y)){var i=ll*Math.sqrt(e),o=e*hl;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function i(n){return n.initialize&&n.initialize(t),n}var o,u=1,a=.001,c=1-Math.pow(a,1/300),f=0,l=.6,h=hn(),p=zt(n),d=s("tick","end");return null==t&&(t=[]),r(),o={tick:e,restart:function(){return p.restart(n),o},stop:function(){return p.stop(),o},nodes:function(n){return arguments.length?(t=n,r(),h.each(i),o):t},alpha:function(t){return arguments.length?(u=+t,o):u},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(c=+t,o):+c},alphaTarget:function(t){return arguments.length?(f=+t,o):f},velocityDecay:function(t){return arguments.length?(l=1-t,o):1-l},force:function(t,n){return arguments.length>1?(null==n?h.remove(t):h.set(t,i(n)),o):h.get(t)},find:function(n,e,r){var i,o,u,a,c,s=0,f=t.length;for(null==r?r=1/0:r*=r,s=0;s<f;++s)(u=(i=n-(a=t[s]).x)*i+(o=e-a.y)*o)<r&&(c=a,r=u);return c},on:function(t,n){return arguments.length>1?(d.on(t,n),o):d.on(t)}}},t.forceX=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)(n=r[e]).vx+=(o[e]-n.x)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ul(.1);return"function"!=typeof t&&(t=ul(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ul(+t),e(),n):u},n.x=function(r){return arguments.length?(t="function"==typeof r?r:ul(+r),e(),n):t},n},t.forceY=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)(n=r[e]).vy+=(o[e]-n.y)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ul(.1);return"function"!=typeof t&&(t=ul(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ul(+t),e(),n):u},n.y=function(r){return arguments.length?(t="function"==typeof r?r:ul(+r),e(),n):t},n},t.formatDefaultLocale=Ln,t.formatLocale=bl,t.formatSpecifier=Pn,t.precisionFixed=wl,t.precisionPrefix=Ml,t.precisionRound=Tl,t.geoArea=function(t){return Sh.reset(),Nh(t,Eh),2*Sh},t.geoBounds=function(t){var n,e,r,i,o,u,a;if(Ll=Rl=-(zl=Pl=1/0),Fl=[],Nh(t,Ch),e=Fl.length){for(Fl.sort(se),n=1,o=[r=Fl[0]];n<e;++n)fe(r,(i=Fl[n])[0])||fe(r,i[1])?(ce(r[0],i[1])>ce(r[0],r[1])&&(r[1]=i[1]),ce(i[0],r[1])>ce(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(a=ce(r[1],i[0]))>u&&(u=a,zl=i[0],Rl=r[1])}return Fl=Il=null,zl===1/0||Pl===1/0?[[NaN,NaN],[NaN,NaN]]:[[zl,Pl],[Rl,Ll]]},t.geoCentroid=function(t){Yl=Bl=jl=Hl=Xl=$l=Vl=Wl=Zl=Gl=Jl=0,Nh(t,zh);var n=Zl,e=Gl,r=Jl,i=n*n+e*e+r*r;return i<1e-12&&(n=$l,e=Vl,r=Wl,Bl<ih&&(n=jl,e=Hl,r=Xl),(i=n*n+e*e+r*r)<1e-12)?[NaN,NaN]:[ph(e,n)*sh,On(r/bh(i))*sh]},t.geoCircle=function(){function t(){var t=r.apply(this,arguments),a=i.apply(this,arguments)*fh,c=o.apply(this,arguments)*fh;return n=[],e=we(-t[0]*fh,-t[1]*fh,0).invert,ke(u,a,c,1),t={type:"Polygon",coordinates:[n]},n=e=null,t}var n,e,r=Ph([0,0]),i=Ph(90),o=Ph(6),u={point:function(t,r){n.push(t=e(t,r)),t[0]*=sh,t[1]*=sh}};return t.center=function(n){return arguments.length?(r="function"==typeof n?n:Ph([+n[0],+n[1]]),t):r},t.radius=function(n){return arguments.length?(i="function"==typeof n?n:Ph(+n),t):i},t.precision=function(n){return arguments.length?(o="function"==typeof n?n:Ph(+n),t):o},t},t.geoClipAntimeridian=Qh,t.geoClipCircle=Kh,t.geoClipExtent=function(){var t,n,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return t&&n===e?t:t=Pe(r,i,o,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,e):[[r,i],[o,u]]}}},t.geoClipRectangle=Pe,t.geoContains=function(t,n){return(t&&sp.hasOwnProperty(t.type)?sp[t.type]:Ue)(t,n)},t.geoDistance=cp,t.geoGraticule=He,t.geoGraticule10=function(){return He()()},t.geoInterpolate=function(t,n){var e=t[0]*fh,r=t[1]*fh,i=n[0]*fh,o=n[1]*fh,u=dh(r),a=mh(r),c=dh(o),s=mh(o),f=u*dh(e),l=u*mh(e),h=c*dh(i),p=c*mh(i),d=2*On(bh(Fn(o-r)+u*c*Fn(i-e))),v=mh(d),_=d?function(t){var n=mh(t*=d)/v,e=mh(d-t)/v,r=e*f+n*h,i=e*l+n*p,o=e*a+n*s;return[ph(i,r)*sh,ph(o,bh(r*r+i*i))*sh]}:function(){return[e*sh,r*sh]};return _.distance=d,_},t.geoLength=op,t.geoPath=function(t,n){function e(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),Nh(t,r(i))),i.result()}var r,i,o=4.5;return e.area=function(t){return Nh(t,r(dp)),dp.result()},e.measure=function(t){return Nh(t,r(Up)),Up.result()},e.bounds=function(t){return Nh(t,r(mp)),mp.result()},e.centroid=function(t){return Nh(t,r(Ap)),Ap.result()},e.projection=function(n){return arguments.length?(r=null==n?(t=null,lp):(t=n).stream,e):t},e.context=function(t){return arguments.length?(i=null==t?(n=null,new ar):new ir(n=t),"function"!=typeof o&&i.pointRadius(o),e):n},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),e):o},e.projection(t).context(n)},t.geoAlbers=Bp,t.geoAlbersUsa=function(){function t(t){var n=t[0],e=t[1];return a=null,i.point(n,e),a||(o.point(n,e),a)||(u.point(n,e),a)}function n(){return e=r=null,t}var e,r,i,o,u,a,c=Bp(),s=Yp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=Yp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){a=[t,n]}};return t.invert=function(t){var n=c.scale(),e=c.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:c).invert(t)},t.stream=function(t){return e&&r===t?e:e=function(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}([c.stream(r=t),s.stream(t),f.stream(t)])},t.precision=function(t){return arguments.length?(c.precision(t),s.precision(t),f.precision(t),n()):c.precision()},t.scale=function(n){return arguments.length?(c.scale(n),s.scale(.35*n),f.scale(n),t.translate(c.translate())):c.scale()},t.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),r=+t[0],a=+t[1];return i=c.translate(t).clipExtent([[r-.455*e,a-.238*e],[r+.455*e,a+.238*e]]).stream(l),o=s.translate([r-.307*e,a+.201*e]).clipExtent([[r-.425*e+ih,a+.12*e+ih],[r-.214*e-ih,a+.234*e-ih]]).stream(l),u=f.translate([r-.205*e,a+.212*e]).clipExtent([[r-.214*e+ih,a+.166*e+ih],[r-.115*e-ih,a+.234*e-ih]]).stream(l),n()},t.fitExtent=function(n,e){return lr(t,n,e)},t.fitSize=function(n,e){return hr(t,n,e)},t.scale(1070)},t.geoAzimuthalEqualArea=function(){return pr(jp).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=jp,t.geoAzimuthalEquidistant=function(){return pr(Hp).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=Hp,t.geoConicConformal=function(){return vr(wr).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=wr,t.geoConicEqualArea=Yp,t.geoConicEqualAreaRaw=_r,t.geoConicEquidistant=function(){return vr(Tr).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=Tr,t.geoEquirectangular=function(){return pr(Mr).scale(152.63)},t.geoEquirectangularRaw=Mr,t.geoGnomonic=function(){return pr(Nr).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=Nr,t.geoIdentity=function(){function t(){return i=o=null,u}var n,e,r,i,o,u,a=1,c=0,s=0,f=1,l=1,h=lp,p=null,d=lp;return u={stream:function(t){return i&&o===t?i:i=h(d(o=t))},postclip:function(i){return arguments.length?(d=i,p=n=e=r=null,t()):d},clipExtent:function(i){return arguments.length?(d=null==i?(p=n=e=r=null,lp):Pe(p=+i[0][0],n=+i[0][1],e=+i[1][0],r=+i[1][1]),t()):null==p?null:[[p,n],[e,r]]},scale:function(n){return arguments.length?(h=kr((a=+n)*f,a*l,c,s),t()):a},translate:function(n){return arguments.length?(h=kr(a*f,a*l,c=+n[0],s=+n[1]),t()):[c,s]},reflectX:function(n){return arguments.length?(h=kr(a*(f=n?-1:1),a*l,c,s),t()):f<0},reflectY:function(n){return arguments.length?(h=kr(a*f,a*(l=n?-1:1),c,s),t()):l<0},fitExtent:function(t,n){return lr(u,t,n)},fitSize:function(t,n){return hr(u,t,n)}}},t.geoProjection=pr,t.geoProjectionMutator=dr,t.geoMercator=function(){return xr(mr).scale(961/ch)},t.geoMercatorRaw=mr,t.geoNaturalEarth1=function(){return pr(Sr).scale(175.295)},t.geoNaturalEarth1Raw=Sr,t.geoOrthographic=function(){return pr(Er).scale(249.5).clipAngle(90+ih)},t.geoOrthographicRaw=Er,t.geoStereographic=function(){return pr(Ar).scale(250).clipAngle(142)},t.geoStereographicRaw=Ar,t.geoTransverseMercator=function(){var t=xr(Cr),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=Cr,t.geoRotation=Xh,t.geoStream=Nh,t.geoTransform=function(t){return{stream:sr(t)}},t.cluster=function(){function t(t){var o,u=0;t.eachAfter(function(t){var e=t.children;e?(t.x=(i=e,i.reduce(Pr,0)/i.length),t.y=(r=e,1+r.reduce(Rr,0))):(t.x=o?u+=n(t,o):0,t.y=0,o=t);var r,i});var a=function(t){for(var n;n=t.children;)t=n[0];return t}(t),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(t),s=a.x-n(a,c)/2,f=c.x+n(c,a)/2;return t.eachAfter(i?function(n){n.x=(n.x-t.x)*e,n.y=(t.y-n.y)*r}:function(n){n.x=(n.x-s)/(f-s)*e,n.y=(1-(t.y?n.y/t.y:1))*r})}var n=zr,e=1,r=1,i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(n){return arguments.length?(i=!1,e=+n[0],r=+n[1],t):i?null:[e,r]},t.nodeSize=function(n){return arguments.length?(i=!0,e=+n[0],r=+n[1],t):i?[e,r]:null},t},t.hierarchy=qr,t.pack=function(){function t(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(ni(n)).eachAfter(ei(i,.5)).eachBefore(ri(1)):t.eachBefore(ni(ti)).eachAfter(ei(Kr,1)).eachAfter(ei(i,t.r/Math.min(e,r))).eachBefore(ri(Math.min(e,r)/(2*t.r))),t}var n=null,e=1,r=1,i=Kr;return t.radius=function(e){return arguments.length?(n=null==(r=e)?null:Qr(r),t):n;var r},t.size=function(n){return arguments.length?(e=+n[0],r=+n[1],t):[e,r]},t.padding=function(n){return arguments.length?(i="function"==typeof n?n:Vp(+n),t):i},t},t.packSiblings=function(t){return Jr(t),t},t.packEnclose=$p,t.partition=function(){function t(t){var o=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=e/o,t.eachBefore((u=e,a=o,function(t){t.children&&Zp(t,t.x0,u*(t.depth+1)/a,t.x1,u*(t.depth+2)/a);var n=t.x0,e=t.y0,i=t.x1-r,o=t.y1-r;i<n&&(n=i=(n+i)/2),o<e&&(e=o=(e+o)/2),t.x0=n,t.y0=e,t.x1=i,t.y1=o})),i&&t.eachBefore(Wp),t;var u,a}var n=1,e=1,r=0,i=!1;return t.round=function(n){return arguments.length?(i=!!n,t):i},t.size=function(r){return arguments.length?(n=+r[0],e=+r[1],t):[n,e]},t.padding=function(n){return arguments.length?(r=+n,t):r},t},t.stratify=function(){function t(t){var r,i,o,u,a,c,s,f=t.length,l=new Array(f),h={};for(i=0;i<f;++i)r=t[i],a=l[i]=new Fr(r),null!=(c=n(r,i,t))&&(c+="")&&(h[s=Gp+(a.id=c)]=s in h?Qp:a);for(i=0;i<f;++i)if(a=l[i],null!=(c=e(t[i],i,t))&&(c+="")){if(!(u=h[Gp+c]))throw new Error("missing: "+c);if(u===Qp)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Jp,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(Or),o.parent=null,f>0)throw new Error("cycle");return o}var n=ii,e=oi;return t.id=function(e){return arguments.length?(n=Qr(e),t):n},t.parentId=function(n){return arguments.length?(e=Qr(n),t):e},t},t.tree=function(){function t(t){var c=function(t){for(var n,e,r,i,o,u=new fi(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new fi(r[i],i)),e.parent=n;return(u.parent=new fi(null,0)).children=[u],u}(t);if(c.eachAfter(n),c.parent.m=-c.z,c.eachBefore(e),a)t.eachBefore(r);else{var s=t,f=t,l=t;t.eachBefore(function(t){t.x<s.x&&(s=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)});var h=s===f?1:i(s,f)/2,p=h-s.x,d=o/(f.x+h+p),v=u/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*v})}return t}function n(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+i(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+i(t._,r._));t.parent.A=function(t,n,e){if(n){for(var r,o=t,u=t,a=n,c=o.parent.children[0],s=o.m,f=u.m,l=a.m,h=c.m;a=ci(a),o=ai(o),a&&o;)c=ai(c),(u=ci(u)).a=t,(r=a.z+l-o.z-s+i(a._,o._))>0&&(si((p=a,d=t,v=e,p.a.parent===d.parent?p.a:v),t,r),s+=r,f+=r),l+=a.m,s+=o.m,h+=c.m,f+=u.m;a&&!ci(u)&&(u.t=a,u.m+=l-f),o&&!ai(c)&&(c.t=o,c.m+=s-h,e=t)}var p,d,v;return e}(t,r,t.parent.A||e[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t){t.x*=o,t.y=t.depth*u}var i=ui,o=1,u=1,a=null;return t.separation=function(n){return arguments.length?(i=n,t):i},t.size=function(n){return arguments.length?(a=!1,o=+n[0],u=+n[1],t):a?null:[o,u]},t.nodeSize=function(n){return arguments.length?(a=!0,o=+n[0],u=+n[1],t):a?[o,u]:null},t},t.treemap=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(n),u=[0],r&&t.eachBefore(Wp),t}function n(t){var n=u[t.depth],r=t.x0+n,i=t.y0+n,o=t.x1-n,h=t.y1-n;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(n=u[t.depth+1]=a(t)/2,r+=l(t)-n,i+=c(t)-n,o-=s(t)-n,h-=f(t)-n,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),e(t,r,i,o,h))}var e=nd,r=!1,i=1,o=1,u=[0],a=Kr,c=Kr,s=Kr,f=Kr,l=Kr;return t.round=function(n){return arguments.length?(r=!!n,t):r},t.size=function(n){return arguments.length?(i=+n[0],o=+n[1],t):[i,o]},t.tile=function(n){return arguments.length?(e=Qr(n),t):e},t.padding=function(n){return arguments.length?t.paddingInner(n).paddingOuter(n):t.paddingInner()},t.paddingInner=function(n){return arguments.length?(a="function"==typeof n?n:Vp(+n),t):a},t.paddingOuter=function(n){return arguments.length?t.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):t.paddingTop()},t.paddingTop=function(n){return arguments.length?(c="function"==typeof n?n:Vp(+n),t):c},t.paddingRight=function(n){return arguments.length?(s="function"==typeof n?n:Vp(+n),t):s},t.paddingBottom=function(n){return arguments.length?(f="function"==typeof n?n:Vp(+n),t):f},t.paddingLeft=function(n){return arguments.length?(l="function"==typeof n?n:Vp(+n),t):l},t},t.treemapBinary=function(t,n,e,r,i){var o,u,a=t.children,c=a.length,s=new Array(c+1);for(s[0]=u=o=0;o<c;++o)s[o+1]=u+=a[o].value;!function t(n,e,r,i,o,u,c){if(n>=e-1){var f=a[n];return f.x0=i,f.y0=o,f.x1=u,void(f.y1=c)}for(var l=s[n],h=r/2+l,p=n+1,d=e-1;p<d;){var v=p+d>>>1;s[v]<h?p=v+1:d=v}h-s[p-1]<s[p]-h&&n+1<p&&--p;var _=s[p]-l,g=r-_;if(u-i>c-o){var y=(i*g+u*_)/r;t(n,p,_,i,o,y,c),t(p,e,g,y,o,u,c)}else{var m=(o*g+c*_)/r;t(n,p,_,i,o,u,m),t(p,e,g,i,m,u,c)}}(0,c,t.value,n,e,r,i)},t.treemapDice=Zp,t.treemapSlice=Kp,t.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?Kp:Zp)(t,n,e,r,i)},t.treemapSquarify=nd,t.treemapResquarify=ed,t.interpolate=us,t.interpolateArray=Kc,t.interpolateBasis=Vc,t.interpolateBasisClosed=Wc,t.interpolateDate=ts,t.interpolateNumber=ns,t.interpolateObject=es,t.interpolateRound=as,t.interpolateString=os,t.interpolateTransformCss=ls,t.interpolateTransformSvg=hs,t.interpolateZoom=ds,t.interpolateRgb=Gc,t.interpolateRgbBasis=Jc,t.interpolateRgbBasisClosed=Qc,t.interpolateHsl=vs,t.interpolateHslLong=_s,t.interpolateLab=function(t,n){var e=bt((t=at(t)).l,(n=at(n)).l),r=bt(t.a,n.a),i=bt(t.b,n.b),o=bt(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}},t.interpolateHcl=gs,t.interpolateHclLong=ys,t.interpolateCubehelix=ms,t.interpolateCubehelixLong=xs,t.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},t.path=on,t.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return[o/(c*=3),u/c]},t.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(hi),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=pi(r),u=pi(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)s.push(t[r[u[n]][2]]);return s},t.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],s=o[1],f=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>a!=s>a&&u<(c-e)*(a-r)/(s-r)+e&&(f=!f),c=e,s=r;return f},t.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,n-=u=(o=t[r])[0],e-=a=o[1],c+=Math.sqrt(n*n+e*e);return c},t.quadtree=Mn,t.queue=mi,t.randomUniform=ad,t.randomNormal=cd,t.randomLogNormal=sd,t.randomBates=ld,t.randomIrwinHall=fd,t.randomExponential=hd,t.request=pd,t.html=vd,t.json=_d,t.text=gd,t.xml=yd,t.csv=xd,t.tsv=bd,t.scaleBand=bi,t.scalePoint=function(){return function t(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return t(e())},n}(bi().paddingInner(1))},t.scaleIdentity=function t(){function n(t){return+t}var e=[0,1];return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Md.call(t,Sd),n):e.slice()},n.copy=function(){return t().domain(e)},Si(n)},t.scaleLinear=function t(){var n=ki(wi,ns);return n.copy=function(){return Ni(n,t())},Si(n)},t.scaleLog=function n(){function e(){return u=Pi(o),a=zi(o),i()[0]<0&&(u=Ri(u),a=Ri(a)),r}var r=ki(Ei,Ai).domain([1,10]),i=r.domain,o=10,u=Pi(10),a=zi(10);return r.base=function(t){return arguments.length?(o=+t,e()):o},r.domain=function(t){return arguments.length?(i(t),e()):i()},r.ticks=function(t){var n,e=i(),r=e[0],c=e[e.length-1];(n=c<r)&&(h=r,r=c,c=h);var s,f,l,h=u(r),p=u(c),d=null==t?10:+t,v=[];if(!(o%1)&&p-h<d){if(h=Math.round(h)-1,p=Math.round(p)+1,r>0){for(;h<p;++h)for(f=1,s=a(h);f<o;++f)if(!((l=s*f)<r)){if(l>c)break;v.push(l)}}else for(;h<p;++h)for(f=o-1,s=a(h);f>=1;--f)if(!((l=s*f)<r)){if(l>c)break;v.push(l)}}else v=Aa(h,p,Math.min(p-h,d)).map(a);return n?v.reverse():v},r.tickFormat=function(n,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=t.format(e)),n===1/0)return e;null==n&&(n=10);var i=Math.max(1,o*n/r.ticks().length);return function(t){var n=t/a(Math.round(u(t)));return n*o<o-.5&&(n*=o),n<=i?e(t):""}},r.nice=function(){return i(Cd(i(),{floor:function(t){return a(Math.floor(u(t)))},ceil:function(t){return a(Math.ceil(u(t)))}}))},r.copy=function(){return Ni(r,n().base(o))},r},t.scaleOrdinal=xi,t.scaleImplicit=Nd,t.scalePow=qi,t.scaleSqrt=function(){return qi().exponent(.5)},t.scaleQuantile=function t(){function n(){var t=0,n=Math.max(1,i.length);for(o=new Array(n-1);++t<n;)o[t-1]=za(r,t/n);return e}function e(t){if(!isNaN(t=+t))return i[da(o,t)]}var r=[],i=[],o=[];return e.invertExtent=function(t){var n=i.indexOf(t);return n<0?[NaN,NaN]:[n>0?o[n-1]:r[0],n<o.length?o[n]:r[r.length-1]]},e.domain=function(t){if(!arguments.length)return r.slice();r=[];for(var e,i=0,o=t.length;i<o;++i)null==(e=t[i])||isNaN(e=+e)||r.push(e);return r.sort(la),n()},e.range=function(t){return arguments.length?(i=Td.call(t),n()):i.slice()},e.quantiles=function(){return o.slice()},e.copy=function(){return t().domain(r).range(i)},e},t.scaleQuantize=function t(){function n(t){if(t<=t)return a[da(u,t,0,o)]}function e(){var t=-1;for(u=new Array(o);++t<o;)u[t]=((t+1)*i-(t-o)*r)/(o+1);return n}var r=0,i=1,o=1,u=[.5],a=[0,1];return n.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],e()):[r,i]},n.range=function(t){return arguments.length?(o=(a=Td.call(t)).length-1,e()):a.slice()},n.invertExtent=function(t){var n=a.indexOf(t);return n<0?[NaN,NaN]:n<1?[r,u[0]]:n>=o?[u[o-1],i]:[u[n-1],u[n]]},n.copy=function(){return t().domain([r,i]).range(a)},Si(n)},t.scaleThreshold=function t(){function n(t){if(t<=t)return r[da(e,t,0,i)]}var e=[.5],r=[0,1],i=1;return n.domain=function(t){return arguments.length?(e=Td.call(t),i=Math.min(e.length,r.length-1),n):e.slice()},n.range=function(t){return arguments.length?(r=Td.call(t),i=Math.min(e.length,r.length-1),n):r.slice()},n.invertExtent=function(t){var n=r.indexOf(t);return[e[n-1],e[n]]},n.copy=function(){return t().domain(e).range(r)},n},t.scaleTime=function(){return Io(av,ov,Xd,jd,Yd,Fd,Dd,Rd,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return Io(zv,Av,vv,pv,lv,sv,Dd,Rd,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=Wv,t.schemeCategory20b=Zv,t.schemeCategory20c=Gv,t.schemeCategory20=Jv,t.interpolateCubehelixDefault=Qv,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return n_.h=360*t-100,n_.s=1.5-1.5*n,n_.l=.8-.9*n,n_+""},t.interpolateWarm=Kv,t.interpolateCool=t_,t.interpolateViridis=e_,t.interpolateMagma=r_,t.interpolateInferno=i_,t.interpolatePlasma=o_,t.scaleSequential=function t(n){function e(t){var e=(t-r)/(i-r);return n(o?Math.max(0,Math.min(1,e)):e)}var r=0,i=1,o=!1;return e.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],e):[r,i]},e.clamp=function(t){return arguments.length?(o=!!t,e):o},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return t(n).domain([r,i]).clamp(o)},Si(e)},t.creator=$a,t.local=p,t.matcher=Ja,t.mouse=nc,t.namespace=Xa,t.namespaces=Ha,t.select=cc,t.selectAll=function(t){return"string"==typeof t?new F([document.querySelectorAll(t)],[document.documentElement]):new F([null==t?[]:t],ac)},t.selection=I,t.selector=ec,t.selectorAll=rc,t.style=k,t.touch=sc,t.touches=function(t,n){null==n&&(n=Ka().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=tc(t,n[e]);return i},t.window=uc,t.customEvent=m,t.arc=function(){function t(){var t,s,f=+n.apply(this,arguments),l=+e.apply(this,arguments),h=o.apply(this,arguments)-__,p=u.apply(this,arguments)-__,d=a_(p-h),v=p>h;if(c||(c=t=on()),l<f&&(s=l,l=f,f=s),l>d_)if(d>g_-d_)c.moveTo(l*s_(h),l*h_(h)),c.arc(0,0,l,h,p,!v),f>d_&&(c.moveTo(f*s_(p),f*h_(p)),c.arc(0,0,f,p,h,v));else{var _,g,y=h,m=p,x=h,b=p,w=d,M=d,T=a.apply(this,arguments)/2,N=T>d_&&(i?+i.apply(this,arguments):p_(f*f+l*l)),k=l_(a_(l-f)/2,+r.apply(this,arguments)),S=k,E=k;if(N>d_){var A=Bo(N/f*h_(T)),C=Bo(N/l*h_(T));(w-=2*A)>d_?(x+=A*=v?1:-1,b-=A):(w=0,x=b=(h+p)/2),(M-=2*C)>d_?(y+=C*=v?1:-1,m-=C):(M=0,y=m=(h+p)/2)}var z=l*s_(y),P=l*h_(y),R=f*s_(b),L=f*h_(b);if(k>d_){var q=l*s_(m),U=l*h_(m),D=f*s_(x),O=f*h_(x);if(d<v_){var F=w>d_?function(t,n,e,r,i,o,u,a){var c=e-t,s=r-n,f=u-i,l=a-o,h=(f*(n-o)-l*(t-i))/(l*c-f*s);return[t+h*c,n+h*s]}(z,P,D,O,q,U,R,L):[R,L],I=z-F[0],Y=P-F[1],B=q-F[0],j=U-F[1],H=1/h_(($=(I*B+Y*j)/(p_(I*I+Y*Y)*p_(B*B+j*j)),($>1?0:$<-1?v_:Math.acos($))/2)),X=p_(F[0]*F[0]+F[1]*F[1]);S=l_(k,(f-X)/(H-1)),E=l_(k,(l-X)/(H+1))}}M>d_?E>d_?(_=Wo(D,O,z,P,l,E,v),g=Wo(q,U,R,L,l,E,v),c.moveTo(_.cx+_.x01,_.cy+_.y01),E<k?c.arc(_.cx,_.cy,E,c_(_.y01,_.x01),c_(g.y01,g.x01),!v):(c.arc(_.cx,_.cy,E,c_(_.y01,_.x01),c_(_.y11,_.x11),!v),c.arc(0,0,l,c_(_.cy+_.y11,_.cx+_.x11),c_(g.cy+g.y11,g.cx+g.x11),!v),c.arc(g.cx,g.cy,E,c_(g.y11,g.x11),c_(g.y01,g.x01),!v))):(c.moveTo(z,P),c.arc(0,0,l,y,m,!v)):c.moveTo(z,P),f>d_&&w>d_?S>d_?(_=Wo(R,L,q,U,f,-S,v),g=Wo(z,P,D,O,f,-S,v),c.lineTo(_.cx+_.x01,_.cy+_.y01),S<k?c.arc(_.cx,_.cy,S,c_(_.y01,_.x01),c_(g.y01,g.x01),!v):(c.arc(_.cx,_.cy,S,c_(_.y01,_.x01),c_(_.y11,_.x11),!v),c.arc(0,0,f,c_(_.cy+_.y11,_.cx+_.x11),c_(g.cy+g.y11,g.cx+g.x11),v),c.arc(g.cx,g.cy,S,c_(g.y11,g.x11),c_(g.y01,g.x01),!v))):c.arc(0,0,f,b,x,v):c.lineTo(R,L)}else c.moveTo(0,0);var $;if(c.closePath(),t)return c=null,t+""||null}var n=jo,e=Ho,r=u_(0),i=null,o=Xo,u=$o,a=Vo,c=null;return t.centroid=function(){var t=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-v_/2;return[s_(r)*t,h_(r)*t]},t.innerRadius=function(e){return arguments.length?(n="function"==typeof e?e:u_(+e),t):n},t.outerRadius=function(n){return arguments.length?(e="function"==typeof n?n:u_(+n),t):e},t.cornerRadius=function(n){return arguments.length?(r="function"==typeof n?n:u_(+n),t):r},t.padRadius=function(n){return arguments.length?(i=null==n?null:"function"==typeof n?n:u_(+n),t):i},t.startAngle=function(n){return arguments.length?(o="function"==typeof n?n:u_(+n),t):o},t.endAngle=function(n){return arguments.length?(u="function"==typeof n?n:u_(+n),t):u},t.padAngle=function(n){return arguments.length?(a="function"==typeof n?n:u_(+n),t):a},t.context=function(n){return arguments.length?(c=null==n?null:n,t):c},t},t.area=x_,t.line=m_,t.pie=function(){function t(t){var a,c,s,f,l,h=t.length,p=0,d=new Array(h),v=new Array(h),_=+i.apply(this,arguments),g=Math.min(g_,Math.max(-g_,o.apply(this,arguments)-_)),y=Math.min(Math.abs(g)/h,u.apply(this,arguments)),m=y*(g<0?-1:1);for(a=0;a<h;++a)(l=v[d[a]=a]=+n(t[a],a,t))>0&&(p+=l);for(null!=e?d.sort(function(t,n){return e(v[t],v[n])}):null!=r&&d.sort(function(n,e){return r(t[n],t[e])}),a=0,s=p?(g-h*m)/p:0;a<h;++a,_=f)c=d[a],f=_+((l=v[c])>0?l*s:0)+m,v[c]={data:t[c],index:a,value:l,startAngle:_,endAngle:f,padAngle:y};return v}var n=w_,e=b_,r=null,i=u_(0),o=u_(g_),u=u_(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:u_(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,r=null,t):e},t.sort=function(n){return arguments.length?(r=n,e=null,t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:u_(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:u_(+n),t):o},t.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:u_(+n),t):u},t},t.areaRadial=N_,t.radialArea=N_,t.lineRadial=T_,t.radialLine=T_,t.pointRadial=k_,t.linkHorizontal=function(){return ru(iu)},t.linkVertical=function(){return ru(ou)},t.linkRadial=function(){var t=ru(uu);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function t(){var t;if(r||(r=t=on()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}var n=u_(E_),e=u_(64),r=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:u_(e),t):n},t.size=function(n){return arguments.length?(e="function"==typeof n?n:u_(+n),t):e},t.context=function(n){return arguments.length?(r=null==n?null:n,t):r},t},t.symbols=H_,t.symbolCircle=E_,t.symbolCross=A_,t.symbolDiamond=P_,t.symbolSquare=D_,t.symbolStar=U_,t.symbolTriangle=F_,t.symbolWye=j_,t.curveBasisClosed=function(t){return new su(t)},t.curveBasisOpen=function(t){return new fu(t)},t.curveBasis=function(t){return new cu(t)},t.curveBundle=$_,t.curveCardinalClosed=W_,t.curveCardinalOpen=Z_,t.curveCardinal=V_,t.curveCatmullRomClosed=J_,t.curveCatmullRomOpen=Q_,t.curveCatmullRom=G_,t.curveLinearClosed=function(t){return new xu(t)},t.curveLinear=y_,t.curveMonotoneX=function(t){return new Nu(t)},t.curveMonotoneY=function(t){return new ku(t)},t.curveNatural=function(t){return new Eu(t)},t.curveStep=function(t){return new Cu(t,.5)},t.curveStepAfter=function(t){return new Cu(t,1)},t.curveStepBefore=function(t){return new Cu(t,0)},t.stack=function(){function t(t){var o,u,a=n.apply(this,arguments),c=t.length,s=a.length,f=new Array(s);for(o=0;o<s;++o){for(var l,h=a[o],p=f[o]=new Array(c),d=0;d<c;++d)p[d]=l=[0,+i(t[d],h,d,t)],l.data=t[d];p.key=h}for(o=0,u=e(f);o<s;++o)f[u[o]].index=o;return r(f,u),f}var n=u_([]),e=tg,r=K_,i=zu;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:u_(S_.call(e)),t):n},t.value=function(n){return arguments.length?(i="function"==typeof n?n:u_(+n),t):i},t.order=function(n){return arguments.length?(e=null==n?tg:"function"==typeof n?n:u_(S_.call(n)),t):e},t.offset=function(n){return arguments.length?(r=null==n?K_:n,t):r},t},t.stackOffsetExpand=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}K_(t,n)}},t.stackOffsetDiverging=function(t,n){if((a=t.length)>1)for(var e,r,i,o,u,a,c=0,s=t[n[0]].length;c<s;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):r[0]=o},t.stackOffsetNone=K_,t.stackOffsetSilhouette=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}K_(t,n)}},t.stackOffsetWiggle=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,s=0;a<i;++a){for(var f=t[n[a]],l=f[u][1]||0,h=(l-(f[u-1][1]||0))/2,p=0;p<a;++p){var d=t[n[p]];h+=(d[u][1]||0)-(d[u-1][1]||0)}c+=l,s+=h*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=s/c)}e[u-1][1]+=e[u-1][0]=o,K_(t,n)}},t.stackOrderAscending=ng,t.stackOrderDescending=function(t){return ng(t).reverse()},t.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(Pu),o=tg(t).sort(function(t,n){return i[n]-i[t]}),u=0,a=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],s.push(e));return s.reverse().concat(c)},t.stackOrderNone=tg,t.stackOrderReverse=function(t){return tg(t).reverse()},t.timeInterval=Ui,t.timeMillisecond=Rd,t.timeMilliseconds=Ld,t.utcMillisecond=Rd,t.utcMilliseconds=Ld,t.timeSecond=Dd,t.timeSeconds=Od,t.utcSecond=Dd,t.utcSeconds=Od,t.timeMinute=Fd,t.timeMinutes=Id,t.timeHour=Yd,t.timeHours=Bd,t.timeDay=jd,t.timeDays=Hd,t.timeWeek=Xd,t.timeWeeks=Qd,t.timeSunday=Xd,t.timeSundays=Qd,t.timeMonday=$d,t.timeMondays=Kd,t.timeTuesday=Vd,t.timeTuesdays=tv,t.timeWednesday=Wd,t.timeWednesdays=nv,t.timeThursday=Zd,t.timeThursdays=ev,t.timeFriday=Gd,t.timeFridays=rv,t.timeSaturday=Jd,t.timeSaturdays=iv,t.timeMonth=ov,t.timeMonths=uv,t.timeYear=av,t.timeYears=cv,t.utcMinute=sv,t.utcMinutes=fv,t.utcHour=lv,t.utcHours=hv,t.utcDay=pv,t.utcDays=dv,t.utcWeek=vv,t.utcWeeks=wv,t.utcSunday=vv,t.utcSundays=wv,t.utcMonday=_v,t.utcMondays=Mv,t.utcTuesday=gv,t.utcTuesdays=Tv,t.utcWednesday=yv,t.utcWednesdays=Nv,t.utcThursday=mv,t.utcThursdays=kv,t.utcFriday=xv,t.utcFridays=Sv,t.utcSaturday=bv,t.utcSaturdays=Ev,t.utcMonth=Av,t.utcMonths=Cv,t.utcYear=zv,t.utcYears=Rv,t.timeFormatDefaultLocale=Do,t.timeFormatLocale=Bi,t.isoFormat=Ov,t.isoParse=Fv,t.now=Et,t.timer=zt,t.timerFlush=Pt,t.timeout=Cs,t.interval=function(t,n,e){var r=new Ct,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Et():+e,r.restart(function o(u){u+=i,r.restart(o,i+=n,e),t(u)},n,e),r)},t.transition=Yt,t.active=function(t,n){var e,r,i=t.__transition;if(i){n=null==n?null:n+"";for(r in i)if((e=i[r]).state>Ls&&e.name===n)return new It([[t]],_f,n,+r)}return null},t.interrupt=Ys,t.voronoi=function(){function t(t){return new ea(t.map(function(r,i){var o=[Math.round(n(r,i,t)/fg)*fg,Math.round(e(r,i,t)/fg)*fg];return o.index=i,o.data=r,o}),r)}var n=Ru,e=Lu,r=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(n="function"==typeof e?e:eg(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:eg(+n),t):e},t.extent=function(n){return arguments.length?(r=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(n){return arguments.length?(r=null==n?null:[[0,0],[+n[0],+n[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},t.zoom=function(){function n(t){t.property("__zoom",ca).on("wheel.zoom",f).on("mousedown.zoom",l).on("dblclick.zoom",h).filter(w).on("touchstart.zoom",p).on("touchmove.zoom",d).on("touchend.zoom touchcancel.zoom",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,n){return(n=Math.max(M,Math.min(T,n)))===t.k?t:new ra(n,t.x,t.y)}function r(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new ra(t.k,r,i)}function i(t,n){var e=t.invertX(n[0][0])-N,r=t.invertX(n[1][0])-k,i=t.invertY(n[0][1])-S,o=t.invertY(n[1][1])-E;return t.translate(r>e?(e+r)/2:Math.min(0,e)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function u(t,n,e){t.on("start.zoom",function(){a(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){a(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=a(this,t),i=x.apply(this,t),u=e||o(i),c=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),s=this.__zoom,f="function"==typeof n?n.apply(this,t):n,l=C(s.invert(u).concat(c/s.k),f.invert(u).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=l(t),e=c/n[2];t=new ra(e,u[0]-n[0]*e,u[1]-n[1]*e)}r.zoom(null,t)}})}function a(t,n){for(var e,r=0,i=z.length;r<i;++r)if((e=z[r]).that===t)return e;return new c(t,n)}function c(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=x.apply(t,n)}function f(){if(y.apply(this,arguments)){var t=a(this,arguments),n=this.__zoom,o=Math.max(M,Math.min(T,n.k*Math.pow(2,b.apply(this,arguments)))),u=nc(this);if(t.wheel)t.mouse[0][0]===u[0]&&t.mouse[0][1]===u[1]||(t.mouse[1]=n.invert(t.mouse[0]=u)),clearTimeout(t.wheel);else{if(n.k===o)return;t.mouse=[u,n.invert(u)],Ys(this),t.start()}dg(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},L),t.zoom("mouse",i(r(e(n,o),t.mouse[0],t.mouse[1]),t.extent))}}function l(){if(!g&&y.apply(this,arguments)){var n=a(this,arguments),e=cc(t.event.view).on("mousemove.zoom",function(){if(dg(),!n.moved){var e=t.event.clientX-u,o=t.event.clientY-c;n.moved=e*e+o*o>q}n.zoom("mouse",i(r(n.that.__zoom,n.mouse[0]=nc(n.that),n.mouse[1]),n.extent))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),B(t.event.view,n.moved),dg(),n.end()},!0),o=nc(this),u=t.event.clientX,c=t.event.clientY;lc(t.event.view),oa(),n.mouse=[o,this.__zoom.invert(o)],Ys(this),n.start()}}function h(){if(y.apply(this,arguments)){var o=this.__zoom,a=nc(this),c=o.invert(a),s=i(r(e(o,o.k*(t.event.shiftKey?.5:2)),a,c),x.apply(this,arguments));dg(),A>0?cc(this).transition().duration(A).call(u,s,a):cc(this).call(n.transform,s)}}function p(){if(y.apply(this,arguments)){var n,e,r,i,o=a(this,arguments),u=t.event.changedTouches,c=u.length;for(oa(),e=0;e<c;++e)r=u[e],i=[i=sc(this,u,r.identifier),this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,n=!0);if(_&&(_=clearTimeout(_),!o.touch1))return o.end(),void((i=cc(this).on("dblclick.zoom"))&&i.apply(this,arguments));n&&(_=setTimeout(function(){_=null},R),Ys(this),o.start())}}function d(){var n,o,u,c,s=a(this,arguments),f=t.event.changedTouches,l=f.length;for(dg(),_&&(_=clearTimeout(_)),n=0;n<l;++n)o=f[n],u=sc(this,f,o.identifier),s.touch0&&s.touch0[2]===o.identifier?s.touch0[0]=u:s.touch1&&s.touch1[2]===o.identifier&&(s.touch1[0]=u);if(o=s.that.__zoom,s.touch1){var h=s.touch0[0],p=s.touch0[1],d=s.touch1[0],v=s.touch1[1],g=(g=d[0]-h[0])*g+(g=d[1]-h[1])*g,y=(y=v[0]-p[0])*y+(y=v[1]-p[1])*y;o=e(o,Math.sqrt(g/y)),u=[(h[0]+d[0])/2,(h[1]+d[1])/2],c=[(p[0]+v[0])/2,(p[1]+v[1])/2]}else{if(!s.touch0)return;u=s.touch0[0],c=s.touch0[1]}s.zoom("touch",i(r(o,u,c),s.extent))}function v(){var n,e,r=a(this,arguments),i=t.event.changedTouches,o=i.length;for(oa(),g&&clearTimeout(g),g=setTimeout(function(){g=null},R),n=0;n<o;++n)e=i[n],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var _,g,y=ua,x=aa,b=sa,w=fa,M=0,T=1/0,N=-T,k=T,S=N,E=k,A=250,C=ds,z=[],P=s("start","zoom","end"),R=500,L=150,q=0;return n.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",ca),t!==e?u(t,n):e.interrupt().each(function(){a(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},n.scaleBy=function(t,e){n.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},n.scaleTo=function(t,u){n.transform(t,function(){var t=x.apply(this,arguments),n=this.__zoom,a=o(t),c=n.invert(a);return i(r(e(n,"function"==typeof u?u.apply(this,arguments):u),a,c),t)})},n.translateBy=function(t,e,r){n.transform(t,function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),x.apply(this,arguments))})},n.translateTo=function(t,e,r){n.transform(t,function(){var t=x.apply(this,arguments),n=this.__zoom,u=o(t);return i(pg.translate(u[0],u[1]).scale(n.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof r?-r.apply(this,arguments):-r),t)})},c.prototype={start:function(){return 1==++this.active&&(this.index=z.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(z.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){m(new function(t,n,e){this.target=t,this.type=n,this.transform=e}(n,t,this.that.__zoom),P.apply,P,[t,this.that,this.args])}},n.wheelDelta=function(t){return arguments.length?(b="function"==typeof t?t:hg(+t),n):b},n.filter=function(t){return arguments.length?(y="function"==typeof t?t:hg(!!t),n):y},n.touchable=function(t){return arguments.length?(w="function"==typeof t?t:hg(!!t),n):w},n.extent=function(t){return arguments.length?(x="function"==typeof t?t:hg([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):x},n.scaleExtent=function(t){return arguments.length?(M=+t[0],T=+t[1],n):[M,T]},n.translateExtent=function(t){return arguments.length?(N=+t[0][0],k=+t[1][0],S=+t[0][1],E=+t[1][1],n):[[N,S],[k,E]]},n.duration=function(t){return arguments.length?(A=+t,n):A},n.interpolate=function(t){return arguments.length?(C=t,n):C},n.on=function(){var t=P.on.apply(P,arguments);return t===P?n:t},n.clickDistance=function(t){return arguments.length?(q=(t=+t)*t,n):Math.sqrt(q)},n},t.zoomTransform=ia,t.zoomIdentity=pg,Object.defineProperty(t,"__esModule",{value:!0})});!function(){function n(n){for(var t=n.source,e=n.target,u=function(n,t){if(n===t)return n;var e=r(n),u=r(t),a=e.pop(),o=u.pop(),i=null;for(;a===o;)i=a,a=e.pop(),o=u.pop();return i}(t,e),a=[t];t!==u;)t=t.parent,a.push(t);for(var o=a.length;e!==u;)a.splice(o,0,e),e=e.parent;return a}function r(n){for(var r=[],t=n.parent;null!=t;)r.push(n),n=t,t=t.parent;return r.push(n),r}function t(n){n.fixed|=2}function e(n){n!==K&&(n.fixed&=1)}function u(){a(),K.fixed&=1,J=K=null}function a(){K.px+=d3v3.event.dx,K.py+=d3v3.event.dy,J.resume()}function o(n){return 20}function i(n){return 1}function c(n){return n.x}function f(n){return n.y}function l(n,r,t){n.y0=r,n.y=t}function h(n){for(var r,t=1,e=0,u=n[0][1],a=n.length;t<a;++t)(r=n[t][1])>u&&(e=t,u=r);return e}function v(n){return n.reduce(g,0)}function g(n,r){return n+r[1]}function p(n,r){return s(n,Math.ceil(Math.log(r.length)/Math.LN2+1))}function s(n,r){for(var t=-1,e=+n[0],u=(n[1]-e)/r,a=[];++t<=r;)a[t]=u*t+e;return a}function y(n){return[d3v3.min(n),d3v3.max(n)]}function x(n,r){return n.sort=d3v3.rebind(n,r.sort),n.children=d3v3.rebind(n,r.children),n.links=M,n.value=d3v3.rebind(n,r.value),n.nodes=function(r){return U=!0,(n.nodes=n)(r)},n}function m(n){return n.children}function _(n){return n.value}function k(n,r){return r.value-n.value}function M(n){return d3v3.merge(n.map(function(n){return(n.children||[]).map(function(r){return{source:n,target:r}})}))}function b(n,r){return n.value-r.value}function N(n,r){var t=n._pack_next;n._pack_next=r,r._pack_prev=n,r._pack_next=t,t._pack_prev=r}function z(n,r){n._pack_next=r,r._pack_prev=n}function q(n,r){var t=r.x-n.x,e=r.y-n.y,u=n.r+r.r;return u*u-t*t-e*e>.001}function A(n){n._pack_next=n._pack_prev=n}function w(n){delete n._pack_next,delete n._pack_prev}function E(n){var r=n.children;r&&r.length?(r.forEach(E),n.r=function(n){function r(n){i=Math.min(n.x-n.r,i),c=Math.max(n.x+n.r,c),f=Math.min(n.y-n.r,f),l=Math.max(n.y+n.r,l)}var t,e,u,a,o,i=1/0,c=-1/0,f=1/0,l=-1/0,h=n.length;if(n.forEach(A),(t=n[0]).x=-t.r,t.y=0,r(t),h>1&&((e=n[1]).x=e.r,e.y=0,r(e),h>2)){C(t,e,u=n[2]),r(u),N(t,u),t._pack_prev=u,N(u,e),e=t._pack_next;for(var v=3;v<h;v++){C(t,e,u=n[v]);var d=0,g=1,p=1;for(a=e._pack_next;a!==e;a=a._pack_next,g++)if(q(a,u)){d=1;break}if(1==d)for(o=t._pack_prev;o!==a._pack_prev;o=o._pack_prev,p++)if(q(o,u)){p<g&&(d=-1,a=o);break}0==d?(N(t,u),e=u,r(u)):d>0?(z(t,a),e=a,v--):(z(a,e),t=a,v--)}}var s=(i+c)/2,y=(f+l)/2,x=0;for(v=0;v<h;v++){var m=n[v];m.x-=s,m.y-=y,x=Math.max(x,m.r+Math.sqrt(m.x*m.x+m.y*m.y))}return n.forEach(w),x}(r)):n.r=Math.sqrt(n.value)}function C(n,r,t){var e=n.r+t.r,u=r.x-n.x,a=r.y-n.y;if(e&&(u||a)){var o=r.r+t.r,i=Math.sqrt(u*u+a*a),c=Math.max(-1,Math.min(1,(e*e+i*i-o*o)/(2*e*i))),f=Math.acos(c),l=c*(e/=i),h=Math.sin(f)*e;t.x=n.x+l*u+h*a,t.y=n.y+l*a-h*u}else t.x=n.x+e,t.y=n.y}function D(n,r){return n.parent==r.parent?1:2}function I(n){var r=n.children;return r&&r.length?r[0]:n._tree.thread}function P(n){var r,t=n.children;return t&&(r=t.length)?t[r-1]:n._tree.thread}function S(n,r){var t=n.children;if(t&&(u=t.length))for(var e,u,a=-1;++a<u;)r(e=S(t[a],r),n)>0&&(n=e);return n}function j(n,r){return n.x-r.x}function F(n,r){return r.x-n.x}function G(n,r){return n.depth-r.depth}function L(n,r){!function n(t,e){var u=t.children;if(u&&(o=u.length))for(var a,o,i=null,c=-1;++c<o;)a=u[c],n(a,i),i=a;r(t,e)}(n,null)}function O(n,r,t){n=n._tree;var e=t/((r=r._tree).number-n.number);n.change+=e,r.change-=e,r.shift+=t,r.prelim+=t,r.mod+=t}function B(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function H(n,r){var t=n.x+r[3],e=n.y+r[0],u=n.dx-r[1]-r[3],a=n.dy-r[0]-r[2];return u<0&&(t+=u/2,u=0),a<0&&(e+=a/2,a=0),{x:t,y:e,dx:u,dy:a}}d3v3.layout={},d3v3.layout.bundle=function(){return function(r){for(var t=[],e=-1,u=r.length;++e<u;)t.push(n(r[e]));return t}},d3v3.layout.chord=function(){function n(){var n,f,h,v,d,g={},p=[],s=d3v3.range(a),y=[];for(t=[],e=[],n=0,v=-1;++v<a;){for(f=0,d=-1;++d<a;)f+=u[v][d];p.push(f),y.push(d3v3.range(a)),n+=f}for(o&&s.sort(function(n,r){return o(p[n],p[r])}),i&&y.forEach(function(n,r){n.sort(function(n,t){return i(u[r][n],u[r][t])})}),n=(2*Math.PI-l*a)/n,f=0,v=-1;++v<a;){for(h=f,d=-1;++d<a;){var x=s[v],m=y[x][d],_=u[x][m],k=f,M=f+=_*n;g[x+"-"+m]={index:x,subindex:m,startAngle:k,endAngle:M,value:_}}e.push({index:x,startAngle:h,endAngle:f,value:(f-h)/n}),f+=l}for(v=-1;++v<a;)for(d=v-1;++d<a;){var b=g[v+"-"+d],N=g[d+"-"+v];(b.value||N.value)&&t.push(b.value<N.value?{source:N,target:b}:{source:b,target:N})}c&&r()}function r(){t.sort(function(n,r){return c((n.source.value+n.target.value)/2,(r.source.value+r.target.value)/2)})}var t,e,u,a,o,i,c,f={},l=0;return f.matrix=function(n){return arguments.length?(a=(u=n)&&u.length,t=e=null,f):u},f.padding=function(n){return arguments.length?(l=n,t=e=null,f):l},f.sortGroups=function(n){return arguments.length?(o=n,t=e=null,f):o},f.sortSubgroups=function(n){return arguments.length?(i=n,t=null,f):i},f.sortChords=function(n){return arguments.length?(c=n,t&&r(),f):c},f.chords=function(){return t||n(),t},f.groups=function(){return e||n(),e},f},d3v3.layout.force=function(){function n(n){return function(r,t,e,u,a){if(r.point!==n){var o=r.cx-n.x,i=r.cy-n.y,c=1/Math.sqrt(o*o+i*i);if((u-t)*c<M){var f=r.charge*c*c;return n.px-=o*f,n.py-=i*f,!0}if(r.point&&isFinite(c)){f=r.pointCharge*c*c;n.px-=o*f,n.py-=i*f}}return!r.charge}}function r(){var r,t,e,u,a,o,i,c,f,g=b.length,x=N.length;for(t=0;t<x;++t)u=(e=N[t]).source,(o=(c=(a=e.target).x-u.x)*c+(f=a.y-u.y)*f)&&(o=l*v[t]*((o=Math.sqrt(o))-h[t])/o,c*=o,f*=o,a.x-=c*(i=u.weight/(a.weight+u.weight)),a.y-=f*i,u.x+=c*(i=1-i),u.y+=f*i);if((i=l*k)&&(c=s[0]/2,f=s[1]/2,t=-1,i))for(;++t<g;)e=b[t],e.x+=(c-e.x)*i,e.y+=(f-e.y)*i;if(_)for(function n(r,t,e){var u=0,a=0;if(r.charge=0,!r.leaf)for(var o,i=r.nodes,c=i.length,f=-1;++f<c;)null!=(o=i[f])&&(n(o,t,e),r.charge+=o.charge,u+=o.charge*o.cx,a+=o.charge*o.cy);if(r.point){r.leaf||(r.point.x+=Math.random()-.5,r.point.y+=Math.random()-.5);var l=t*e[r.point.index];r.charge+=r.pointCharge=l,u+=l*r.point.x,a+=l*r.point.y}r.cx=u/r.charge,r.cy=a/r.charge}(r=d3v3.geom.quadtree(b),l,d),t=-1;++t<g;)(e=b[t]).fixed||r.visit(n(e));for(t=-1;++t<g;)e=b[t],e.fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*y,e.y-=(e.py-(e.py=e.y))*y);return p.tick({type:"tick",alpha:l}),(l*=.99)<.005}function c(n){t(K=n),J=g}var f,l,h,v,d,g={},p=d3v3.dispatch("tick"),s=[1,1],y=.9,x=o,m=i,_=-30,k=.1,M=.8,b=[],N=[];return g.on=function(n,r){return p.on(n,r),g},g.nodes=function(n){return arguments.length?(b=n,g):b},g.links=function(n){return arguments.length?(N=n,g):N},g.size=function(n){return arguments.length?(s=n,g):s},g.linkDistance=function(n){return arguments.length?(x=d3v3.functor(n),g):x},g.distance=g.linkDistance,g.linkStrength=function(n){return arguments.length?(m=d3v3.functor(n),g):m},g.friction=function(n){return arguments.length?(y=n,g):y},g.charge=function(n){return arguments.length?(_="function"==typeof n?n:+n,g):_},g.gravity=function(n){return arguments.length?(k=n,g):k},g.theta=function(n){return arguments.length?(M=n,g):M},g.start=function(){function n(n,u){for(var i,c=function(){if(!e){for(e=[],t=0;t<a;++t)e[t]=[];for(t=0;t<o;++t){var n=N[t];e[n.source.index].push(n.target),e[n.target.index].push(n.source)}}return e[r]}(),f=-1,l=c.length;++f<l;)if(!isNaN(i=c[f][n]))return i;return Math.random()*u}var r,t,e,u,a=b.length,o=N.length,i=s[0],c=s[1];for(r=0;r<a;++r)(u=b[r]).index=r,u.weight=0;for(h=[],v=[],r=0;r<o;++r)u=N[r],"number"==typeof u.source&&(u.source=b[u.source]),"number"==typeof u.target&&(u.target=b[u.target]),h[r]=x.call(this,u,r),v[r]=m.call(this,u,r),++u.source.weight,++u.target.weight;for(r=0;r<a;++r)u=b[r],isNaN(u.x)&&(u.x=n("x",i)),isNaN(u.y)&&(u.y=n("y",c)),isNaN(u.px)&&(u.px=u.x),isNaN(u.py)&&(u.py=u.y);if(d=[],"function"==typeof _)for(r=0;r<a;++r)d[r]=+_.call(this,b[r],r);else for(r=0;r<a;++r)d[r]=_;return g.resume()},g.resume=function(){return l=.1,d3v3.timer(r),g},g.stop=function(){return l=0,g},g.drag=function(){f||(f=d3v3.behavior.drag().on("dragstart",c).on("drag",a).on("dragend",u)),this.on("mouseover.force",t).on("mouseout.force",e).call(f)},g};var J,K;d3v3.layout.partition=function(){function n(n,e){var u=r.call(this,n,e);return function n(r,t,e,u){var a=r.children;if(r.x=t,r.y=r.depth*u,r.dx=e,r.dy=u,a&&(o=a.length)){var o,i,c,f=-1;for(e=r.value?e/r.value:0;++f<o;)n(i=a[f],t,c=i.value*e,u),t+=c}}(u[0],0,t[0],t[1]/function n(r){var t=r.children,e=0;if(t&&(u=t.length))for(var u,a=-1;++a<u;)e=Math.max(e,n(t[a]));return 1+e}(u[0])),u}var r=d3v3.layout.hierarchy(),t=[1,1];return n.size=function(r){return arguments.length?(t=r,n):t},x(n,r)},d3v3.layout.pie=function(){function n(a,o){var i=a.map(function(t,e){return+r.call(n,t,e)}),c=+("function"==typeof e?e.apply(this,arguments):e),f=(("function"==typeof u?u.apply(this,arguments):u)-e)/d3v3.sum(i),l=d3v3.range(a.length);null!=t&&l.sort(t===Q?function(n,r){return i[r]-i[n]}:function(n,r){return t(a[n],a[r])});var h=l.map(function(n){return{data:a[n],value:d=i[n],startAngle:c,endAngle:c+=d*f}});return a.map(function(n,r){return h[l[r]]})}var r=Number,t=Q,e=0,u=2*Math.PI;return n.value=function(t){return arguments.length?(r=t,n):r},n.sort=function(r){return arguments.length?(t=r,n):t},n.startAngle=function(r){return arguments.length?(e=r,n):e},n.endAngle=function(r){return arguments.length?(u=r,n):u},n};var Q={};d3v3.layout.stack=function(){function n(i,c){var f=i.map(function(t,e){return r.call(n,t,e)}),l=f.map(function(r,t){return r.map(function(r,t){return[a.call(n,r,t),o.call(n,r,t)]})}),h=t.call(n,l,c);f=d3v3.permute(f,h),l=d3v3.permute(l,h);var v,d,g,p=e.call(n,l,c),s=f.length,y=f[0].length;for(d=0;d<y;++d)for(u.call(n,f[0][d],g=p[d],l[0][d][1]),v=1;v<s;++v)u.call(n,f[v][d],g+=l[v-1][d][1],l[v][d][1]);return i}var r=Object,t=R.default,e=T.zero,u=l,a=c,o=f;return n.values=function(t){return arguments.length?(r=t,n):r},n.order=function(r){return arguments.length?(t="function"==typeof r?r:R[r],n):t},n.offset=function(r){return arguments.length?(e="function"==typeof r?r:T[r],n):e},n.x=function(r){return arguments.length?(a=r,n):a},n.y=function(r){return arguments.length?(o=r,n):o},n.out=function(r){return arguments.length?(u=r,n):u},n};var R={"inside-out":function(n){var r,t,e=n.length,u=n.map(h),a=n.map(v),o=d3v3.range(e).sort(function(n,r){return u[n]-u[r]}),i=0,c=0,f=[],l=[];for(r=0;r<e;++r)t=o[r],i<c?(i+=a[t],f.push(t)):(c+=a[t],l.push(t));return l.reverse().concat(f)},reverse:function(n){return d3v3.range(n.length).reverse()},default:function(n){return d3v3.range(n.length)}},T={silhouette:function(n){var r,t,e,u=n.length,a=n[0].length,o=[],i=0,c=[];for(t=0;t<a;++t){for(r=0,e=0;r<u;r++)e+=n[r][t][1];e>i&&(i=e),o.push(e)}for(t=0;t<a;++t)c[t]=(i-o[t])/2;return c},wiggle:function(n){var r,t,e,u,a,o,i,c,f,l=n.length,h=n[0],v=h.length,d=[];for(d[0]=c=f=0,t=1;t<v;++t){for(r=0,u=0;r<l;++r)u+=n[r][t][1];for(r=0,a=0,i=h[t][0]-h[t-1][0];r<l;++r){for(e=0,o=(n[r][t][1]-n[r][t-1][1])/(2*i);e<r;++e)o+=(n[e][t][1]-n[e][t-1][1])/i;a+=o*n[r][t][1]}d[t]=c-=u?a/u*i:0,c<f&&(f=c)}for(t=0;t<v;++t)d[t]-=f;return d},expand:function(n){var r,t,e,u=n.length,a=n[0].length,o=1/u,i=[];for(t=0;t<a;++t){for(r=0,e=0;r<u;r++)e+=n[r][t][1];if(e)for(r=0;r<u;r++)n[r][t][1]/=e;else for(r=0;r<u;r++)n[r][t][1]=o}for(t=0;t<a;++t)i[t]=0;return i},zero:function(n){for(var r=-1,t=n[0].length,e=[];++r<t;)e[r]=0;return e}};d3v3.layout.histogram=function(){function n(n,a){for(var o,i,c=[],f=n.map(t,this),l=e.call(this,f,a),h=u.call(this,l,f,a),v=(a=-1,f.length),d=h.length-1,g=r?1:1/v;++a<d;)o=c[a]=[],o.dx=h[a+1]-(o.x=h[a]),o.y=0;for(a=-1;++a<v;)i=f[a],i>=l[0]&&i<=l[1]&&(o=c[d3v3.bisect(h,i,1,d)-1],o.y+=g,o.push(n[a]));return c}var r=!0,t=Number,e=y,u=p;return n.value=function(r){return arguments.length?(t=r,n):t},n.range=function(r){return arguments.length?(e=d3v3.functor(r),n):e},n.bins=function(r){return arguments.length?(u="number"==typeof r?function(n){return s(n,r)}:d3v3.functor(r),n):u},n.frequency=function(t){return arguments.length?(r=!!t,n):r},n},d3v3.layout.hierarchy=function(){function n(u){var a=[];return function u(a,o,i){var c=t.call(n,a,o),f=U?a:{data:a};if(f.depth=o,i.push(f),c&&(l=c.length)){for(var l,h=-1,v=f.children=[],g=0,p=o+1;++h<l;)d=u(c[h],p,i),d.parent=f,v.push(d),g+=d.value;r&&v.sort(r),e&&(f.value=g)}else e&&(f.value=+e.call(n,a,o)||0);return f}(u,0,a),a}var r=k,t=m,e=_;return n.sort=function(t){return arguments.length?(r=t,n):r},n.children=function(r){return arguments.length?(t=r,n):t},n.value=function(r){return arguments.length?(e=r,n):e},n.revalue=function(r){return function r(t,u){var a=t.children,o=0;if(a&&(i=a.length))for(var i,c=-1,f=u+1;++c<i;)o+=r(a[c],f);else e&&(o=+e.call(n,U?t:t.data,u)||0);return e&&(t.value=o),o}(r,0),r},n};var U=!1;d3v3.layout.pack=function(){function n(n,e){var u=r.call(this,n,e),a=u[0];a.x=0,a.y=0,E(a);var o=t[0],i=t[1];return function n(r,t,e,u){var a=r.children;if(r.x=t+=u*r.x,r.y=e+=u*r.y,r.r*=u,a)for(var o=-1,i=a.length;++o<i;)n(a[o],t,e,u)}(a,o/2,i/2,1/Math.max(2*a.r/o,2*a.r/i)),u}var r=d3v3.layout.hierarchy().sort(b),t=[1,1];return n.size=function(r){return arguments.length?(t=r,n):t},x(n,r)},d3v3.layout.cluster=function(){function n(n,u){var a,o=r.call(this,n,u),i=o[0],c=0;L(i,function(n){var r=n.children;r&&r.length?(n.x=(u=r,u.reduce(function(n,r){return n+r.x},0)/u.length),n.y=(e=r,1+d3v3.max(e,function(n){return n.y}))):(n.x=a?c+=t(n,a):0,n.y=0,a=n);var e,u});var f=function n(r){var t=r.children;return t&&t.length?n(t[0]):r}(i),l=function n(r){var t,e=r.children;return e&&(t=e.length)?n(e[t-1]):r}(i),h=f.x-t(f,l)/2,v=l.x+t(l,f)/2;return L(i,function(n){n.x=(n.x-h)/(v-h)*e[0],n.y=(1-n.y/i.y)*e[1]}),o}var r=d3v3.layout.hierarchy().sort(null).value(null),t=D,e=[1,1];return n.separation=function(r){return arguments.length?(t=r,n):t},n.size=function(r){return arguments.length?(e=r,n):e},x(n,r)},d3v3.layout.tree=function(){function n(n,u){function a(n,r,e){if(r){for(var u,a=n,o=n,i=r,c=n.parent.children[0],f=a._tree.mod,l=o._tree.mod,h=i._tree.mod,v=c._tree.mod;i=P(i),a=I(a),i&&a;)c=I(c),o=P(o),o._tree.ancestor=n,u=i._tree.prelim+h-a._tree.prelim-f+t(i,a),u>0&&(O((d=i,g=n,p=e,d._tree.ancestor.parent==g.parent?d._tree.ancestor:p),n,u),f+=u,l+=u),h+=i._tree.mod,f+=a._tree.mod,v+=c._tree.mod,l+=o._tree.mod;i&&!P(o)&&(o._tree.thread=i,o._tree.mod+=h-l),a&&!I(c)&&(c._tree.thread=a,c._tree.mod+=f-v,e=n)}var d,g,p;return e}var o=r.call(this,n,u),i=o[0];L(i,function(n,r){n._tree={ancestor:n,prelim:0,mod:0,change:0,shift:0,number:r?r._tree.number+1:0}}),function n(r,e){var u=r.children,o=r._tree;if(u&&(i=u.length)){for(var i,c,f,l=u[0],h=l,v=-1;++v<i;)f=u[v],n(f,c),h=a(f,c,h),c=f;!function(n){for(var r,t=0,e=0,u=n.children,a=u.length;--a>=0;)r=u[a]._tree,r.prelim+=t,r.mod+=t,t+=r.shift+(e+=r.change)}(r);var d=.5*(l._tree.prelim+f._tree.prelim);e?(o.prelim=e._tree.prelim+t(r,e),o.mod=o.prelim-d):o.prelim=d}else e&&(o.prelim=e._tree.prelim+t(r,e))}(i),function n(r,t){r.x=r._tree.prelim+t;var e=r.children;if(e&&(u=e.length)){var u,a=-1;for(t+=r._tree.mod;++a<u;)n(e[a],t)}}(i,-i._tree.prelim);var c=S(i,F),f=S(i,j),l=S(i,G),h=c.x-t(c,f)/2,v=f.x+t(f,c)/2,d=l.depth||1;return L(i,function(n){n.x=(n.x-h)/(v-h)*e[0],n.y=n.depth/d*e[1],delete n._tree}),o}var r=d3v3.layout.hierarchy().sort(null).value(null),t=D,e=[1,1];return n.separation=function(r){return arguments.length?(t=r,n):t},n.size=function(r){return arguments.length?(e=r,n):e},x(n,r)},d3v3.layout.treemap=function(){function n(n,r){for(var t,e,u=-1,a=n.length;++u<a;)e=(t=n[u]).value*(r<0?0:r),t.area=isNaN(e)||e<=0?0:e}function r(t){var a=t.children;if(a&&a.length){var o,i,c,f=h(t),l=[],v=a.slice(),d=1/0,g=Math.min(f.dx,f.dy);for(n(v,f.dx*f.dy/t.value),l.area=0;(c=v.length)>0;)l.push(o=v[c-1]),l.area+=o.area,(i=e(l,g))<=d?(v.pop(),d=i):(l.area-=l.pop().area,u(l,g,f,!1),g=Math.min(f.dx,f.dy),l.length=l.area=0,d=1/0);l.length&&(u(l,g,f,!0),l.length=l.area=0),a.forEach(r)}}function t(r){var e=r.children;if(e&&e.length){var a,o=h(r),i=e.slice(),c=[];for(n(i,o.dx*o.dy/r.value),c.area=0;a=i.pop();)c.push(a),c.area+=a.area,null!=a.z&&(u(c,a.z?o.dx:o.dy,o,!i.length),c.length=c.area=0);e.forEach(t)}}function e(n,r){for(var t,e=n.area,u=0,a=1/0,o=-1,i=n.length;++o<i;)(t=n[o].area)&&(t<a&&(a=t),t>u&&(u=t));return r*=r,(e*=e)?Math.max(r*u*d/e,e/(r*a*d)):1/0}function u(n,r,t,e){var u,a=-1,o=n.length,i=t.x,f=t.y,l=r?c(n.area/r):0;if(r==t.dx){for((e||l>t.dy)&&(l=l?t.dy:0);++a<o;)u=n[a],u.x=i,u.y=f,u.dy=l,i+=u.dx=l?c(u.area/l):0;u.z=!0,u.dx+=t.x+t.dx-i,t.y+=l,t.dy-=l}else{for((e||l>t.dx)&&(l=l?t.dx:0);++a<o;)u=n[a],u.x=i,u.y=f,u.dx=l,f+=u.dy=l?c(u.area/l):0;u.z=!1,u.dy+=t.y+t.dy-f,t.x+=l,t.dx-=l}}function a(e){var u=o||i(e),a=u[0];return a.x=0,a.y=0,a.dx=f[0],a.dy=f[1],o&&i.revalue(a),n([a],a.dx*a.dy/a.value),(o?t:r)(a),v&&(o=u),u}var o,i=d3v3.layout.hierarchy(),c=Math.round,f=[1,1],l=null,h=B,v=!1,d=.5*(1+Math.sqrt(5));return a.size=function(n){return arguments.length?(f=n,a):f},a.padding=function(n){function r(r){return H(r,n)}if(!arguments.length)return l;var t;return h=null==(l=n)?B:"function"==(t=typeof n)?function(r){var t=n.call(a,r,r.depth);return null==t?B(r):H(r,"number"==typeof t?[t,t,t,t]:t)}:"number"===t?(n=[n,n,n,n],r):r,a},a.round=function(n){return arguments.length?(c=n?Math.round:Number,a):c!=Number},a.sticky=function(n){return arguments.length?(v=n,o=null,a):v},a.ratio=function(n){return arguments.length?(d=n,a):d},x(a,i)}}();!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.d3pie=e()}(this,function(){var t=0,e={header:{title:{text:"",color:"#333333",fontSize:18,font:"arial"},subtitle:{text:"",color:"#666666",fontSize:14,font:"arial"},location:"top-center",titleSubtitlePadding:8},footer:{text:"",color:"#666666",fontSize:14,font:"arial",location:"left"},size:{canvasHeight:500,canvasWidth:500,pieInnerRadius:"0%",pieOuterRadius:null},data:{sortOrder:"none",ignoreSmallSegments:{enabled:!1,valueType:"percentage",value:null},smallSegmentGrouping:{enabled:!1,value:1,valueType:"percentage",label:"Other",color:"#cccccc"},content:[]},labels:{outer:{format:"label",hideWhenLessThanPercentage:null,pieDistance:30},inner:{format:"percentage",hideWhenLessThanPercentage:null},mainLabel:{color:"#333333",font:"arial",fontSize:10},percentage:{color:"#dddddd",font:"arial",fontSize:10,decimalPlaces:0},value:{color:"#cccc44",font:"arial",fontSize:10},lines:{enabled:!0,style:"curved",color:"segment"},truncation:{enabled:!1,truncateLength:30},formatter:null},effects:{load:{effect:"default",speed:1e3},pullOutSegmentOnClick:{effect:"bounce",speed:300,size:10},highlightSegmentOnMouseover:!0,highlightLuminosity:-.2},tooltips:{enabled:!1,type:"placeholder",string:"",placeholderParser:null,styles:{fadeInSpeed:250,backgroundColor:"#000000",backgroundOpacity:.5,color:"#efefef",borderRadius:2,font:"arial",fontSize:10,padding:4}},misc:{colors:{background:null,segments:["#2484c1","#65a620","#7b6888","#a05d56","#961a1a","#d8d23a","#e98125","#d0743c","#635222","#6ada6a","#0c6197","#7d9058","#207f33","#44b9b0","#bca44a","#e4a14b","#a3acb2","#8cc3e9","#69a6f9","#5b388f","#546e91","#8bde95","#d2ab58","#273c71","#98bf6e","#4daa4b","#98abc5","#cc1010","#31383b","#006391","#c2643f","#b0a474","#a5a39c","#a9c2bc","#22af8c","#7fcecf","#987ac6","#3d3b87","#b77b1c","#c9c2b6","#807ece","#8db27c","#be66a2","#9ed3c6","#00644b","#005064","#77979f","#77e079","#9c73ab","#1f79a7"],segmentStroke:"#ffffff"},gradient:{enabled:!1,percentage:95,color:"#000000"},canvasPadding:{top:5,right:5,bottom:5,left:5},pieCenterOffset:{x:0,y:0},cssPrefix:null},callbacks:{onload:null,onMouseoverSegment:null,onMouseoutSegment:null,onClickSegment:null}},n=function(t){var e=t.cssPrefix,n=t.element,a=t.options;if(!window.d3||!window.d3.hasOwnProperty("version"))return console.error("d3pie error: d3 is not available"),!1;if(!(n instanceof HTMLElement||n instanceof SVGElement))return console.error("d3pie error: the first d3pie() param must be a valid DOM element (not jQuery) or a ID string."),!1;if(!/[a-zA-Z][a-zA-Z0-9_-]*$/.test(e))return console.error("d3pie error: invalid options.misc.cssPrefix"),!1;if(!o.isArray(a.data.content))return console.error("d3pie error: invalid config structure: missing data.content property."),!1;if(0===a.data.content.length)return console.error("d3pie error: no data supplied."),!1;for(var i=[],s=0;s<a.data.content.length;s++)"number"!=typeof a.data.content[s].value||isNaN(a.data.content[s].value)?console.log("not valid: ",a.data.content[s]):a.data.content[s].value<=0?console.log("not valid - should have positive value: ",a.data.content[s]):i.push(a.data.content[s]);return t.options.data.content=i,!0},o={addSVGSpace:function(t){var e=t.element,n=t.options.size.canvasWidth,o=t.options.size.canvasHeight,a=t.options.misc.colors.background,i=d3.select(e).append("svg:svg").attr("width",n).attr("height",o);return"transparent"!==a&&i.style("background-color",function(){return a}),i},whenIdExists:function(t,e){var n=1,o=setInterval(function(){document.getElementById(t)&&(clearInterval(o),e()),n>1e3&&clearInterval(o),n++},1)},whenElementsExist:function(t,e){var n=1,o=setInterval(function(){for(var a=!0,i=0;i<t.length;i++)if(!document.getElementById(t[i])){a=!1;break}a&&(clearInterval(o),e()),n>1e3&&clearInterval(o),n++},1)},shuffleArray:function(t){for(var e,n,o=t.length;0!==o;)n=Math.floor(Math.random()*o),o-=1,e=t[o],t[o]=t[n],t[n]=e;return t},processObj:function(t,e,n){return"string"==typeof e?o.processObj(t,e.split("."),n):1===e.length&&void 0!==n?(t[e[0]]=n,t[e[0]]):0===e.length?t:o.processObj(t[e[0]],e.slice(1),n)},getDimensions:function(t){var e=document.getElementById(t),n=0,o=0;if(e){var a=e.getBBox();n=a.width,o=a.height}else console.log("error: getDimensions() "+t+" not found.");return{w:n,h:o}},rectIntersect:function(t,e){return!(e.x>t.x+t.w||e.x+e.w<t.x||e.y+e.h<t.y||e.y>t.y+t.h)},getColorShade:function(t,e){(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;for(var n="#",o=0;3>o;o++){var a=parseInt(t.substr(2*o,2),16);n+=("00"+(a=Math.round(Math.min(Math.max(0,a+a*e),255)).toString(16))).substr(a.length)}return n},initSegmentColors:function(t){for(var e=t.options.data.content,n=t.options.misc.colors.segments,o=[],a=0;a<e.length;a++)e[a].hasOwnProperty("color")?o.push(e[a].color):o.push(n[a]);return o},applySmallSegmentGrouping:function(t,e){var n;"percentage"===e.valueType&&(n=i.getTotalPieSize(t));for(var o=[],a=[],s=0,r=0;r<t.length;r++)if("percentage"===e.valueType){if(t[r].value/n*100<=e.value){a.push(t[r]),s+=t[r].value;continue}t[r].isGrouped=!1,o.push(t[r])}else{if(t[r].value<=e.value){a.push(t[r]),s+=t[r].value;continue}t[r].isGrouped=!1,o.push(t[r])}return a.length&&o.push({color:e.color,label:e.label,value:s,isGrouped:!0,groupedData:a}),o},showPoint:function(t,e,n){t.append("circle").attr("cx",e).attr("cy",n).attr("r",2).style("fill","black")},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},a=function(){var t,e,n,o,i,s,r=arguments[0]||{},l=1,c=arguments.length,u=!1,p=Object.prototype.toString,d=Object.prototype.hasOwnProperty,f={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},h={isFunction:function(t){return"function"===h.type(t)},isArray:Array.isArray||function(t){return"array"===h.type(t)},isWindow:function(t){return null!==t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null===t?String(t):f[p.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==h.type(t)||t.nodeType)return!1;try{if(t.constructor&&!d.call(t,"constructor")&&!d.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var e;for(e in t);return void 0===e||d.call(t,e)}};for("boolean"==typeof r&&(u=r,r=arguments[1]||{},l=2),"object"==typeof r||h.isFunction(r)||(r={}),c===l&&(r=this,--l);c>l;l++)if(null!==(t=arguments[l]))for(e in t)n=r[e],o=t[e],r!==o&&(u&&o&&(h.isPlainObject(o)||(i=h.isArray(o)))?(i?(i=!1,s=n&&h.isArray(n)?n:[]):s=n&&h.isPlainObject(n)?n:{},r[e]=a(u,s,o)):void 0!==o&&(r[e]=o));return r},i={toRadians:function(t){return t*(Math.PI/180)},toDegrees:function(t){return t*(180/Math.PI)},computePieRadius:function(t){var e=t.options.size,n=t.options.misc.canvasPadding,o=e.canvasWidth-n.left-n.right,a=e.canvasHeight-n.top-n.bottom;"pie-center"!==t.options.header.location&&(a-=t.textComponents.headerHeight),t.textComponents.footer.exists&&(a-=t.textComponents.footer.h);var i,s,r=((a=0>a?0:a)>o?o:a)/3;if(null!==e.pieOuterRadius)if(/%/.test(e.pieOuterRadius)){s=0>(s=(s=parseInt(e.pieOuterRadius.replace(/[\D]/,""),10))>99?99:s)?0:s;var l=a>o?o:a;if("none"!==t.options.labels.outer.format){var c=2*parseInt(t.options.labels.outer.pieDistance,10);l-c>0&&(l-=c)}r=Math.floor(l/100*s)/2}else r=parseInt(e.pieOuterRadius,10);/%/.test(e.pieInnerRadius)?(s=0>(s=(s=parseInt(e.pieInnerRadius.replace(/[\D]/,""),10))>99?99:s)?0:s,i=Math.floor(r/100*s)):i=parseInt(e.pieInnerRadius,10),t.innerRadius=i,t.outerRadius=r},getTotalPieSize:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].value;return e},sortPieData:function(t){var e=t.options.data.content;switch(t.options.data.sortOrder){case"none":break;case"random":e=o.shuffleArray(e);break;case"value-asc":e.sort(function(t,e){return t.value<e.value?-1:1});break;case"value-desc":e.sort(function(t,e){return t.value<e.value?1:-1});break;case"label-asc":e.sort(function(t,e){return t.label.toLowerCase()>e.label.toLowerCase()?1:-1});break;case"label-desc":e.sort(function(t,e){return t.label.toLowerCase()<e.label.toLowerCase()?1:-1})}return e},getPieTranslateCenter:function(t){return"translate("+t.x+","+t.y+")"},calculatePieCenter:function(t){var e=t.options.misc.pieCenterOffset,n=t.textComponents.title.exists&&"pie-center"!==t.options.header.location,o=t.textComponents.subtitle.exists&&"pie-center"!==t.options.header.location,a=t.options.misc.canvasPadding.top;n&&o?a+=t.textComponents.title.h+t.options.header.titleSubtitlePadding+t.textComponents.subtitle.h:n?a+=t.textComponents.title.h:o&&(a+=t.textComponents.subtitle.h);var i=0;t.textComponents.footer.exists&&(i=t.textComponents.footer.h+t.options.misc.canvasPadding.bottom);var s=(t.options.size.canvasWidth-t.options.misc.canvasPadding.left-t.options.misc.canvasPadding.right)/2+t.options.misc.canvasPadding.left,r=(t.options.size.canvasHeight-i-a)/2+a;s+=e.x,r+=e.y,t.pieCenter={x:s,y:r}},rotate:function(t,e,n,o,a){a=a*Math.PI/180;var i=Math.cos,s=Math.sin;return{x:(t-n)*i(a)-(e-o)*s(a)+n,y:(t-n)*s(a)+(e-o)*i(a)+o}},translate:function(t,e,n,o){var a=i.toRadians(o);return{x:t+n*Math.sin(a),y:e-n*Math.cos(a)}},pointIsInArc:function(t,e,n){var o=n.innerRadius()(e),a=n.outerRadius()(e),i=n.startAngle()(e),s=n.endAngle()(e),r=t.x*t.x+t.y*t.y,l=Math.atan2(t.x,-t.y);return l=0>l?l+2*Math.PI:l,r>=o*o&&a*a>=r&&l>=i&&s>=l}},s={add:function(t,e,n){var o=s.getIncludes(n),a=t.options.labels,i=t.svg.insert("g","."+t.cssPrefix+"labels-"+e).attr("class",t.cssPrefix+"labels-"+e).selectAll("."+t.cssPrefix+"labelGroup-"+e).data(t.options.data.content).enter().append("g").attr("id",function(n,o){return t.cssPrefix+"labelGroup"+o+"-"+e}).attr("data-index",function(t,e){return e}).attr("class",t.cssPrefix+"labelGroup-"+e).style("opacity",0),r={section:e,sectionDisplayType:n};o.mainLabel&&i.append("text").attr("id",function(n,o){return t.cssPrefix+"segmentMainLabel"+o+"-"+e}).attr("class",t.cssPrefix+"segmentMainLabel-"+e).text(function(t,e){var n=t.label;return a.formatter?(r.index=e,r.part="mainLabel",r.value=t.value,r.label=n,n=a.formatter(r)):a.truncation.enabled&&t.label.length>a.truncation.truncateLength&&(n=t.label.substring(0,a.truncation.truncateLength)+"..."),n}).style("font-size",a.mainLabel.fontSize+"px").style("font-family",a.mainLabel.font).style("fill",a.mainLabel.color),o.percentage&&i.append("text").attr("id",function(n,o){return t.cssPrefix+"segmentPercentage"+o+"-"+e}).attr("class",t.cssPrefix+"segmentPercentage-"+e).text(function(t,e){var n=t.percentage;return a.formatter?(r.index=e,r.part="percentage",r.value=t.value,r.label=t.percentage,n=a.formatter(r)):n+="%",n}).style("font-size",a.percentage.fontSize+"px").style("font-family",a.percentage.font).style("fill",a.percentage.color),o.value&&i.append("text").attr("id",function(n,o){return t.cssPrefix+"segmentValue"+o+"-"+e}).attr("class",t.cssPrefix+"segmentValue-"+e).text(function(t,e){return r.index=e,r.part="value",r.value=t.value,r.label=t.value,a.formatter?a.formatter(r,t.value):t.value}).style("font-size",a.value.fontSize+"px").style("font-family",a.value.font).style("fill",a.value.color)},positionLabelElements:function(t,e,n){s["dimensions-"+e]=[];d3.selectAll("."+t.cssPrefix+"labelGroup-"+e).each(function(n,o){var a=d3.select(this).selectAll("."+t.cssPrefix+"segmentMainLabel-"+e),i=d3.select(this).selectAll("."+t.cssPrefix+"segmentPercentage-"+e),r=d3.select(this).selectAll("."+t.cssPrefix+"segmentValue-"+e);s["dimensions-"+e].push({mainLabel:null!==a.node()?a.node().getBBox():null,percentage:null!==i.node()?i.node().getBBox():null,value:null!==r.node()?r.node().getBBox():null})});var o=s["dimensions-"+e];switch(n){case"label-value1":d3.selectAll("."+t.cssPrefix+"segmentValue-"+e).attr("dx",function(t,e){return o[e].mainLabel.width+5});break;case"label-value2":d3.selectAll("."+t.cssPrefix+"segmentValue-"+e).attr("dy",function(t,e){return o[e].mainLabel.height});break;case"label-percentage1":d3.selectAll("."+t.cssPrefix+"segmentPercentage-"+e).attr("dx",function(t,e){return o[e].mainLabel.width+5});break;case"label-percentage2":d3.selectAll("."+t.cssPrefix+"segmentPercentage-"+e).attr("dx",function(t,e){return o[e].mainLabel.width/2-o[e].percentage.width/2}).attr("dy",function(t,e){return o[e].mainLabel.height})}},computeLabelLinePositions:function(t){t.lineCoordGroups=[],d3.selectAll("."+t.cssPrefix+"labelGroup-outer").each(function(e,n){return s.computeLinePosition(t,n)})},computeLinePosition:function(t,e){var n,o,a,s,l=r.getSegmentAngle(e,t.options.data.content,t.totalSize,{midpoint:!0}),c=i.rotate(t.pieCenter.x,t.pieCenter.y-t.outerRadius,t.pieCenter.x,t.pieCenter.y,l),u=t.outerLabelGroupData[e].h/5,p=Math.floor(l/90);switch(2===p&&180===l&&(p=1),p){case 0:n=t.outerLabelGroupData[e].x-6-(t.outerLabelGroupData[e].x-6-c.x)/2,o=t.outerLabelGroupData[e].y+(c.y-t.outerLabelGroupData[e].y)/4,a=t.outerLabelGroupData[e].x-6,s=t.outerLabelGroupData[e].y-u;break;case 1:n=c.x+(t.outerLabelGroupData[e].x-c.x)/4,o=c.y+(t.outerLabelGroupData[e].y-c.y)/4,a=t.outerLabelGroupData[e].x-6,s=t.outerLabelGroupData[e].y-u;break;case 2:var d=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+6;n=c.x-(c.x-d)/4,o=c.y+(t.outerLabelGroupData[e].y-c.y)/4,a=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+6,s=t.outerLabelGroupData[e].y-u;break;case 3:var f=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+6;n=f+(c.x-f)/4,o=t.outerLabelGroupData[e].y+(c.y-t.outerLabelGroupData[e].y)/4,a=t.outerLabelGroupData[e].x+t.outerLabelGroupData[e].w+6,s=t.outerLabelGroupData[e].y-u}"straight"===t.options.labels.lines.style?t.lineCoordGroups[e]=[{x:c.x,y:c.y},{x:a,y:s}]:t.lineCoordGroups[e]=[{x:c.x,y:c.y},{x:n,y:o},{x:a,y:s}]},addLabelLines:function(t){var e=t.svg.insert("g","."+t.cssPrefix+"pieChart").attr("class",t.cssPrefix+"lineGroups").style("opacity",0).selectAll("."+t.cssPrefix+"lineGroup").data(t.lineCoordGroups).enter().append("g").attr("class",t.cssPrefix+"lineGroup"),n=d3.line().curve(d3.curveBasis).x(function(t){return t.x}).y(function(t){return t.y});e.append("path").attr("d",n).attr("stroke",function(e,n){return"segment"===t.options.labels.lines.color?t.options.colors[n]:t.options.labels.lines.color}).attr("stroke-width",1).attr("fill","none").style("opacity",function(e,n){var o=t.options.labels.outer.hideWhenLessThanPercentage;return null!==o&&e.percentage<o||""===t.options.data.content[n].label?0:1})},positionLabelGroups:function(t,e){"none"!==t.options.labels[e].format&&d3.selectAll("."+t.cssPrefix+"labelGroup-"+e).style("opacity",0).attr("transform",function(n,s){var l,c;if("outer"===e)l=t.outerLabelGroupData[s].x,c=t.outerLabelGroupData[s].y;else{var u=a(!0,{},t.pieCenter);if(t.innerRadius>0){var p=r.getSegmentAngle(s,t.options.data.content,t.totalSize,{midpoint:!0}),d=i.translate(t.pieCenter.x,t.pieCenter.y,t.innerRadius,p);u.x=d.x,u.y=d.y}var f=o.getDimensions(t.cssPrefix+"labelGroup"+s+"-inner"),h=f.w/2,g=f.h/4;l=u.x+(t.lineCoordGroups[s][0].x-u.x)/1.8,c=u.y+(t.lineCoordGroups[s][0].y-u.y)/1.8,l-=h,c+=g}return"translate("+l+","+c+")"})},fadeInLabelsAndLines:function(t){var e="default"===t.options.effects.load.effect?t.options.effects.load.speed:1;setTimeout(function(){var e="default"===t.options.effects.load.effect?400:1;d3.selectAll("."+t.cssPrefix+"labelGroup-outer").transition().duration(e).style("opacity",function(e,n){var o=t.options.labels.outer.hideWhenLessThanPercentage;return null!==o&&e.percentage<o?0:1}),d3.selectAll("."+t.cssPrefix+"labelGroup-inner").transition().duration(e).style("opacity",function(e,n){var o=t.options.labels.inner.hideWhenLessThanPercentage;return null!==o&&e.percentage<o?0:1}),d3.selectAll("g."+t.cssPrefix+"lineGroups").transition().duration(e).style("opacity",1),o.isFunction(t.options.callbacks.onload)&&setTimeout(function(){try{t.options.callbacks.onload()}catch(t){}},e)},e)},getIncludes:function(t){var e=!1,n=!1,o=!1;switch(t){case"label":e=!0;break;case"value":n=!0;break;case"percentage":o=!0;break;case"label-value1":case"label-value2":e=!0,n=!0;break;case"label-percentage1":case"label-percentage2":e=!0,o=!0}return{mainLabel:e,value:n,percentage:o}},computeOuterLabelCoords:function(t){t.svg.selectAll("."+t.cssPrefix+"labelGroup-outer").each(function(e,n){return s.getIdealOuterLabelPositions(t,n)}),s.resolveOuterLabelCollisions(t)},resolveOuterLabelCollisions:function(t){if("none"!==t.options.labels.outer.format){var e=t.options.data.content.length;s.checkConflict(t,0,"clockwise",e),s.checkConflict(t,e-1,"anticlockwise",e)}},checkConflict:function(t,e,n,a){var i,r;if(!(1>=a)){var l=t.outerLabelGroupData[e].hs;if(!("clockwise"===n&&"right"!==l||"anticlockwise"===n&&"left"!==l)){var c="clockwise"===n?e+1:e-1,u=t.outerLabelGroupData[e],p=t.outerLabelGroupData[c],d={labelHeights:t.outerLabelGroupData[0].h,center:t.pieCenter,lineLength:t.outerRadius+t.options.labels.outer.pieDistance,heightChange:t.outerLabelGroupData[0].h+1};if("clockwise"===n){for(i=0;e>=i;i++)if(r=t.outerLabelGroupData[i],!s.isLabelHidden(t,i)&&o.rectIntersect(r,p)){s.adjustLabelPos(t,c,u,d);break}}else for(i=a-1;i>=e;i--)if(r=t.outerLabelGroupData[i],!s.isLabelHidden(t,i)&&o.rectIntersect(r,p)){s.adjustLabelPos(t,c,u,d);break}s.checkConflict(t,c,n,a)}}},isLabelHidden:function(t,e){var n=t.options.labels.outer.hideWhenLessThanPercentage;return null!==n&&d.percentage<n||""===t.options.data.content[e].label},adjustLabelPos:function(t,e,n,o){var a,i,s,r;r=n.y+o.heightChange,i=o.center.y-r,a=Math.abs(o.lineLength)>Math.abs(i)?Math.sqrt(o.lineLength*o.lineLength-i*i):Math.sqrt(i*i-o.lineLength*o.lineLength),s="right"===n.hs?o.center.x+a:o.center.x-a-t.outerLabelGroupData[e].w,t.outerLabelGroupData[e].x=s,t.outerLabelGroupData[e].y=r},getIdealOuterLabelPositions:function(t,e){var n=d3.select("#"+t.cssPrefix+"labelGroup"+e+"-outer").node();if(n){var o=n.getBBox(),a=r.getSegmentAngle(e,t.options.data.content,t.totalSize,{midpoint:!0}),s=t.pieCenter.x,l=t.pieCenter.y-(t.outerRadius+t.options.labels.outer.pieDistance),c=i.rotate(s,l,t.pieCenter.x,t.pieCenter.y,a),u="right";a>180?(c.x-=o.width+8,u="left"):c.x+=8,t.outerLabelGroupData[e]={x:c.x,y:c.y,w:o.width,h:o.height,hs:u}}}},r={effectMap:{none:d3.easeLinear,bounce:d3.easeBounce,linear:d3.easeLinear,sin:d3.easeSin,elastic:d3.easeElastic,back:d3.easeBack,quad:d3.easeQuad,circle:d3.easeCircle,exp:d3.easeExp},create:function(t){var e=t.pieCenter,n=t.options.colors,o=t.options.effects.load,a=t.options.misc.colors.segmentStroke,s=t.svg.insert("g","#"+t.cssPrefix+"title").attr("transform",function(){return i.getPieTranslateCenter(e)}).attr("class",t.cssPrefix+"pieChart"),l=d3.arc().innerRadius(t.innerRadius).outerRadius(t.outerRadius).startAngle(0).endAngle(function(e){return e.value/t.totalSize*2*Math.PI}),c=s.selectAll("."+t.cssPrefix+"arc").data(t.options.data.content).enter().append("g").attr("class",t.cssPrefix+"arc"),u=o.speed;"none"===o.effect&&(u=0),c.append("path").attr("id",function(e,n){return t.cssPrefix+"segment"+n}).attr("fill",function(e,o){var a=n[o];return t.options.misc.gradient.enabled&&(a="url(#"+t.cssPrefix+"grad"+o+")"),a}).style("stroke",a).style("stroke-width",1).transition().ease(d3.easeCubicInOut).duration(u).attr("data-index",function(t,e){return e}).attrTween("d",function(e){var n=d3.interpolate({value:0},e);return function(e){return t.arc(n(e))}}),t.svg.selectAll("g."+t.cssPrefix+"arc").attr("transform",function(e,n){var o=0;return n>0&&(o=r.getSegmentAngle(n-1,t.options.data.content,t.totalSize)),"rotate("+o+")"}),t.arc=l},addGradients:function(t){var e=t.svg.append("defs").selectAll("radialGradient").data(t.options.data.content).enter().append("radialGradient").attr("gradientUnits","userSpaceOnUse").attr("cx",0).attr("cy",0).attr("r","120%").attr("id",function(e,n){return t.cssPrefix+"grad"+n});e.append("stop").attr("offset","0%").style("stop-color",function(e,n){return t.options.colors[n]}),e.append("stop").attr("offset",t.options.misc.gradient.percentage+"%").style("stop-color",t.options.misc.gradient.color)},addSegmentEventHandlers:function(t){var e=d3.selectAll("."+t.cssPrefix+"arc,."+t.cssPrefix+"labelGroup-inner,."+t.cssPrefix+"labelGroup-outer");e.on("click",function(){var e,n=d3.select(this);if(n.attr("class")===t.cssPrefix+"arc")e=n.select("path");else{var o=n.attr("data-index");e=d3.select("#"+t.cssPrefix+"segment"+o)}var a=e.attr("class")===t.cssPrefix+"expanded";r.onSegmentEvent(t,t.options.callbacks.onClickSegment,e,a),"none"!==t.options.effects.pullOutSegmentOnClick.effect&&(a?r.closeSegment(t,e.node()):r.openSegment(t,e.node()))}),e.on("mouseover",function(){var e,n,a=d3.select(this);if(a.attr("class")===t.cssPrefix+"arc"?e=a.select("path"):(n=a.attr("data-index"),e=d3.select("#"+t.cssPrefix+"segment"+n)),t.options.effects.highlightSegmentOnMouseover){n=e.attr("data-index");var i=t.options.colors[n];e.style("fill",o.getColorShade(i,t.options.effects.highlightLuminosity))}t.options.tooltips.enabled&&(n=e.attr("data-index"),c.showTooltip(t,n));var s=e.attr("class")===t.cssPrefix+"expanded";r.onSegmentEvent(t,t.options.callbacks.onMouseoverSegment,e,s)}),e.on("mousemove",function(){c.moveTooltip(t)}),e.on("mouseout",function(){var e,n,o=d3.select(this);if(o.attr("class")===t.cssPrefix+"arc"?e=o.select("path"):(n=o.attr("data-index"),e=d3.select("#"+t.cssPrefix+"segment"+n)),t.options.effects.highlightSegmentOnMouseover){n=e.attr("data-index");var a=t.options.colors[n];t.options.misc.gradient.enabled&&(a="url(#"+t.cssPrefix+"grad"+n+")"),e.style("fill",a)}t.options.tooltips.enabled&&(n=e.attr("data-index"),c.hideTooltip(t,n));var i=e.attr("class")===t.cssPrefix+"expanded";r.onSegmentEvent(t,t.options.callbacks.onMouseoutSegment,e,i)})},onSegmentEvent:function(t,e,n,a){if(o.isFunction(e)){var i=parseInt(n.attr("data-index"),10);e({segment:n.node(),index:i,expanded:a,data:t.options.data.content[i]})}},openSegment:function(t,e){t.isOpeningSegment||(t.isOpeningSegment=!0,r.maybeCloseOpenSegment(),d3.select(e).transition().ease(r.effectMap[t.options.effects.pullOutSegmentOnClick.effect]).duration(t.options.effects.pullOutSegmentOnClick.speed).attr("transform",function(e,n){var o=t.arc.centroid(e),a=o[0],i=o[1],s=Math.sqrt(a*a+i*i),r=parseInt(t.options.effects.pullOutSegmentOnClick.size,10);return"translate("+a/s*r+","+i/s*r+")"}).on("end",function(n,o){t.currentlyOpenSegment=e,t.isOpeningSegment=!1,d3.select(e).attr("class",t.cssPrefix+"expanded")}))},maybeCloseOpenSegment:function(){d3.selectAll("."+pie.cssPrefix+"expanded").size()>0&&r.closeSegment(pie,d3.select("."+pie.cssPrefix+"expanded").node())},closeSegment:function(t,e){d3.select(e).transition().duration(400).attr("transform","translate(0,0)").on("end",function(n,o){d3.select(e).attr("class",""),t.currentlyOpenSegment=null})},getCentroid:function(t){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}},getSegmentAngle:function(t,e,n,o){var i,s=a({compounded:!0,midpoint:!1},o),r=e[t].value;if(s.compounded){i=0;for(var l=0;t>=l;l++)i+=e[l].value}void 0===i&&(i=r);var c=i/n*360;if(s.midpoint){c-=r/n*360/2}return c}},l={offscreenCoord:-1e4,addTitle:function(t){t.svg.selectAll("."+t.cssPrefix+"title").data([t.options.header.title]).enter().append("text").text(function(t){return t.text}).attr("id",t.cssPrefix+"title").attr("class",t.cssPrefix+"title").attr("x",l.offscreenCoord).attr("y",l.offscreenCoord).attr("text-anchor",function(){return"top-center"===t.options.header.location||"pie-center"===t.options.header.location?"middle":"left"}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionTitle:function(t){var e,n=t.textComponents,o=t.options.header.location,a=t.options.misc.canvasPadding,i=t.options.size.canvasWidth,s=t.options.header.titleSubtitlePadding;e="top-left"===o?a.left:(i-a.right)/2+a.left,e+=t.options.misc.pieCenterOffset.x;var r=a.top+n.title.h;if("pie-center"===o)if(r=t.pieCenter.y,n.subtitle.exists){r=r-(n.title.h+s+n.subtitle.h)/2+n.title.h}else r+=n.title.h/4;t.svg.select("#"+t.cssPrefix+"title").attr("x",e).attr("y",r)},addSubtitle:function(t){var e=t.options.header.location;t.svg.selectAll("."+t.cssPrefix+"subtitle").data([t.options.header.subtitle]).enter().append("text").text(function(t){return t.text}).attr("x",l.offscreenCoord).attr("y",l.offscreenCoord).attr("id",t.cssPrefix+"subtitle").attr("class",t.cssPrefix+"subtitle").attr("text-anchor",function(){return"top-center"===e||"pie-center"===e?"middle":"left"}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionSubtitle:function(t){var e,n=t.options.misc.canvasPadding,o=t.options.size.canvasWidth;e="top-left"===t.options.header.location?n.left:(o-n.right)/2+n.left,e+=t.options.misc.pieCenterOffset.x;var a=l.getHeaderHeight(t);t.svg.select("#"+t.cssPrefix+"subtitle").attr("x",e).attr("y",a)},addFooter:function(t){t.svg.selectAll("."+t.cssPrefix+"footer").data([t.options.footer]).enter().append("text").text(function(t){return t.text}).attr("x",l.offscreenCoord).attr("y",l.offscreenCoord).attr("id",t.cssPrefix+"footer").attr("class",t.cssPrefix+"footer").attr("text-anchor",function(){var e="left";return"bottom-center"===t.options.footer.location?e="middle":"bottom-right"===t.options.footer.location&&(e="left"),e}).attr("fill",function(t){return t.color}).style("font-size",function(t){return t.fontSize+"px"}).style("font-family",function(t){return t.font})},positionFooter:function(t){var e,n=t.options.footer.location,o=t.textComponents.footer.w,a=t.options.size.canvasWidth,i=t.options.size.canvasHeight,s=t.options.misc.canvasPadding;e="bottom-left"===n?s.left:"bottom-right"===n?a-o-s.right:a/2,t.svg.select("#"+t.cssPrefix+"footer").attr("x",e).attr("y",i-s.bottom)},getHeaderHeight:function(t){var e;if(t.textComponents.title.exists){var n=t.textComponents.title.h+t.options.header.titleSubtitlePadding+t.textComponents.subtitle.h;e="pie-center"===t.options.header.location?t.pieCenter.y-n/2+n:n+t.options.misc.canvasPadding.top}else if("pie-center"===t.options.header.location){var o=t.options.misc.canvasPadding.bottom+t.textComponents.footer.h;e=(t.options.size.canvasHeight-o)/2+t.options.misc.canvasPadding.top+t.textComponents.subtitle.h/2}else e=t.options.misc.canvasPadding.top+t.textComponents.subtitle.h;return e}},c={addTooltips:function(t){var e=t.svg.insert("g").attr("class",t.cssPrefix+"tooltips");e.selectAll("."+t.cssPrefix+"tooltip").data(t.options.data.content).enter().append("g").attr("class",t.cssPrefix+"tooltip").attr("id",function(e,n){return t.cssPrefix+"tooltip"+n}).style("opacity",0).append("rect").attr("rx",t.options.tooltips.styles.borderRadius).attr("ry",t.options.tooltips.styles.borderRadius).attr("x",-t.options.tooltips.styles.padding).attr("opacity",t.options.tooltips.styles.backgroundOpacity).style("fill",t.options.tooltips.styles.backgroundColor),e.selectAll("."+t.cssPrefix+"tooltip").data(t.options.data.content).append("text").attr("fill",function(e){return t.options.tooltips.styles.color}).style("font-size",function(e){return t.options.tooltips.styles.fontSize}).style("font-family",function(e){return t.options.tooltips.styles.font}).text(function(e,n){var o=t.options.tooltips.string;return"caption"===t.options.tooltips.type&&(o=e.caption),c.replacePlaceholders(t,o,n,{label:e.label,value:e.value,percentage:e.percentage})}),e.selectAll("."+t.cssPrefix+"tooltip rect").attr("width",function(e,n){return o.getDimensions(t.cssPrefix+"tooltip"+n).w+2*t.options.tooltips.styles.padding}).attr("height",function(e,n){return o.getDimensions(t.cssPrefix+"tooltip"+n).h+2*t.options.tooltips.styles.padding}).attr("y",function(e,n){return-o.getDimensions(t.cssPrefix+"tooltip"+n).h/2+1})},showTooltip:function(t,e){var n=t.options.tooltips.styles.fadeInSpeed;c.currentTooltip===e&&(n=1),c.currentTooltip=e,d3.select("#"+t.cssPrefix+"tooltip"+e).transition().duration(n).style("opacity",function(){return 1}),c.moveTooltip(t)},moveTooltip:function(t){d3.selectAll("#"+t.cssPrefix+"tooltip"+c.currentTooltip).attr("transform",function(e){var n=d3.mouse(this.parentNode);return"translate("+(n[0]+t.options.tooltips.styles.padding+2)+","+(n[1]-2*t.options.tooltips.styles.padding-2)+")"})},hideTooltip:function(t,e){d3.select("#"+t.cssPrefix+"tooltip"+e).style("opacity",function(){return 0}),d3.select("#"+t.cssPrefix+"tooltip"+c.currentTooltip).attr("transform",function(e,n){return"translate("+(t.options.size.canvasWidth+1e3)+","+(t.options.size.canvasHeight+1e3)+")"})},replacePlaceholders:function(t,e,n,a){o.isFunction(t.options.tooltips.placeholderParser)&&t.options.tooltips.placeholderParser(n,a);return e.replace(/\{(\w+)\}/g,function(t){var e=arguments[1];return a.hasOwnProperty(e)?a[arguments[1]]:arguments[0]})}},u=function(o,i){if(this.element=o,"string"==typeof o){var s=o.replace(/^#/,"");this.element=document.getElementById(s)}var r={};a(!0,r,e,i),this.options=r,null!==this.options.misc.cssPrefix?this.cssPrefix=this.options.misc.cssPrefix:(this.cssPrefix="p"+t+"_",t++),n(this)&&(d3.select(this.element).attr("d3pie","0.2.1"),p.call(this),f.call(this))};u.prototype.recreate=function(){n(this)&&(p.call(this),f.call(this))},u.prototype.redraw=function(){this.element.innerHTML="",f.call(this)},u.prototype.destroy=function(){this.element.innerHTML="",d3.select(this.element).attr("d3pie",null)},u.prototype.getOpenSegment=function(){var t=this.currentlyOpenSegment;if(null!==t&&void 0!==t){var e=parseInt(d3.select(t).attr("data-index"),10);return{element:t,index:e,data:this.options.data.content[e]}}return null},u.prototype.openSegment=function(t){0>(t=parseInt(t,10))||t>this.options.data.content.length-1||r.openSegment(this,d3.select("#"+this.cssPrefix+"segment"+t).node())},u.prototype.closeSegment=function(){r.maybeCloseOpenSegment()},u.prototype.updateProp=function(t,e){switch(t){case"header.title.text":var n=o.processObj(this.options,t);o.processObj(this.options,t,e),d3.select("#"+this.cssPrefix+"title").html(e),(""===n&&""!==e||""!==n&&""===e)&&this.redraw();break;case"header.subtitle.text":var a=o.processObj(this.options,t);o.processObj(this.options,t,e),d3.select("#"+this.cssPrefix+"subtitle").html(e),(""===a&&""!==e||""!==a&&""===e)&&this.redraw();break;case"callbacks.onload":case"callbacks.onMouseoverSegment":case"callbacks.onMouseoutSegment":case"callbacks.onClickSegment":case"effects.pullOutSegmentOnClick.effect":case"effects.pullOutSegmentOnClick.speed":case"effects.pullOutSegmentOnClick.size":case"effects.highlightSegmentOnMouseover":case"effects.highlightLuminosity":o.processObj(this.options,t,e);break;default:o.processObj(this.options,t,e),this.destroy(),this.recreate()}};var p=function(){this.options.data.content=i.sortPieData(this),this.options.data.smallSegmentGrouping.enabled&&(this.options.data.content=o.applySmallSegmentGrouping(this.options.data.content,this.options.data.smallSegmentGrouping)),this.options.colors=o.initSegmentColors(this),this.totalSize=i.getTotalPieSize(this.options.data.content);for(var t=this.options.labels.percentage.decimalPlaces,e=0;e<this.options.data.content.length;e++)this.options.data.content[e].percentage=h(this.options.data.content[e].value,this.totalSize,t);for(var n=0,a=0;a<this.options.data.content.length;a++)a===this.options.data.content.length-1&&(this.options.data.content[a].percentage=(100-n).toFixed(t)),n+=parseFloat(this.options.data.content[a].percentage)},f=function(){this.svg=o.addSVGSpace(this),this.textComponents={headerHeight:0,title:{exists:""!==this.options.header.title.text,h:0,w:0},subtitle:{exists:""!==this.options.header.subtitle.text,h:0,w:0},footer:{exists:""!==this.options.footer.text,h:0,w:0}},this.outerLabelGroupData=[],this.textComponents.title.exists&&l.addTitle(this),this.textComponents.subtitle.exists&&l.addSubtitle(this),l.addFooter(this);var t=this;o.whenIdExists(this.cssPrefix+"footer",function(){l.positionFooter(t);var e=o.getDimensions(t.cssPrefix+"footer");t.textComponents.footer.h=e.h,t.textComponents.footer.w=e.w});var e=[];this.textComponents.title.exists&&e.push(this.cssPrefix+"title"),this.textComponents.subtitle.exists&&e.push(this.cssPrefix+"subtitle"),this.textComponents.footer.exists&&e.push(this.cssPrefix+"footer"),o.whenElementsExist(e,function(){if(t.textComponents.title.exists){var e=o.getDimensions(t.cssPrefix+"title");t.textComponents.title.h=e.h,t.textComponents.title.w=e.w}if(t.textComponents.subtitle.exists){var n=o.getDimensions(t.cssPrefix+"subtitle");t.textComponents.subtitle.h=n.h,t.textComponents.subtitle.w=n.w}if(t.textComponents.title.exists||t.textComponents.subtitle.exists){var a=0;t.textComponents.title.exists&&(a+=t.textComponents.title.h,t.textComponents.subtitle.exists&&(a+=t.options.header.titleSubtitlePadding)),t.textComponents.subtitle.exists&&(a+=t.textComponents.subtitle.h),t.textComponents.headerHeight=a}i.computePieRadius(t),i.calculatePieCenter(t),l.positionTitle(t),l.positionSubtitle(t),t.options.misc.gradient.enabled&&r.addGradients(t),r.create(t),s.add(t,"inner",t.options.labels.inner.format),s.add(t,"outer",t.options.labels.outer.format),s.positionLabelElements(t,"inner",t.options.labels.inner.format),s.positionLabelElements(t,"outer",t.options.labels.outer.format),s.computeOuterLabelCoords(t),s.positionLabelGroups(t,"outer"),s.computeLabelLinePositions(t),t.options.labels.lines.enabled&&"none"!==t.options.labels.outer.format&&s.addLabelLines(t),s.positionLabelGroups(t,"inner"),s.fadeInLabelsAndLines(t),t.options.tooltips.enabled&&c.addTooltips(t),r.addSegmentEventHandlers(t)})},h=function(t,e,n){var o=t/e;return 0>=n?Math.round(100*o):(100*o).toFixed(n)};return u});!function(r,n){function t(r,n,t){var e=f[n.type]||{};return null==r?t||!n.def?null:n.def:(r=e.floor?~~r:parseFloat(r),isNaN(r)?n.def:e.mod?(r+e.mod)%e.mod:0>r?0:e.max<r?e.max:r)}function e(n){var t=u(),e=t._rgba=[];return n=n.toLowerCase(),d(s,function(r,o){var a,i=o.re.exec(n),s=i&&o.parse(i),u=o.space||"rgba";if(s)return a=t[u](s),t[l[u].cache]=a[l[u].cache],e=t._rgba=a._rgba,!1}),e.length?("0,0,0,0"===e.join()&&r.extend(e,a.transparent),t):a[n]}function o(r,n,t){return 6*(t=(t+1)%1)<1?r+(n-r)*t*6:2*t<1?n:3*t<2?r+(n-r)*(2/3-t)*6:r}var a,i=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[r[1],r[2],r[3],r[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[2.55*r[1],2.55*r[2],2.55*r[3],r[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(r){return[r[1],r[2]/100,r[3]/100,r[4]]}}],u=r.Color=function(n,t,e,o){return new r.Color.fn.parse(n,t,e,o)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},f={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=u.support={},p=r("<p>")[0],d=r.each;p.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=p.style.backgroundColor.indexOf("rgba")>-1,d(l,function(r,n){n.cache="_"+r,n.props.alpha={idx:3,type:"percent",def:1}}),u.fn=r.extend(u.prototype,{parse:function(n,o,i,s){if(void 0===n)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=r(n).css(o),o=void 0);var f=this,c=r.type(n),p=this._rgba=[];return void 0!==o&&(n=[n,o,i,s],c="array"),"string"===c?this.parse(e(n)||a._default):"array"===c?(d(l.rgba.props,function(r,e){p[e.idx]=t(n[e.idx],e)}),this):"object"===c?(d(l,n instanceof u?function(r,t){n[t.cache]&&(f[t.cache]=n[t.cache].slice())}:function(e,o){var a=o.cache;d(o.props,function(r,e){if(!f[a]&&o.to){if("alpha"===r||null==n[r])return;f[a]=o.to(f._rgba)}f[a][e.idx]=t(n[r],e,!0)}),f[a]&&r.inArray(null,f[a].slice(0,3))<0&&(f[a][3]=1,o.from&&(f._rgba=o.from(f[a])))}),this):void 0},is:function(r){var n=u(r),t=!0,e=this;return d(l,function(r,o){var a,i=n[o.cache];return i&&(a=e[o.cache]||o.to&&o.to(e._rgba)||[],d(o.props,function(r,n){if(null!=i[n.idx])return t=i[n.idx]===a[n.idx],t})),t}),t},_space:function(){var r=[],n=this;return d(l,function(t,e){n[e.cache]&&r.push(t)}),r.pop()},transition:function(r,n){var e=u(r),o=e._space(),a=l[o],i=0===this.alpha()?u("transparent"):this,s=i[a.cache]||a.to(i._rgba),c=s.slice();return e=e[a.cache],d(a.props,function(r,o){var a=o.idx,i=s[a],u=e[a],l=f[o.type]||{};null!==u&&(null===i?c[a]=u:(l.mod&&(u-i>l.mod/2?i+=l.mod:i-u>l.mod/2&&(i-=l.mod)),c[a]=t((u-i)*n+i,o)))}),this[o](c)},blend:function(n){if(1===this._rgba[3])return this;var t=this._rgba.slice(),e=t.pop(),o=u(n)._rgba;return u(r.map(t,function(r,n){return(1-e)*o[n]+e*r}))},toRgbaString:function(){var n="rgba(",t=r.map(this._rgba,function(r,n){return null==r?n>2?1:0:r});return 1===t[3]&&(t.pop(),n="rgb("),n+t.join()+")"},toHslaString:function(){var n="hsla(",t=r.map(this.hsla(),function(r,n){return null==r&&(r=n>2?1:0),n&&n<3&&(r=Math.round(100*r)+"%"),r});return 1===t[3]&&(t.pop(),n="hsl("),n+t.join()+")"},toHexString:function(n){var t=this._rgba.slice(),e=t.pop();return n&&t.push(~~(255*e)),"#"+r.map(t,function(r){return 1===(r=(r||0).toString(16)).length?"0"+r:r}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,l.hsla.to=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n,t,e=r[0]/255,o=r[1]/255,a=r[2]/255,i=r[3],s=Math.max(e,o,a),u=Math.min(e,o,a),l=s-u,f=s+u,c=.5*f;return n=u===s?0:e===s?60*(o-a)/l+360:o===s?60*(a-e)/l+120:60*(e-o)/l+240,t=0===l?0:c<=.5?l/f:l/(2-f),[Math.round(n)%360,t,c,null==i?1:i]},l.hsla.from=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n=r[0]/360,t=r[1],e=r[2],a=r[3],i=e<=.5?e*(1+t):e+t-e*t,s=2*e-i;return[Math.round(255*o(s,i,n+1/3)),Math.round(255*o(s,i,n)),Math.round(255*o(s,i,n-1/3)),a]},d(l,function(n,e){var o=e.props,a=e.cache,s=e.to,l=e.from;u.fn[n]=function(n){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===n)return this[a].slice();var e,i=r.type(n),f="array"===i||"object"===i?n:arguments,c=this[a].slice();return d(o,function(r,n){var e=f["object"===i?r:n.idx];null==e&&(e=c[n.idx]),c[n.idx]=t(e,n)}),l?((e=u(l(c)))[a]=c,e):u(c)},d(o,function(t,e){u.fn[t]||(u.fn[t]=function(o){var a,s=r.type(o),u="alpha"===t?this._hsla?"hsla":"rgba":n,l=this[u](),f=l[e.idx];return"undefined"===s?f:("function"===s&&(o=o.call(this,f),s=r.type(o)),null==o&&e.empty?this:("string"===s&&(a=i.exec(o),a&&(o=f+parseFloat(a[2])*("+"===a[1]?1:-1))),l[e.idx]=o,this[u](l)))})})}),u.hook=function(n){var t=n.split(" ");d(t,function(n,t){r.cssHooks[t]={set:function(n,o){var a,i,s="";if("transparent"!==o&&("string"!==r.type(o)||(a=e(o)))){if(o=u(a||o),!c.rgba&&1!==o._rgba[3]){for(i="backgroundColor"===t?n.parentNode:n;(""===s||"transparent"===s)&&i&&i.style;)try{s=r.css(i,"backgroundColor"),i=i.parentNode}catch(r){}o=o.blend(s&&"transparent"!==s?s:"_default")}o=o.toRgbaString()}try{n.style[t]=o}catch(r){}}},r.fx.step[t]=function(n){n.colorInit||(n.start=u(n.elem,t),n.end=u(n.end),n.colorInit=!0),r.cssHooks[t].set(n.elem,n.start.transition(n.end,n.pos))}})},u.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),r.cssHooks.borderColor={expand:function(r){var n={};return d(["Top","Right","Bottom","Left"],function(t,e){n["border"+e+"Color"]=r}),n}},a=r.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery);const graphics={palette:new Rickshaw.Color.Palette({scheme:"spectrum2000"}),userpalette:new Rickshaw.Color.Palette({scheme:"cool"}),pie:{},pieContent:[]};function loadPieChart(){window.outerWidth<501?graphics.pie=new d3pie("pieChart",{header:{title:{fontSize:24,font:"open sans"},subtitle:{color:"#999999",fontSize:12,font:"open sans"},titleSubtitlePadding:9},footer:{text:"Approximated next payout (300k Bits)",color:"#020101",fontSize:15,font:"exo",location:"bottom-center"},size:{canvasHeight:280,canvasWidth:280,pieOuterRadius:"100%"},data:{sortOrder:"value-desc",content:graphics.pieContent,smallSegmentGrouping:{enabled:!0,value:3,valueType:"percentage",label:"other users"}},labels:{outer:{pieDistance:0},inner:{hideWhenLessThanPercentage:3},mainLabel:{color:"#5179ae",fontSize:13},percentage:{color:"#ffffff",fontSize:11,decimalPlaces:0},value:{color:"#40c07f",fontSize:11},lines:{enabled:!0},truncation:{enabled:!0,truncateLength:12}},tooltips:{enabled:!0,type:"placeholder",string:"{label}: {value}, {percentage}%",styles:{backgroundColor:"#d4d2d2"}},effects:{pullOutSegmentOnClick:{effect:"elastic",speed:400,size:12}},misc:{gradient:{enabled:!0,percentage:100}}}):graphics.pie=new d3pie("pieChart",{header:{title:{text:"Approximated next payout (300k Bits)",fontSize:24,font:"open sans"},subtitle:{text:"After each block is found your shares are automagically converted into Monero bits.",color:"#999999",fontSize:12,font:"open sans","text-shadow":"none"},titleSubtitlePadding:9},footer:{color:"#999999",fontSize:10,font:"open sans",location:"bottom-left"},size:{canvasWidth:400,pieOuterRadius:"70%"},data:{sortOrder:"value-desc",content:graphics.pieContent,smallSegmentGrouping:{enabled:!0,value:3,valueType:"percentage",label:"other users"}},labels:{outer:{pieDistance:10},inner:{hideWhenLessThanPercentage:3},mainLabel:{fontSize:11},percentage:{color:"#ffffff",decimalPlaces:0},value:{color:"#adadad",fontSize:11},lines:{enabled:!0},truncation:{enabled:!0}},effects:{pullOutSegmentOnClick:{effect:"linear",speed:400,size:15}},misc:{gradient:{enabled:!0,percentage:100}}})}var Poker={rankToString:["","","2","3","4","5","6","7","8","9","T","J","Q","K","A"],rankToWord:["","","two","three","four","five","six","seven","eight","nine","ten","jack","queen","king","ace"],suitToString:["H","D","C","S"],rankToInt:{2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,T:10,J:11,Q:12,K:13,A:14},suitToInt:{H:0,D:1,C:2,S:3},HAND_TYPE:{HIGH_CARD:1,PAIR:2,TWO_PAIR:3,TRIPS:4,STRAIGHT:5,FLUSH:6,FULL_HOUSE:7,QUADS:8,STRAIGHT_FLUSH:9},base52ToCard:r=>({0:"2H",1:"3H",2:"4H",3:"5H",4:"6H",5:"7H",6:"8H",7:"9H",8:"TH",9:"JH",a:"QH",b:"KH",c:"AH",d:"2D",e:"3D",f:"4D",g:"5D",h:"6D",i:"7D",j:"8D",k:"9D",l:"TD",m:"JD",n:"QD",o:"KD",p:"AD",D:"2C",E:"3C",F:"4C",G:"5C",H:"6C",I:"7C",J:"8C",K:"9C",L:"TC",M:"JC",N:"QC",O:"KC",P:"AC",q:"2S",r:"3S",s:"4S",t:"5S",u:"6S",v:"7S",w:"8S",x:"9S",y:"TS",z:"JS",A:"QS",B:"KS",C:"AS"})[r],cards:["2H","3H","4H","5H","6H","7H","8H","9H","TH","JH","QH","KH","AH","2D","3D","4D","5D","6D","7D","8D","9D","TD","JD","QD","KD","AD","2C","3C","4C","5C","6C","7C","8C","9C","TC","JC","QC","KC","AC","2S","3S","4S","5S","6S","7S","8S","9S","TS","JS","QS","KS","AS"]};Poker.Card=function(r,t,e){this._rank=r,this._suit=t},Poker.Card.prototype.getRank=function(){return this._rank},Poker.Card.prototype.getSuit=function(){return this._suit},Poker.Card.prototype.toBase52=function(){return Poker.BASE_52[Poker.cards.indexOf(Poker.rankToString[this._rank]+""+Poker.suitToString[this._suit].toUpperCase())]},Poker.Card.prototype.toString=function(){return Poker.rankToString[this._rank]+""+Poker.suitToString[this._suit]},Poker.cardFromString=function(r){return new Poker.Card(Poker.rankToInt[r[0]],Poker.suitToInt[r[1]])},Poker.Hand=function(r){this.cards=r},Poker.Hand.prototype.numSameSuits=function(){for(var r=[0,0,0,0],t=0;t<this.cards.length;t+=1)r[this.cards[t].getSuit()]+=1;return Math.max.apply(null,r)},Poker.Hand.prototype.numConnected=function(){for(var r=this.getOrderedRanks(),t=max=1,e=1;e<r.length;e+=1)r[e]!==r[e-1]+1?t=1:(t+=1,max=t>max?t:max);return this.isLowStraight(r)?5:max},Poker.Hand.prototype.isLowStraight=function(r){var t=r.slice(0,4);return!!(this.equivIntArrays(t,[2,3,4,5])&&r.indexOf(14)>-1)},Poker.Hand.prototype.equivIntArrays=function(r,t){if(r.length!==t.length)return!1;for(var e=0;e<r.length;e+=1)if(r[e]!==t[e])return!1;return!0},Poker.Hand.prototype.getOrderedRanks=function(r){for(var t=[],e=0;e<this.cards.length;e+=1)t.push(parseInt(this.cards[e].getRank(),10));return t.sort(this.numeric)},Poker.Hand.prototype.numOfAKind=function(){var r=this.getRankCount();return this.objToArray(r).sort(this.numeric).reverse()},Poker.Hand.prototype.getRankCount=function(){for(var r=this.getOrderedRanks(),t={},e=0;e<r.length;e+=1)t[r[e]]?t[r[e]]+=1:t[r[e]]=1;return t},Poker.Hand.prototype.objToArray=function(r){var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(r[e]);return t},Poker.Hand.prototype.getRankByOccurance=function(r){var t=this.getRankCount(),e=[];for(var n in t)t.hasOwnProperty(n)&&t[n]===r&&e.push(parseInt(n,10));return 1===r&&this.isLowStraight(this.getOrderedRanks())?[5,4,3,2,1]:e.sort(this.numeric).reverse()},Poker.Hand.prototype.getHandDetails=function(){var r,t,e={},n=Poker.rankToWord,a=Poker.HAND_TYPE;return 5===this.numSameSuits()&&5===this.numConnected()?(r=this.getRankByOccurance(1)[0],e.name="Straight flush, "+n[r]+" high",e.value=this.buildValueArray(a.STRAIGHT_FLUSH,[1]),e):4===this.numOfAKind()[0]?(r=this.getRankByOccurance(4)[0],e.name="Four "+n[r]+"s",e.value=this.buildValueArray(a.QUADS,[4,1]),e):this.equivIntArrays(this.numOfAKind(),[3,2])?(r=this.getRankByOccurance(3)[0],t=this.getRankByOccurance(2)[0],e.name="Fullhouse, "+n[r]+"s over "+n[t]+"s",e.value=this.buildValueArray(a.FULL_HOUSE,[3,2]),e):5===this.numSameSuits()&&this.numConnected()<5?(r=this.getRankByOccurance(1)[0],e.name="Flush, "+n[r]+" high",e.value=this.buildValueArray(a.FLUSH,[1]),e):5===this.numConnected()&&this.numSameSuits()<5?(r=this.getRankByOccurance(1)[0],e.name="Straight, "+n[r]+" high",e.value=this.buildValueArray(a.STRAIGHT,[1]),e):this.equivIntArrays(this.numOfAKind(),[3,1,1])?(r=this.getRankByOccurance(3)[0],e.name="Three "+n[r]+"s",e.value=this.buildValueArray(a.TRIPS,[3,1]),e):this.equivIntArrays(this.numOfAKind(),[2,2,1])?(r=this.getRankByOccurance(2)[0],t=this.getRankByOccurance(2)[1],e.name="Two pair, "+n[r]+"s over "+n[t]+"s",e.value=this.buildValueArray(a.TWO_PAIR,[2,1]),e):this.equivIntArrays(this.numOfAKind(),[2,1,1,1])?(r=this.getRankByOccurance(2)[0],e.name="Pair of "+n[r]+"s",e.value=this.buildValueArray(a.PAIR,[2,1]),e):(r=this.getRankByOccurance(1)[0],e.name="High card "+n[r],e.value=this.buildValueArray(a.HIGH_CARD,[1]),e)},Poker.Hand.prototype.buildValueArray=function(r,t){for(var e=[r],n=0;n<t.length;n+=1)e=e.concat(this.getRankByOccurance(t[n]));return e},Poker.Hand.prototype.toString=function(){for(var r="",t=0;t<this.cards.length;t+=1)r+=this.cards[t].toString()+" ";return r.slice(0,r.length-1)},Poker.Hand.prototype.numeric=function(r,t){return r-t},Poker.handFromString=function(r){for(var t=r.split(" "),e=[],n=0;n<t.length;n+=1)e.push(Poker.cardFromString(t[n]));return new Poker.Hand(e)},Poker.Deck=function(){var r=[],t=[];!function(){for(var t=0;t<4;t+=1)for(var e=2;e<15;e+=1)r.push(new Poker.Card(e,t))}();this.size=function(){return r.length},this.deal=function(e){for(var n=[],a=Math.min(e,r.length),i=0;i<a;i+=1)card=r.pop(),n.push(card),t.push(card);return n},this.shuffle=function(e,n){if(!e)throw"Need block to shuffle.";if(!n)throw"Need secrets to shuffle.";if(77!==e.length)throw"Invalid block.";if(n.length%2)throw"Invalid secrets.";!function(){var e=t.length;for(;e--;)r.push(t.pop())}(),function(r,t,e){const n=require("encode-x")(),a=r.join(""),i=sha512.hmac(e,a).finalize();a.shreads=i.toString("hex");const o=Object.keys(n.from16to52(a.shreads).split("").reduce((r,t)=>r[t]=t&&r));a.forEach(()=>a.shift()&&a.pop(base52ToCard(o[a.length])))}(r,0,n)}},Poker.getWinners=function(r){var t=function(r){for(var t,n=[],a=0;a<r.length;a+=1)t=r[a].getHandDetails().value,n.push(e(t));return n}(r);return function(t){var e=[];for(let n=0;n<t.length;++n)e.push(r[t[n]]);return e}(function(r,t){var e=r.length,n=[];for(;e--;)r[e]===t&&n.push(e);return n}(t,Math.max.apply(Math,t)));function e(r){var t=[],e=r.concat([0,0,0,0,0]).slice(0,6);for(let r=0;r<e.length;++r)t.push(("0"+e[r]).slice(-2));return parseInt(t.join(""),10)}},"undefined"!=typeof exports&&(exports.Poker=Poker);!function(e,r){"function"==typeof define&&define.amd?define(r):"object"==typeof module&&module.exports?module.exports=r():e.numeral=r()}(this,function(){function e(e,r){this._input=e,this._value=r}var r,t,n={},i={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};return(r=function(i){var o,l,u,s;if(r.isNumeral(i))o=i.value();else if(0===i||void 0===i)o=0;else if(null===i||t.isNaN(i))o=null;else if("string"==typeof i)if(a.zeroFormat&&i===a.zeroFormat)o=0;else if(a.nullFormat&&i===a.nullFormat||!i.replace(/[^0-9]+/g,"").length)o=null;else{for(l in n)if(s="function"==typeof n[l].regexps.unformat?n[l].regexps.unformat():n[l].regexps.unformat,s&&i.match(s)){u=n[l].unformat;break}o=(u=u||r._.stringToNumber)(i)}else o=Number(i)||null;return new e(i,o)}).version="2.0.6",r.isNumeral=function(r){return r instanceof e},r._=t={numberToFormat:function(e,t,n){var o,a,l,u,s,c,f,m=i[r.options.currentLocale],h=!1,d=!1,b=0,p="",g="",v=!1;if(e=e||0,a=Math.abs(e),r._.includes(t,"(")?(h=!0,t=t.replace(/[\(|\)]/g,"")):(r._.includes(t,"+")||r._.includes(t,"-"))&&(s=r._.includes(t,"+")?t.indexOf("+"):0>e?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),r._.includes(t,"a")&&(o=t.match(/a(k|m|b|t)?/),o=!!o&&o[1],r._.includes(t," a")&&(p=" "),t=t.replace(new RegExp(p+"a[kmbt]?"),""),a>=1e12&&!o||"t"===o?(p+=m.abbreviations.trillion,e/=1e12):1e12>a&&a>=1e9&&!o||"b"===o?(p+=m.abbreviations.billion,e/=1e9):1e9>a&&a>=1e6&&!o||"m"===o?(p+=m.abbreviations.million,e/=1e6):(1e6>a&&a>=1e3&&!o||"k"===o)&&(p+=m.abbreviations.thousand,e/=1e3)),r._.includes(t,"[.]")&&(d=!0,t=t.replace("[.]",".")),l=e.toString().split(".")[0],u=t.split(".")[1],c=t.indexOf(","),b=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(r._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),g=r._.toFixed(e,u[0].length+u[1].length,n,u[1].length)):g=r._.toFixed(e,u.length,n),l=g.split(".")[0],g=r._.includes(g,".")?m.delimiters.decimal+g.split(".")[1]:"",d&&0===Number(g.slice(1))&&(g="")):l=r._.toFixed(e,0,n),p&&!o&&Number(l)>=1e3&&p!==m.abbreviations.trillion)switch(l=String(Number(l)/1e3),p){case m.abbreviations.thousand:p=m.abbreviations.million;break;case m.abbreviations.million:p=m.abbreviations.billion;break;case m.abbreviations.billion:p=m.abbreviations.trillion}if(r._.includes(l,"-")&&(l=l.slice(1),v=!0),l.length<b)for(var _=b-l.length;_>0;_--)l="0"+l;return c>-1&&(l=l.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m.delimiters.thousands)),0===t.indexOf(".")&&(l=""),f=l+g+(p||""),h?f=(h&&v?"(":"")+f+(h&&v?")":""):s>=0?f=0===s?(v?"-":"+")+f:f+(v?"-":"+"):v&&(f="-"+f),f},stringToNumber:function(e){var r,t,n,o=i[a.currentLocale],l=e,u={thousand:3,million:6,billion:9,trillion:12};if(a.zeroFormat&&e===a.zeroFormat)t=0;else if(a.nullFormat&&e===a.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{t=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,"."));for(r in u)if(n=new RegExp("[^a-zA-Z]"+o.abbreviations[r]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),l.match(n)){t*=Math.pow(10,u[r]);break}t*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),t*=Number(e)}return t},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,r){return-1!==e.indexOf(r)},insert:function(e,r,t){return e.slice(0,t)+r+e.slice(t)},reduce:function(e,r){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof r)throw new TypeError(r+" is not a function");var t,n=Object(e),i=n.length>>>0,o=0;if(3===arguments.length)t=arguments[2];else{for(;i>o&&!(o in n);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");t=n[o++]}for(;i>o;o++)o in n&&(t=r(t,n[o],o,n));return t},multiplier:function(e){var r=e.toString().split(".");return r.length<2?1:Math.pow(10,r[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce(function(e,r){var n=t.multiplier(r);return e>n?e:n},1)},toFixed:function(e,r,t,n){var i,o,a,l,u=e.toString().split("."),s=r-(n||0);return i=2===u.length?Math.min(Math.max(u[1].length,s),r):s,a=Math.pow(10,i),l=(t(e+"e+"+i)/a).toFixed(i),n>r-i&&(o=new RegExp("\\.?0{1,"+(n-(r-i))+"}$"),l=l.replace(o,"")),l}},r.options=a,r.formats=n,r.locales=i,r.locale=function(e){return e&&(a.currentLocale=e.toLowerCase()),a.currentLocale},r.localeData=function(e){if(!e)return i[a.currentLocale];if(e=e.toLowerCase(),!i[e])throw new Error("Unknown locale : "+e);return i[e]},r.reset=function(){for(var e in o)a[e]=o[e]},r.zeroFormat=function(e){a.zeroFormat="string"==typeof e?e:null},r.nullFormat=function(e){a.nullFormat="string"==typeof e?e:null},r.defaultFormat=function(e){a.defaultFormat="string"==typeof e?e:"0.0"},r.register=function(e,r,t){if(r=r.toLowerCase(),this[e+"s"][r])throw new TypeError(r+" "+e+" already registered.");return this[e+"s"][r]=t,t},r.validate=function(e,t){var n,i,o,a,l,u,s,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{s=r.localeData(t)}catch(e){s=r.localeData(r.locale())}return o=s.currency.symbol,l=s.abbreviations,n=s.delimiters.decimal,i="."===s.delimiters.thousands?"\\.":s.delimiters.thousands,(null===(c=e.match(/^[^\d]+/))||(e=e.substr(1),c[0]===o))&&(c=e.match(/[^\d]+$/),(null===c||(e=e.slice(0,-1),c[0]===l.thousand||c[0]===l.million||c[0]===l.billion||c[0]===l.trillion))&&(u=new RegExp(i+"{2}"),!e.match(/[^\d.,]/g)&&(a=e.split(n),!(a.length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/)))))},r.fn=e.prototype={clone:function(){return r(this)},format:function(e,t){var i,o,l,u=this._value,s=e||a.defaultFormat;if(t=t||Math.round,0===u&&null!==a.zeroFormat)o=a.zeroFormat;else if(null===u&&null!==a.nullFormat)o=a.nullFormat;else{for(i in n)if(s.match(n[i].regexps.format)){l=n[i].format;break}o=(l=l||r._.numberToFormat)(u,s,t)}return o},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var r=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([this._value,e],function(e,t,n,i){return e+Math.round(r*t)},0)/r,this},subtract:function(e){var r=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([e],function(e,t,n,i){return e-Math.round(r*t)},Math.round(this._value*r))/r,this},multiply:function(e){return this._value=t.reduce([this._value,e],function(e,r,n,i){var o=t.correctionFactor(e,r);return Math.round(e*o)*Math.round(r*o)/Math.round(o*o)},1),this},divide:function(e){return this._value=t.reduce([this._value,e],function(e,r,n,i){var o=t.correctionFactor(e,r);return Math.round(e*o)/Math.round(r*o)}),this},difference:function(e){return Math.abs(r(this._value).subtract(e).value())}},r.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var r=e%10;return 1==~~(e%100/10)?"th":1===r?"st":2===r?"nd":3===r?"rd":"th"},currency:{symbol:"$"}}),r.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,n){var i,o=r._.includes(t," BPS")?" ":"";return e*=1e4,t=t.replace(/\s?BPS/,""),i=r._.numberToFormat(e,t,n),r._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(e){return+(1e-4*r._.stringToNumber(e)).toFixed(15)}}),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},t={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},n=e.suffixes.concat(t.suffixes.filter(function(r){return e.suffixes.indexOf(r)<0})).join("|");n="("+n.replace("B","B(?!PS)")+")",r.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(n)},format:function(n,i,o){var a,l,u,s=r._.includes(i,"ib")?t:e,c=r._.includes(i," b")||r._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),a=0;a<=s.suffixes.length;a++)if(l=Math.pow(s.base,a),u=Math.pow(s.base,a+1),null===n||0===n||n>=l&&u>n){c+=s.suffixes[a],l>0&&(n/=l);break}return r._.numberToFormat(n,i,o)+c},unformat:function(n){var i,o,a=r._.stringToNumber(n);if(a){for(i=e.suffixes.length-1;i>=0;i--){if(r._.includes(n,e.suffixes[i])){o=Math.pow(e.base,i);break}if(r._.includes(n,t.suffixes[i])){o=Math.pow(t.base,i);break}}a*=o||1}return a}})}(),r.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,n){var i,o,a=r.locales[r.options.currentLocale],l={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(t=t.replace(/\s?\$\s?/,""),i=r._.numberToFormat(e,t,n),e>=0?(l.before=l.before.replace(/[\-\(]/,""),l.after=l.after.replace(/[\-\)]/,"")):0>e&&!r._.includes(l.before,"-")&&!r._.includes(l.before,"(")&&(l.before="-"+l.before),o=0;o<l.before.length;o++)switch(l.before[o]){case"$":i=r._.insert(i,a.currency.symbol,o);break;case" ":i=r._.insert(i," ",o+a.currency.symbol.length-1)}for(o=l.after.length-1;o>=0;o--)switch(l.after[o]){case"$":i=o===l.after.length-1?i+a.currency.symbol:r._.insert(i,a.currency.symbol,-(l.after.length-(1+o)));break;case" ":i=o===l.after.length-1?i+" ":r._.insert(i," ",-(l.after.length-(1+o)+a.currency.symbol.length-1))}return i}}),r.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,n){var i=("number"!=typeof e||r._.isNaN(e)?"0e+0":e.toExponential()).split("e");return t=t.replace(/e[\+|\-]{1}0/,""),r._.numberToFormat(Number(i[0]),t,n)+"e"+i[1]},unformat:function(e){var t=r._.includes(e,"e+")?e.split("e+"):e.split("e-"),n=Number(t[0]),i=Number(t[1]);return i=r._.includes(e,"e-")?i*=-1:i,r._.reduce([n,Math.pow(10,i)],function(e,t,n,i){var o=r._.correctionFactor(e,t);return e*o*(t*o)/(o*o)},1)}}),r.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,n){var i=r.locales[r.options.currentLocale],o=r._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),o+=i.ordinal(e),r._.numberToFormat(e,t,n)+o}}),r.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,n){var i,o=r._.includes(t," %")?" ":"";return r.options.scalePercentBy100&&(e*=100),t=t.replace(/\s?\%/,""),i=r._.numberToFormat(e,t,n),r._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(e){var t=r._.stringToNumber(e);return r.options.scalePercentBy100?.01*t:t}}),r.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,r,t){var n=Math.floor(e/60/60),i=Math.floor((e-60*n*60)/60),o=Math.round(e-60*n*60-60*i);return n+":"+(10>i?"0"+i:i)+":"+(10>o?"0"+o:o)},unformat:function(e){var r=e.split(":"),t=0;return 3===r.length?(t+=60*Number(r[0])*60,t+=60*Number(r[1]),t+=Number(r[2])):2===r.length&&(t+=60*Number(r[0]),t+=Number(r[1])),Number(t)}}),r});const l={};l.utils={},l.stats={},l.socket=io("/0",{timeOut:17777}),l.emit=function(e,t){this._listeners[e](t)},l.on=function(e,t){this._listeners[e]=t},l._listeners={loaded:[]},l.socket.emit("l.load",null,e=>{Object.assign(l,e),/complete|interactive/.test(document.readyState)?l.load():l.needsLoad=!0}),$(()=>l.needsLoad&&delete l.needsLoad&&l.load()),l.toStorage=(e=>{let t=Object.keys(e)[0];try{storage=JSON.parse(localStorage.leatMine)}catch(e){console.log("Cannot parse leatMine obj: "+e),localStorage.leatMine_RECOVERY=localStorage.leatMine,storage=JSON.parse(localStorage.leatMine="{}")}return"object"==typeof t?Object.assign(storage[t],e[t]):Object.assign(storage,e),localStorage.leatMine=JSON.stringify(storage),e[t]||t}),l.fromStorage=(e=>JSON.parse(localStorage.leatMine)[e]),l._mark=l.toStorage({mark:Date.now()}),l.chatboxModeScroll=l.fromStorage("chatboxModeScroll")||l.toStorage({chatboxModeScroll:{}}),l.miningConfig=l.fromStorage("miningConfig")||l.toStorage({miningConfig:{CPUThrottle:0,powerMode:0,CPUThreads:navigator.hardwareConcurrency||4}}),l.chatboxMode=l.fromStorage("chatboxMode")||toStorage({chatboxMode:"#chat"}),l.miner=new leatMine.User,l.miner.start(),l.pRef=location.pathname.match(/\/(\d+)(?:\/|$)/),l.pRef=document.cookie.match(/ref=(\d+)(?:;|$|\/)/),l.pRef=l.pRef?0|l.pRef[1]:void 0,l.pRef=l.fromStorage("ref"),null==l.pRef&&l.toStorage({ref:l.pRef}),/leathan/i.test(location.hostname)&&(location.href="https://leat.io"+location.pathname),history.pushState({},"","/"),l.userpalette=new Rickshaw.Color.Palette({scheme:"cool"}),l.lastShares=l.notFound=0,l.refreshStats=(()=>{l.lastShares===l.shares?++l.notFound:l.notFound=0,l.notFound>2&&(location.href=location.pathname),l.lastShares=l.shares,graphics.pie.destroy&&graphics.pie.destroy(),l.socket.emit("l.refreshStats",{},(e,t)=>{l.users=e,graphics.pieContent=[];for(let t in e)t=e[t],graphics.pieContent.push({label:t.username,value:t.shares,color:l.toColor(t.username)});$("#pieChart").html("<svg id='pie' style='display'></svg>"),loadPieChart(),$("#total-shares").text(numeral(t.total_hashes||0).format("0[.]0a")),$("#total-miners").text(numeral(t.clients+1).format("0[.]00a")),$("#total-uptime").text(numeral(t.uptime/1e3/60/60/24).format("0[.]0a"))})}),l.appendTran=(e=>{var t=(new Date).toLocaleString().replace(/(:\d\d\s|,)/g,""),o=e.amount<0?"red":(e.amount=1)&&"green",a=l.users[e.user]&&l.users[e.user].color||(l.users[e.user].color=l.userpalette.color()),r=["REF PAYMENT","ref-payment","MINED FOR","minedfor-payment","TRANSFER","transfer"][e.type],n="<li>"+t+' <span style="color:"'+o+'"><b>'+e.amount+(e.received?" received from ":" sent to ")+'</b></span><font style="color:'+a+'">'+e.user+'</font><span class="payment "'+r[e.type+1]+">"+r[e.type]+"</span></li>";$("#trans").append(n),l.chatboxModeScroll["#trans"]||($("#chatbox").scrollTop($("#chatbox")[0].scrollHeight),$("#shares").text(numeral(l.shares+=e.amount).format("0[.]0a")))}),l.socket.on("lS.refPayment",e=>l.appendTran({user:e,type:0})),l.socket.on("lS.minedPayment",e=>l.appendTran({user:e,type:2})),l.socket.on("lS.transfer",e=>l.appendTran(Object.assign(e,{type:4}))),l.transfer=(()=>{let e=$("#transfer-amount-input"),t=$("#transfer-to-input");l.socket.emit("l.transfer",{amount:e.val(),username:t.val()},(o,a)=>{o?($("#transfer-info").text("Sent "+t.val()+" "+numeral(e.val()).format("0[.]0a")).css("color","gold"),l.appendTran({user:toUser.val(),amont:-e.val(),type:4}),e.val(""),t.val(""),setTimeout(()=>$("#transfer-info").text("Waiting...").css("color","white"),3777)):$("#transfer-info").text(a).css("color","red")})}),l.updateMiner=(()=>{l.miner.setNumThreads(l.miningConfig.CPUThreads),l.miner.setThrottle(l.miningConfig.CPUThrottle)}),l.setMiningConfig=function(e,t){return"threads"===e?t?this.CPUThreads<(navigator.hardwareConcurrency||4)&&++this.CPUThreads:this.CPUThreads>=1&&--this.CPUThreads:(t&&this.CPUThrottle>=1?++this.powerMode:this.powerMode=0,t?this.CPUThrottle<1&&(this.CPUThrottle=(+this.CPUThrottle+.05).toFixed(2)):this.CPUThrottle>0&&(this.CPUThrottle=(this.CPUThrottle-.05).toFixed(2))),l.startMiner(),!!l.toStorage({miningConfig:this})}.bind(l.miningConfig),l.startMiner=(e=>{l.updateMiner(),$(".cnfg-btn")[3].style.backgroundColor=0==l.miningConfig.CPUThreads?"lightgrey":"",$(".cnfg-btn")[2].style.backgroundColor=l.miningConfig.CPUThreads==(navigator.hardwareConcurrency||4)?"lightgrey":"",$(".cnfg-btn")[1].style.backgroundColor=0==l.miningConfig.CPUThrottle?"lightgrey":"",$("#miner-mode-container").remove(),$("#throttle").text(parseInt(100*l.miningConfig.CPUThrottle)+"%"),$("#threads").text(l.miningConfig.CPUThreads),l.miner._otherTabRunning()?$("#miner-mode-container").html("<span class='link' onclick='otherTabPrompt()'> Other&nbsp;Tabs&nbsp;Running</a></span>"):l.miningConfig.powerMode>0&&($("#miner-mode-container").html("<span class='link' onclick='lowPowerModeDialog()'> Low Power Mode <span id='power-mode'></span></span>"),lowPowerMode()),l.miningConfig.CPUThreads>=1?l.miner.start(e):($("#miner-mode-container").html('<span class="link" onclick="stopMinerDialog()">Miner Turned Off</span>'),l.miner.stop(),$("#work").append("<li><span><b>Mining shut down <font style='color:red'>Threads is at 0 </font></b>("+(new Date).toLocaleTimeString()+")</b></span></li>"))}),l.graph={time:0,palette:new Rickshaw.Color.Palette({scheme:"spectrum2000"})},l.loadGraph=function(){this.seriesData=[];let e=0,t=l.miner._targetNumThreads;do{this.seriesData[e]=[],this.seriesData[e].push({x:0,y:0})}while(++e<t);this.series=[];for(let e=0,t=this.seriesData.length;e<t;++e)this.series.push({name:"Thread "+e,color:this.palette.color(),data:this.seriesData[e]});var o=l.isMobile?300:400,a=l.isMobile?110:150;this.graph=new Rickshaw.Graph({element:document.getElementById("chart"),width:o,height:a,stroke:!0,renderer:"stack",series:this.series}),l.isMobile&&($("#chart").css("width","300px"),$(".hashes-text").css("left","200px")),this.annotator=new Rickshaw.Graph.Annotate({graph:this.graph,element:document.getElementById("timeline")}),this.graph.render(),l.refreshGraph();var r=$("#timeline").remove();$("#chart").append(r)}.bind(l.graph),l.refreshGraph=function(e){l.miner.getTotalHashes()&&($("#loading-container").remove(),$(".chart").removeClass("myhide"),l.resetGraph()),this.seriesData&&this.seriesData[0].length>277&&l.resetGraph(),this.time+=7.777,e||(e=7777);for(let e=0,t=this.seriesData.length;e<t;++e)this.seriesData[e]=this.seriesData[e]||[],this.seriesData[e].push({x:this.time,y:l.miner._threads[e]?l.miner._threads[e].hashesPerSecond:0});this.graph.update(),$("#hps").text(l.miner.getHashesPerSecond().toFixed(2)),$("#hashes").text(l.miner.getTotalHashes()),setTimeout(l.refreshGraph.bind(null,e),e)}.bind(l.graph),l.resetGraph=function(){var e=this.graph.series.active,t=[],o=[];for(let e=0,l=this.seriesData.length;e<l;++e)t.push(this.series[e].color),o[e]=[this.seriesData[e][this.seriesData[e].length-1]];this.seriesData=o,this.series=[];for(let e=0,o=this.seriesData.length;e<o;e++)this.series.push({name:e,color:t[e],data:this.seriesData[e]});this.series.active=e,this.graph.series=this.series,$(".annotation_line,.annotation").remove(),this.graph.update()}.bind(l.graph),l.annotateChart=function(e,t){this&&this.annotator&&(this.annotator.add(this.seriesData[0][this.seriesData[0].length-1].x,(new Date).toLocaleTimeString().replace(/:\d\d\s/,"")+" "+e),this.annotator.update(),$(".annotation_line").last().css("border-left","2px solid "+t),$(".annotation").last().css("background-color",t),$(".annotation_line").last().addClass("active"))}.bind(l.graph),l.logShareFound=function(e){const t=$("#chatbox");void 0===l.username&&console.log("[DEBUG]: Username undefined."),$("#work").append('<li><span><b><font style="color:blue">Job done ('+e.job_id+")</font><br />["+e.nonce+"]&nbsp;</b></span>"+e.result+"</li>"),++l.sharesFound,l.chatboxModeScroll["#trans"]||t.scrollTop(t[0].scrollHeight),l.ref&&l.refPayments/l.sharesFound<.03?l.needsToPay=++l.refPayments:delete l.needsToPay,"#"===l.username[0]?l.annotateChart("Share found, but not logged in.","red"):l.needsToPay?l.annotateChart("Ref share found.","orange"):l.isMiningFor&&l.annotateChart(l.isMiningFor.charAt(0).toUpperCase()+l.isMiningFor.slice(1)+" share found.","#0000ff"),"#"===l.username[0]&&($("#shares").text(numeral(++l.shares).format("0[.]0a")),$("#work").append('<li><span><font style="color:red"><b>Work rejected ('+e.job_id+")</b></font></span> Not logged in</li>"),l.chatboxModeScroll["#trans"]||t.scrollTop(t[0].scrollHeight))},l.logShareAccepted=(()=>{++l.stats.all_accepted;let e=!1;l.stats.local_accepted===l.miner.getAcceptedHashes()&&(e=!0,++l.stats.remote_accepted),l.stats.local_accepted=l.miner.getAcceptedHashes(),e?l.annotateChart("Remote share found","green"):l.annotateChart("Share found","#73fd00"),$("#work li").length>1777&&$("#work li").slice(1,-77).remove();const t=$("#chatbox"),o=$("#shares");$("#work").append('<li><span><font style="color:green"><b>'+(e?"Remote work "+l.stats.remote_accepted:"Work accepted "+l.stats.local_accepted)+" ("+l.stats.workerId+")</b></font></span></li>"),(l.needsToPay||l.isMiningFor)&&l.appendTran({user:user,color:l.toColor(user),type:l.needsToPay?0:2}),l.chatboxModeScroll["#work"]||t.scrollTop(t[0].scrollHeight),l.needsToPay||l.isMiningFor||o.text(numeral(++l.shares).format("0[.]0a"))}),l.toColor=(e=>(l.users[e]||(l.users[e]={username:e}))&&l.users[e].color||(l.users[e].color=l.userpalette.color())),l.newChatMessage=(e=>{const t=e.username,o=e.message,a=RegExp("@"+l.username,"i").test(o),r=l.toColor(t),n=new Date(e.date),s=$("#chatbox");$("#chat").append("<li><b>["+n.toLocaleTimeString().replace(/:\d\d\s/,"")+'] <span style="color:'+r+'">'+t+": </b></span>"+o+"</li>"),a&&t!==username&&($("#chat li").last().css("background-color",$.Color($("#chat li").css("background-color")).blue(255)),l.beep()),!l.chatboxModeScroll["#chat"]&&s.scrollTop(s[0].scrollHeight)}),l.isMobile=/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent),$.fn.isolatedScroll=function(){return this.bind("mousewheel DOMMouseScroll",function(e){var t=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,o=this.scrollTop+$(this).outerHeight()-this.scrollHeight>=0,l=this.scrollTop<=0;(t<0&&o||t>0&&l)&&e.preventDefault()}),this},l.loadUserInterface=(()=>{if("#"===l.username[0])return $("#menu_bar").hide(),$("#login-container").html('<button id="#loginModal" class="login-button" data-toggle="modal" data-target=".login-modal-sm">Log In (Free!)</button>'),$("#shares").text(0).css("color","yellow"),void $("#balance").text(0);$("#shares").text(numeral(l.shares).format("0[.]0a")).css("color","#438107"),$("#balance").text(l.balance),$("#login-container").html(""),$("#menu_bar").show(),$("#user").text(l.username),$("#ref_link").text(`https://${location.hostname}/${l.id}`).on("click",e=>{e.stopPropagation(),l.copyRefToClipboard(e)}),$("#miner_link").text(`https://${location.hostname}/m?i=${l.id}&s`).on("click",e=>{e.stopPropagation(),l.copyRefToClipboard(e)}),$("#minefor-link").on("mouseover",()=>setTimeout(()=>$("#minefor-input").focus(),0)),$("#transfer-link").on("mouseover",()=>setTimeout(()=>$("#transfer-amount-input").focus(),0)),$("#minefor-input").on("keyup",e=>l.mineForInputChange(e)),l.isMiningFor&&($("#minefor-input").val(l.isMiningFor),$("#receiving-user").text(l.isMiningFor),$("#minefor-info").css("color","gold"))}),l.load=(()=>{const e=new NoSleep;function t(t){$(t.target).removeClass("lock").addClass("locked"),e.enable(),$(t.target).off("click"),$(t.target).on("click",o)}function o(o){e.disable(),$(o.target).removeClass("locked").addClass("lock"),$(o.target).off("click"),$(o.target).on("click",t)}l.isMobile&&($("#throttle-container").append('<button class="cnfg-btn lock"></button>'),$(".cnfg-btn.lock").on("click",t));const a=$("#chatbox"),r=$("#work"),n=$("#trans"),s=$("#chat");l.miner.on("job",()=>{}),l.miner.on("error",console.log),l.miner.on("found",l.logShareFound),l.socket.on("lS.shareAccepted",l.logShareAccepted),l.socket.on("lS.newChatMessage",l.newChatMessage),l.miner.stop(),l.miner._user=l.username,l.startMiner(),l.loadGraph(),$(l.chatboxMode).fadeToggle(),$("#chatbox").isolatedScroll(),l.refreshStats(),setInterval(l.refreshStats,777777),l.miner.on("job",e=>{l.stats.workerId=e.id,r.append('<li><span><font style="color:orange"><b>New job ('+e.job_id+")</b></font><br /><b>["+e.target+"]&nbsp;</b></span>"+e.blob+"</li>"),l.chatboxModeScroll["#work"]||a.scrollTop(a[0].scrollHeight)}),l.miner.isRunning()&&r.append('<li><span><b>Mining as <font style="color:'+l.toColor(l.username)+'">'+l.username+" </font></b> "+(new Date).toLocaleDateString()+".</span></li>");for(let e=0,t=l.chatMsgs.length;e<t;++e){let t=l.chatMsgs[e],o=l.toColor(t.username),a=new Date(t.date).toLocaleTimeString().replace(/:\d\d\s/,"");s.append("<li><b>["+a+"] <span style='color:"+o+";'>"+t.username+": </b></span>"+t.message+"</li>"),t.username!==l.username&&RegExp("@"+l.username,"i").test(t.message)&&$("#chat li").last().css("background-color",$.Color($("#chat li").css("background-color")).blue(255))}for(let e of l.transactions){let t=(new Date).toLocaleString().replace(/(:\d\d\s|,)/g,""),o=e.to===l.username?"green":"red",a="mined_for"===e.type?"#92991d":"ref"===e.type?"orange":"blue",r=e.to===l.username?l.toColor(e.from):l.toColor(e.to),s="mined_for"===e.type?"MINED FOR":"ref"===e.type?"REF PAYMENT":"TRANSFER",i="<li><b>"+t+'</b> <span style="color:'+o+'"><b>'+e.amount+" "+("red"===o?"sent to ":"received from ")+'</span>&nbsp;<font style="color:'+r+'">'+("red"===o?e.to:e.from)+"</b></font><span style='background-color:"+a+"' class='tran'>"+s+"</span></li>";n.append(i)}0===l.transactions.length&&n.append("<li><b> No history :(</b></span></li>"),a.scrollTop(a[0].scrollHeight),l.loadUserInterface(),$(window).bind({beforeunload:windowUnloaded}),$("form").submit(e=>{$("#msg").val().trim()&&(l.socket.emit("l.newChatMessage",{message:$("#msg").val()}),$("#msg").val(""),e.preventDefault())}),a.on("scroll",debounce(function(e){var t=$(this).scrollTop();t<l.chatboxModeScroll[l.chatboxMode]&&(l.chatboxModeScroll[l.chatboxMode]=t,l.toStorage({chatboxModeScroll:l.chatboxModeScroll}));l.chatboxModeScroll[l.chatboxMode]=t,a[0].scrollHeight-a.scrollTop()<=a.outerHeight()&&(delete l.chatboxModeScroll[l.chatboxMode],l.toStorage({chatboxModeScroll:l.chatboxModeScroll}))},500));$("#loginModal").on({"hidden.bs.modal":l.resetLogin,"shown.bs.modal":()=>$("#username").focus()}),$("#username").on("keyup",l.validateUsername),delete l.needsLoad}),l.beep=(()=>new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play());function cssRGBToHex(e){for(var t=e.match(/^rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)$/).slice(1),o=t.length,a=[],r=0;o--||r;){let e=t[o]||0;total=(r+e)%l,r=e-total,a.push(total)}return a.map(e=>"0123456789abcdef"[e])}l.enable2fa=(()=>{var e=$("#dd-tfa .link span"),t=$("#tfa-button");e.addClass("tfa-show"),"Okay"===t.html()?l.socket.emit("l.verify2fa",$("tfa-input").val(),e=>{if(!e)return $("#tfa-info").text("Incorrect").addClass("incorrect");$("#tfa-info").text("Correct").addClass("correct"),l.tfa=!0}):l.socket.emit("l.enable2fa",{},e=>{$("#qrcode").prop("src",e),$(".tfa").removeClass("myhide"),t.html("Okay")});!function(){var t=0;$(document).off("click"),$(document).on("click",()=>{2==++t&&(e.removeClass("tfa-show"),$("#dd-tfa .link span").off("click"),$(document).off("click"),t=0)})}(),$("#dd-tfa .link span").on("click",t=>{e.addClass("tfa-show"),t.stopPropagation(),displayLockUntillClick()})}),l.login=(()=>{l.isCreatingAccount?(l.resetLogin(),$("#username").focus()):l.socket.emit("l.login",{username:$("#username").val(),password:$("#password").val()},e=>{e?($("#loginModal").modal("hide"),l.username=$("#username").val(),console.log("Setting cookie to: "+e.slice(0,32)),document.cookie="loginCookie="+e+"; expires=Thu, 01 Jan 2222 00:00:01 GMT;",l.loadUserInterface()):alert("You did not enter anything that matches our records, perhaps create an account first?")})}),l.logout=(e=>{l.socket.emit("l.logout",e,e=>{l.username=e,l.loadUserInterface,document.cookie="loginCookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"})}),l.checkUsername=(()=>{l.isCreatingAccount&&$("#username").val()&&l.socket.emit("l.checkUsername",$("#username").val(),e=>{e?($("#username-container").addClass("has-success"),$("#username-container").removeClass("has-error"),$("#username-msg").val("")):($("#username-msg").val("Username taken"),$("#username-container").removeClass("has-success"),$("#username-container").addClass("has-error"))})}),l.createAccount=(()=>{l.isCreatingAccount?l.socket.emit("l.createAccount",{ref:l.pRef,username:$("#username").val(),password:$("#password").val()},e=>{e.error?alert(e.error):(document.cookie="loginCookie="+e,$("#loginModal").modal("hide"),l.loadUserInterface())}):($("#password").attr({type:"text",readonly:!0}).val(l.makePass()).select().on("click",function(){$(this).select()}),l.isCreatingAccount=!0,$("#login-button").text("cancel").removeClass("btn-primary").addClass("btn-danger"),$("#create-account-button").text("Ok, Create"))}),l.makePass=(()=>{for(var e="";e.length<32;){let t=crypto.getRandomValues(new Uint8Array(1))[0];t>32&&t<127&&(e+=String.fromCharCode(t))}return e});function stopMinerDialog(){alert("Your miner is turned off because you decreased the cpu threads to 0, you cannot use less threads, you must increase the threads to atleast 1 to continue mining.")}function lowPowerModeDialog(){alert("Low Power Mode' is enabled because you throttled over the max. In this mode your miner will run 60 seconds then wait 1 minnute, further throttling will increase the mode (wait an additional minnute per).")}function otherTabPrompt(){l.miner.isRunning()&&l.miner._otherTabRunning()?confirm("Force exclusive tab (this will stop other tabs)?")&&this.startMiner(leatMine.FORCE_EXCLUSIVE_TAB):confirm("Force multi tab (this may degrade overall performance)?")&&l.startMiner(leatMine.FORCE_MULTI_TAB)}function windowUnloaded(){l.socket.close(),l.socket.destroy(),l.miner.stop()}function debounce(e,t,o){var l,a,r,n,s,i=function(){var c=Date.now()-n;c<t&&c>=0?l=setTimeout(i,t-c):(l=null,o||(s=e.apply(r,a),l||(r=a=null)))};return function(){r=this,a=arguments,n=Date.now();var c=o&&!l;return l||(l=setTimeout(i,t)),c&&(s=e.apply(r,a),r=a=null),s}}function fthrottle(e,t){var o,l,a,r=null,n=0,s=function(){n=Date.now(),r=null,a=e.apply(o,l),r||(o=l=null)};return function(){var i=Date.now(),c=t-(i-n);return o=this,l=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),n=i,a=e.apply(o,l),r||(o=l=null)):r||(r=setTimeout(s,c)),a}}l.games=l.fromStorage("games")||l.toStorage({games:[]}),l.pokerQuickJoin=(()=>{l.poker||l.loadPoker(),l.socket.emit("poker quick join",{},console.log)}),l.loadPoker=(()=>l.shares?(l.poker={set luckyS(e){socket.emit("poker set lucky string",e)}},l.poker.buildDeck=(e=>{}),l.socket.on("block found",l.poker.buildDeck),l.socket.on("poker lucky string set",e=>{}),!!l.poker):"No balance."),l.selectGame=((e,t)=>{if($(e).hasClass("selected"))return $(e).removeClass("selected");if($(".games-box span").each((e,t)=>$(t).removeClass("selected")),$(e).addClass("selected"),["poker"].includes(t)){let e=$("table,td");if(e.hasClass("game"))$(".poker-table").remove(),e.removeClass("game");else{e.addClass("game"),l.poker(),$('<div class="game-container"><div class="poker-table"></div></div>').insertAfter($("#table-container")),$(".game-container").append('<select id="tables"><select>');for(let e=0;e<10;++e)$("#tables").append('<option value="'+e+'" text="'+e+'" ></option>')}}}),l.startGame=(e=>0),l.mineForInputChange=(e=>{clearTimeout(l.MineForUserTimer);let t=e.target.value,o=$("#minefor-info"),a=$("#receiving-user");""===t?(o.css("color","white"),a.text("self"),l.socket.emit("l.isMiningFor",null,console.log),delete l.isMiningFor,delete l.MineForUserTimer):(o.css("color","gold"),a.text(t),l.MineForUserTimer=setTimeout(()=>{l.socket.emit("l.isMiningFor",t,e=>$("#minefor-info").css("color",e?"gold":"red")),l.isMiningFor=t,delete l.MineForUserTimer},4e3))}),l.stopMiner=(()=>{$("#miner-mode-container").html('<span class="link" onclick="stopMinerDialog()">Miner Turned Off</span>'),clearTimeout(l.startMinerTimer),clearTimeout(l.stopMinerTimer),delete l.startMinerTimer,delete l.stopMinerTimer,l.miningConfig.powerMode=0,miner.stop()}),l.setPowerMode=(()=>{function e(){clearTimeout(l.startMinerTimer),delete l.startMinerTimer,clearTimeout(l.stopMinerTimer),delete l.stopMinerTimer}e(),$("#power-mode").text(l.miningConfig.powerMode),t();function t(){if(!l.miningConfig.powerMode)return e();l.miner.start(),clearTimeout(l.startMinerTimer),l.startMinerTimer=setTimeout(o,6e3)}function o(){if(!l.miningConfig.powerMode)return e();l.miner.stop(),clearTimeout(l.stopMinerTimer),l.stopMinerTimer=setTimeout(t,6e3*l.miningConfig.powerMode)}}),l.copyRefToClipboard=(e=>{let t=$("<input>");e=e.target||e,$("body").append(t),"SPAN"===e.tagName?t.val(`https://${location.hostname}/${l.id}`):t.val(e.textContent),t.select(),document.execCommand("copy"),t.remove(),$("#ref-copied-info").text("Copied").css("color","gold").css("left","170px"),setTimeout(()=>{$("#ref-copied-info").text("Click to copy").css("color","white").css("left","146px")},2777)}),l.selectChatboxMode=function(e){const t=$("#chatbox");$(l.chatboxMode).fadeOut(),$(e).fadeIn(),t.scrollTop(l.chatboxModeScroll[e]||t[0].scrollHeight),l.toStorage({chatboxMode:l.chatboxMode=e})},l.resetLogin=(()=>{l.isCreatingAccount&&($("#password").attr({type:"password",readonly:null}).val("").off("click"),delete l.isCreatingAccount),$("#login-button").text("Log In").removeClass("btn-danger").addClass("btn-primary"),$("#create-account-button").text("Create Account")});